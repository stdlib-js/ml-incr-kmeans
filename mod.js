// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function t(t){if(t.__esModule)return t;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=function(){try{return r({},"x",{}),!0}catch(t){return!1}},n=Object.defineProperty,i=Object.prototype,o=i.toString,a=i.__defineGetter__,u=i.__defineSetter__,f=i.__lookupGetter__,s=i.__lookupSetter__;var c=function(t,r,e){var n,c,l,h;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof e||null===e||"[object Array]"===o.call(e))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+e+"`.");if((c="value"in e)&&(f.call(t,r)||s.call(t,r)?(n=t.__proto__,t.__proto__=i,delete t[r],t[r]=e.value,t.__proto__=n):t[r]=e.value),l="get"in e,h="set"in e,c&&(l||h))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return l&&a&&a.call(t,r,e.get),h&&u&&u.call(t,r,e.set),t},l=n,h=c,p=e()?l:h,g=p;var v=function(t,r,e){g(t,r,{configurable:!1,enumerable:!1,writable:!1,value:e})},y=v;var d=function(t){return"number"==typeof t};var m=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var w=function(){return m&&"symbol"==typeof Symbol.toStringTag},b=Object.prototype.toString,E=b;var _=function(t){return E.call(t)},A=Object.prototype.hasOwnProperty;var O=function(t,r){return null!=t&&A.call(t,r)},T="function"==typeof Symbol?Symbol.toStringTag:"",P=O,R=T,j=b;var I=_,U=function(t){var r,e,n;if(null==t)return j.call(t);e=t[R],r=P(t,R);try{t[R]=void 0}catch(r){return j.call(t)}return n=j.call(t),r?t[R]=e:delete t[R],n},N=w()?U:I,S=Number,M=S.prototype.toString;var B=N,x=S,L=function(t){try{return M.call(t),!0}catch(t){return!1}},V=w();var Y=function(t){return"object"==typeof t&&(t instanceof x||(V?L(t):"[object Number]"===B(t)))},C=d,z=Y;var F=y,k=function(t){return C(t)||z(t)},D=Y;F(k,"isPrimitive",d),F(k,"isObject",D);var G=k,q=Number.POSITIVE_INFINITY,J=S.NEGATIVE_INFINITY,X=Math.floor,W=X;var $=function(t){return W(t)===t},H=q,Z=J,K=$;var Q=function(t){return t<H&&t>Z&&K(t)},tt=G.isPrimitive,rt=Q;var et=function(t){return tt(t)&&rt(t)},nt=G.isObject,it=Q;var ot=function(t){return nt(t)&&it(t.valueOf())},at=et,ut=ot;var ft=y,st=function(t){return at(t)||ut(t)},ct=ot;ft(st,"isPrimitive",et),ft(st,"isObject",ct);var lt=st,ht=lt.isPrimitive;var pt=function(t){return ht(t)&&t>0},gt=lt.isObject;var vt=function(t){return gt(t)&&t.valueOf()>0},yt=pt,dt=vt;var mt=y,wt=function(t){return yt(t)||dt(t)},bt=vt;mt(wt,"isPrimitive",pt),mt(wt,"isObject",bt);var Et=wt;var _t=function(t){return"boolean"==typeof t},At=Boolean.prototype.toString;var Ot=N,Tt=function(t){try{return At.call(t),!0}catch(t){return!1}},Pt=w();var Rt=function(t){return"object"==typeof t&&(t instanceof Boolean||(Pt?Tt(t):"[object Boolean]"===Ot(t)))},jt=_t,It=Rt;var Ut=y,Nt=function(t){return jt(t)||It(t)},St=Rt;Ut(Nt,"isPrimitive",_t),Ut(Nt,"isObject",St);var Mt=Nt;var Bt=function(){return new Function("return this;")()},xt="object"==typeof self?self:null,Lt="object"==typeof window?window:null,Vt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Yt="object"==typeof Vt?Vt:null;module.exports=Yt;var Ct=Mt.isPrimitive,zt=Bt,Ft=xt,kt=Lt,Dt=t(Object.freeze({__proto__:null}));var Gt=function(t){if(arguments.length){if(!Ct(t))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+t+"`.");if(t)return zt()}if(Ft)return Ft;if(kt)return kt;if(Dt)return Dt;throw new Error("unexpected error. Unable to resolve global object.")},qt=Gt,Jt=qt();var Xt=function(){return"function"==typeof Jt.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Jt.BigInt("1")&&"bigint"==typeof BigInt("1")},Wt=p;var $t=function(t,r,e){Wt(t,r,{configurable:!1,enumerable:!1,get:e})},Ht=$t,Zt={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};var Kt=function(t){return Zt[t]||null};var Qt=function(t){var r,e;for(r=0,e=0;e<t.length;e++)t[e]<0&&(r+=1);return 0===r?1:r===t.length?-1:0};var tr=function(t){return Math.abs(t)},rr=tr;var er=function(t){var r,e,n,i,o,a;if(0===(e=t.length))return 0;for(r=!0,n=!0,i=rr(t[0]),a=1;a<e;a++){if(o=rr(t[a]),r&&o<i?r=!1:n&&o>i&&(n=!1),!n&&!r)return 0;i=o}return n&&r?3:n?1:2};var nr=function(t,r){return r&&(2===t||3===t)};var ir=function(t,r){return r&&(1===t||3===t)};var or=function(t,r,e){var n,i,o,a,u;for(n=t.length,i=e,o=e,u=0;u<n;u++)(a=r[u])>0?o+=a*(t[u]-1):a<0&&(i+=a*(t[u]-1));return[i,o]};var ar=function(t,r,e,n){var i,o,a,u,f;for(i=t.length,o=e,a=e,f=0;f<i;f++)(u=r[f])>0?a+=u*(t[f]-1):u<0&&(o+=u*(t[f]-1));return n[0]=o,n[1]=a,n},ur=or;y(ur,"assign",ar);var fr=ur,sr=fr;var cr=function(t,r,e,n,i){var o;return 0!==t&&0!==i&&t===(o=sr(r,e,n))[1]-o[0]+1};var lr=function(t){return{ROW_MAJOR_CONTIGUOUS:t.ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS}};var hr=function(t){var r,e,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(e=this._shape,r=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)t-=o=t%e[a],t/=e[a],i+=o*r[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%e[a],t/=e[a],i+=o*r[a];return this._accessors?this._buffer.get(i):this._buffer[i]};var pr=function(t,r){var e,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset+t):this._buffer[this._offset+t]=r,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(r,this._offset-t):this._buffer[this._offset-t]=r,this}if(n=this._shape,e=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*e[u];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*e[u];return this._accessors?this._buffer.set(r,o):this._buffer[o]=r,this};var gr=function(){var t,r;for(t=this._offset,r=0;r<arguments.length-1;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.set(arguments[r],t):this._buffer[t]=arguments[r],this};var vr=function(){var t,r;for(t=this._offset,r=0;r<arguments.length;r++)t+=this._strides[r]*arguments[r];return this._accessors?this._buffer.get(t):this._buffer[t]};var yr=function(t){return t.re};var dr=function(t){return t.im},mr=yr,wr=dr;var br=function(){var t,r,e,n;for(r=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<r;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<r;n++)e=this.iget(n),t.data.push(mr(e),wr(e));else for(n=0;n<r;n++)t.data.push(this.iget(n));return t};var Er=function(t){return"string"==typeof t},_r=String.prototype.valueOf;var Ar=N,Or=function(t){try{return _r.call(t),!0}catch(t){return!1}},Tr=w();var Pr=function(t){return"object"==typeof t&&(t instanceof String||(Tr?Or(t):"[object String]"===Ar(t)))},Rr=Er,jr=Pr;var Ir=y,Ur=function(t){return Rr(t)||jr(t)},Nr=Pr;Ir(Ur,"isPrimitive",Er),Ir(Ur,"isObject",Nr);var Sr=Ur,Mr=Sr.isPrimitive,Br=/[-\/\\^$*+?.()|[\]{}]/g;var xr=function(t){var r,e;if(!Mr(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");if("/"===t[0])for(e=t.length-1;e>=0&&"/"!==t[e];e--);return void 0===e||e<=0?t.replace(Br,"\\$&"):(r=(r=t.substring(1,e)).replace(Br,"\\$&"),t=t[0]+r+t.substring(e))},Lr=/./,Vr=qt(),Yr=Vr.document&&Vr.document.childNodes,Cr=Int8Array,zr=Lr,Fr=Yr,kr=Cr;var Dr=function(){return"function"==typeof zr||"object"==typeof kr||"function"==typeof Fr};var Gr=function(){return/^\s*function\s*([^(]*)/i},qr=Gr;y(qr,"REGEXP",Gr());var Jr=qr,Xr=N;var Wr=Array.isArray?Array.isArray:function(t){return"[object Array]"===Xr(t)},$r=Wr;var Hr=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!$r(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}};var Zr=function(t){return null!==t&&"object"==typeof t};y(Zr,"isObjectLikeArray",Hr(Zr));var Kr=Zr,Qr=Kr;var te=function(t){return Qr(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))},re=N,ee=Jr.REGEXP,ne=te;var ie=function(t){var r,e,n;if(("Object"===(e=re(t).slice(8,-1))||"Error"===e)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(r=ee.exec(n.toString()))return r[1]}return ne(t)?"Buffer":e},oe=ie,ae=oe;var ue=function(t){var r;return null===t?"null":"object"===(r=typeof t)?ae(t).toLowerCase():r},fe=oe;var se=ue,ce=function(t){return fe(t).toLowerCase()},le=Dr()?ce:se,he=le;var pe=function(t){return"function"===he(t)},ge=RegExp.prototype.exec;var ve=N,ye=function(t){try{return ge.call(t),!0}catch(t){return!1}},de=w();var me=xr,we=pe,be=Sr.isPrimitive,Ee=function(t){return"object"==typeof t&&(t instanceof RegExp||(de?ye(t):"[object RegExp]"===ve(t)))};var _e=function(t,r,e){if(!be(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(be(r))r=me(r),r=new RegExp(r,"g");else if(!Ee(r))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+r+"`.");if(!be(e)&&!we(e))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+e+"`.");return t.replace(r,e)},Ae=yr,Oe=dr,Te={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var Pe=function(){var t,r,e,n,i,o,a;if(r=this._shape.length,n="ndarray( '"+(i=this._dtype)+"', ",t="",this._length<=100)if("complex64"===i||"complex128"===i)for(a=0;a<this._length;a++)o=this.iget(a),t+=Ae(o)+", "+Oe(o),a<this._length-1&&(t+=", ");else for(a=0;a<this._length;a++)t+=this.iget(a),a<this._length-1&&(t+=", ");else{if("complex64"===i||"complex128"===i)for(a=0;a<3;a++)o=this.iget(a),t+=Ae(o)+", "+Oe(o),a<2&&(t+=", ");else for(a=0;a<3;a++)t+=this.iget(a),a<2&&(t+=", ");if(t+=", ..., ","complex64"===i||"complex128"===i)for(a=2;a>=0;a--)o=this.iget(this._length-1-a),t+=Ae(o)+", "+Oe(o),a>0&&(t+=", ");else for(a=2;a>=0;a--)t+=this.iget(this._length-1-a),a>0&&(t+=", ")}if(e=Te[this.dtype],n+=_e(e,"{{data}}",t),n+=", ",n+=0===r?"[]":"[ "+this._shape.join(", ")+" ]",n+=", ",n+="[ ",0===r)n+="0";else for(a=0;a<r;a++)this._strides[a]<0?n+=-this._strides[a]:n+=this._strides[a],a<r-1&&(n+=", ");return n+=" ]",n+=", ",n+="0",n+=", ",n+="'"+this._order+"'",n+=" )"},Re=N,je="function"==typeof Uint8Array;var Ie="function"==typeof Uint8Array?Uint8Array:null,Ue=function(t){return je&&t instanceof Uint8Array||"[object Uint8Array]"===Re(t)},Ne=Ie;var Se=function(){var t,r;if("function"!=typeof Ne)return!1;try{r=new Ne(r=[1,3.14,-3.14,256,257]),t=Ue(r)&&1===r[0]&&3===r[1]&&253===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var Me="function"==typeof Uint8Array?Uint8Array:void 0,Be=function(){throw new Error("not implemented")},xe=Se()?Me:Be,Le=N,Ve="function"==typeof Uint16Array;var Ye="function"==typeof Uint16Array?Uint16Array:null,Ce=function(t){return Ve&&t instanceof Uint16Array||"[object Uint16Array]"===Le(t)},ze=Ye;var Fe=function(){var t,r;if("function"!=typeof ze)return!1;try{r=new ze(r=[1,3.14,-3.14,65536,65537]),t=Ce(r)&&1===r[0]&&3===r[1]&&65533===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var ke,De="function"==typeof Uint16Array?Uint16Array:void 0,Ge=function(){throw new Error("not implemented")},qe=Fe()?De:Ge,Je={uint16:qe,uint8:xe};(ke=new Je.uint16(1))[0]=4660;var Xe=52===new Je.uint8(ke.buffer)[0],We=N,$e="function"==typeof ArrayBuffer;var He=function(t){return $e&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===We(t)},Ze=N,Ke="function"==typeof Float64Array;var Qe="function"==typeof Float64Array?Float64Array:null,tn=function(t){return Ke&&t instanceof Float64Array||"[object Float64Array]"===Ze(t)},rn=Qe;var en=function(){var t,r;if("function"!=typeof rn)return!1;try{r=new rn([1,3.14,-3.14,NaN]),t=tn(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){t=!1}return t},nn=en;var on="function"==typeof Float64Array?Float64Array:void 0,an=function(){throw new Error("not implemented")},un=nn()?on:an,fn="function"==typeof ArrayBuffer?ArrayBuffer:null,sn=He,cn=un,ln=fn;var hn=function(){var t,r,e;if("function"!=typeof ln)return!1;try{e=new ln(16),(t=sn(e)&&"function"==typeof ln.isView)&&((r=new cn(e))[0]=-3.14,r[1]=NaN,t=t&&ln.isView(r)&&16===e.byteLength&&-3.14===r[0]&&r[1]!=r[1])}catch(r){t=!1}return t};var pn="function"==typeof ArrayBuffer?ArrayBuffer:void 0,gn=function(){throw new Error("not implemented")},vn=hn()?pn:gn,yn=N,dn="function"==typeof DataView;var mn="function"==typeof DataView?DataView:null,wn=function(t){return dn&&t instanceof DataView||"[object DataView]"===yn(t)},bn=vn,En=mn;var _n=function(){var t,r,e;if("function"!=typeof En)return!1;try{e=new bn(24),r=new En(e,8),(t=wn(r)&&"function"==typeof r.getFloat64&&"function"==typeof r.setFloat64)&&(r.setFloat64(0,-3.14),r.setFloat64(8,NaN),t=t&&r.buffer===e&&16===r.byteLength&&8===r.byteOffset&&-3.14===r.getFloat64(0)&&r.getFloat64(8)!=r.getFloat64(8))}catch(r){t=!1}return t};var An="function"==typeof DataView?DataView:void 0,On=function(){throw new Error("not implemented")},Tn=_n()?An:On,Pn="function"==typeof BigInt?BigInt:void 0,Rn=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];var jn=function(){return Rn.slice()};y(jn,"enum",(function(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}));var In=jn,Un=["row-major","column-major"];var Nn=function(){return Un.slice()};y(Nn,"enum",(function(){return{"row-major":1,"column-major":2}}));var Sn=Nn,Mn=["throw","clamp","wrap"];var Bn=function(){return Mn.slice()};y(Bn,"enum",(function(){return{throw:1,clamp:2,wrap:3}}));var xn=Bn,Ln=Xe,Vn=vn,Yn=Tn,Cn=Pn,zn=Sn.enum,Fn=xn.enum,kn=(0,In.enum)(),Dn=zn(),Gn=Fn();var qn=function(){var t,r,e,n,i,o,a,u,f,s,c,l,h;if(u=this._mode||"throw",o=this._submode||[u],r=29+16*(c=this._ndims)+(l=o.length),(a=this.__meta_dataview__)&&a.byteLength===r)return a;for(a=new Yn(new Vn(r)),n=this._shape,i=this._strides,e=this._dtype,t=this._bytesPerElement,f=0,a.setInt8(f,Ln?1:0),f+=1,a.setInt16(f,kn[e],Ln),f+=2,a.setBigInt64(f,Cn(c),Ln),s=8*c,f+=8,h=0;h<c;h++)a.setBigInt64(f,Cn(n[h]),Ln),a.setBigInt64(f+s,Cn(i[h]*t),Ln),f+=8;for(f+=s,a.setBigInt64(f,Cn(this._offset*t),Ln),f+=8,a.setInt8(f,Dn[this._order]),f+=1,a.setInt8(f,Gn[u]),f+=1,a.setBigInt64(f,Cn(l),Ln),f+=8,h=0;h<l;h++)a.setInt8(f,Gn[o[h]]),f+=1;return this.__meta_dataview__=a,a},Jn=Xe,Xn=xe,Wn=Tn,$n=X;var Hn=function(t){var r,e,n,i;return r=new Xn(8),0===t||(i=(4294967295&t)>>>0,n=$n(t/4294967296),e=new Wn(r.buffer),Jn?(e.setUint32(0,i,Jn),e.setUint32(4,n,Jn)):(e.setUint32(0,n,Jn),e.setUint32(4,i,Jn))),r},Zn=Xe,Kn=Tn,Qn=X,ti=new xe(8),ri=new Kn(ti.buffer);var ei=Hn;y(ei,"assign",(function(t,r,e,n){var i,o,a;if(0===t){for(a=0;a<ti.length;a++)r[n]=0,n+=e;return r}for(o=(4294967295&t)>>>0,i=Qn(t/4294967296),Zn?(ri.setUint32(0,o,Zn),ri.setUint32(4,i,Zn)):(ri.setUint32(0,i,Zn),ri.setUint32(4,o,Zn)),a=0;a<ti.length;a++)r[n]=ti[a],n+=e;return r}));var ni=Xe,ii=vn,oi=Tn,ai=xe,ui=Sn.enum,fi=xn.enum,si=ei.assign,ci=(0,In.enum)(),li=ui(),hi=fi();var pi=function(){var t,r,e,n,i,o,a,u,f,s,c,l,h,p;if(f=this._mode||"throw",a=this._submode||[f],e=29+16*(l=this._ndims)+(h=a.length),(u=this.__meta_dataview__)&&u.byteLength===e)return u;for(u=new oi(new ii(e)),r=new ai(u.buffer),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,s=0,u.setInt8(s,ni?1:0),s+=1,u.setInt16(s,ci[n],ni),si(l,r,1,s+=2),c=8*l,s+=8,p=0;p<l;p++)si(i[p],r,1,s),si(o[p]*t,r,1,s+c),s+=8;for(s+=c,si(this._offset*t,r,1,s),s+=8,u.setInt8(s,li[this._order]),s+=1,u.setInt8(s,hi[f]),si(h,r,1,s+=1),s+=8,p=0;p<h;p++)u.setInt8(s,hi[a[p]]),s+=1;return this.__meta_dataview__=u,u},gi=Xt,vi=y,yi=Ht,di=Kt,mi=Qt,wi=er,bi=nr,Ei=ir,_i=cr,Ai=lr,Oi=hr,Ti=pr,Pi=gr,Ri=vr,ji=br,Ii=Pe,Ui=qn,Ni=pi;function Si(t,r,e,n,i,o){var a,u,f,s,c;if(!(this instanceof Si))return new Si(t,r,e,n,i,o);for(s=1,c=0;c<e.length;c++)s*=e[c];return u=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT*s:null,this._byteLength=u,this._bytesPerElement=di(t),this._buffer=r,this._dtype=t,this._length=s,this._ndims=e.length,this._offset=i,this._order=o,this._shape=e,this._strides=n,this._accessors=Boolean(r.get&&r.set),this._iterationOrder=mi(n),a=_i(s,e,n,i,this._iterationOrder),f=wi(n),this._flags={ROW_MAJOR_CONTIGUOUS:Ei(f,a),COLUMN_MAJOR_CONTIGUOUS:bi(f,a)},this.__meta_dataview__=null,this}vi(Si,"name","ndarray"),yi(Si.prototype,"byteLength",(function(){return this._byteLength})),yi(Si.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),yi(Si.prototype,"data",(function(){return this._buffer})),yi(Si.prototype,"dtype",(function(){return this._dtype})),yi(Si.prototype,"flags",(function(){return Ai(this._flags)})),yi(Si.prototype,"length",(function(){return this._length})),yi(Si.prototype,"ndims",(function(){return this._ndims})),yi(Si.prototype,"offset",(function(){return this._offset})),yi(Si.prototype,"order",(function(){return this._order})),yi(Si.prototype,"shape",(function(){return this._shape.slice()})),yi(Si.prototype,"strides",(function(){return this._strides.slice()})),vi(Si.prototype,"get",Ri),vi(Si.prototype,"iget",Oi),vi(Si.prototype,"set",Pi),vi(Si.prototype,"iset",Ti),vi(Si.prototype,"toString",Ii),vi(Si.prototype,"toJSON",ji),vi(Si.prototype,"__array_meta_dataview__",gi()?Ui:Ni);var Mi=Si,Bi=Mi;var xi=function(t){return t instanceof Bi||null!==t&&"object"==typeof t&&"object"==typeof t.data&&"object"==typeof t.shape&&"object"==typeof t.strides&&"number"==typeof t.offset&&"string"==typeof t.order&&"number"==typeof t.ndims&&"string"==typeof t.dtype&&"number"==typeof t.length&&"object"==typeof t.flags&&"function"==typeof t.get&&"function"==typeof t.set},Li=xi;var Vi=function(t){return Li(t)&&2===t.ndims&&2===t.shape.length&&2===t.strides.length},Yi=xi;var Ci=function(t){return Yi(t)&&1===t.ndims&&1===t.shape.length&&1===t.strides.length},zi=p;var Fi=function(t,r,e,n){zi(t,r,{configurable:!1,enumerable:!1,get:e,set:n})},ki=Fi,Di=Wr;var Gi=function(t){return"object"==typeof t&&null!==t&&!Di(t)},qi=Object.getPrototypeOf;var Ji=function(t){return t.__proto__},Xi=N,Wi=Ji;var $i=function(t){var r=Wi(t);return r||null===r?r:"[object Function]"===Xi(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null},Hi=qi,Zi=$i,Ki=pe(Object.getPrototypeOf)?Hi:Zi;var Qi=function(t){return null==t?null:(t=Object(t),Ki(t))},to=Gi,ro=pe,eo=Qi,no=O,io=N,oo=Object.prototype;var ao=function(t){var r;return!!to(t)&&(!(r=eo(t))||!no(t,"constructor")&&no(r,"constructor")&&ro(r.constructor)&&"[object Function]"===io(r.constructor)&&no(r,"isPrototypeOf")&&ro(r.isPrototypeOf)&&(r===oo||function(t){var r;for(r in t)if(!no(t,r))return!1;return!0}(t)))},uo=ao,fo=$;var so=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&fo(t.length)&&t.length>=0&&t.length<=9007199254740991},co=N,lo="function"==typeof Int32Array;var ho=function(t){return lo&&t instanceof Int32Array||"[object Int32Array]"===co(t)};var po=function(t,r,e,n,i){var o,a,u,f;if(t<=0)return n;if(1===e&&1===i){if((u=t%8)>0)for(f=0;f<u;f++)n[f]=r[f];if(t<8)return n;for(f=u;f<t;f+=8)n[f]=r[f],n[f+1]=r[f+1],n[f+2]=r[f+2],n[f+3]=r[f+3],n[f+4]=r[f+4],n[f+5]=r[f+5],n[f+6]=r[f+6],n[f+7]=r[f+7];return n}for(o=e<0?(1-t)*e:0,a=i<0?(1-t)*i:0,f=0;f<t;f++)n[a]=r[o],o+=e,a+=i;return n};var go=function(t,r,e,n,i,o,a){var u,f,s,c;if(t<=0)return i;if(u=n,f=a,1===e&&1===o){if((s=t%8)>0)for(c=0;c<s;c++)i[f]=r[u],u+=e,f+=o;if(t<8)return i;for(c=s;c<t;c+=8)i[f]=r[u],i[f+1]=r[u+1],i[f+2]=r[u+2],i[f+3]=r[u+3],i[f+4]=r[u+4],i[f+5]=r[u+5],i[f+6]=r[u+6],i[f+7]=r[u+7],u+=8,f+=8;return i}for(c=0;c<t;c++)i[f]=r[u],u+=e,f+=o;return i},vo=po;y(vo,"ndarray",go);var yo=vo,mo="function"==typeof Int32Array?Int32Array:null,wo=ho,bo=mo;var Eo=function(){var t,r;if("function"!=typeof bo)return!1;try{r=new bo([1,3.14,-3.14,2147483648]),t=wo(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-2147483648===r[3]}catch(r){t=!1}return t};var _o="function"==typeof Int32Array?Int32Array:void 0,Ao=function(){throw new Error("not implemented")},Oo=Eo()?_o:Ao;var To=function(){};var Po=pe,Ro=Jr.REGEXP,jo=function(){return"foo"===To.name}();var Io=function(t){if(!1===Po(t))throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return jo?t.name:Ro.exec(t.toString())[1]},Uo=N,No="function"==typeof Int8Array;var So="function"==typeof Int8Array?Int8Array:null,Mo=function(t){return No&&t instanceof Int8Array||"[object Int8Array]"===Uo(t)},Bo=So;var xo=function(){var t,r;if("function"!=typeof Bo)return!1;try{r=new Bo([1,3.14,-3.14,128]),t=Mo(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-128===r[3]}catch(r){t=!1}return t};var Lo="function"==typeof Int8Array?Int8Array:void 0,Vo=function(){throw new Error("not implemented")},Yo=xo()?Lo:Vo,Co=N,zo="function"==typeof Uint8ClampedArray;var Fo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null,ko=function(t){return zo&&t instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===Co(t)},Do=Fo;var Go=function(){var t,r;if("function"!=typeof Do)return!1;try{r=new Do([-1,0,1,3.14,4.99,255,256]),t=ko(r)&&0===r[0]&&0===r[1]&&1===r[2]&&3===r[3]&&5===r[4]&&255===r[5]&&255===r[6]}catch(r){t=!1}return t};var qo="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0,Jo=function(){throw new Error("not implemented")},Xo=Go()?qo:Jo,Wo=N,$o="function"==typeof Int16Array;var Ho="function"==typeof Int16Array?Int16Array:null,Zo=function(t){return $o&&t instanceof Int16Array||"[object Int16Array]"===Wo(t)},Ko=Ho;var Qo=function(){var t,r;if("function"!=typeof Ko)return!1;try{r=new Ko([1,3.14,-3.14,32768]),t=Zo(r)&&1===r[0]&&3===r[1]&&-3===r[2]&&-32768===r[3]}catch(r){t=!1}return t};var ta="function"==typeof Int16Array?Int16Array:void 0,ra=function(){throw new Error("not implemented")},ea=Qo()?ta:ra,na=N,ia="function"==typeof Uint32Array;var oa=function(t){return ia&&t instanceof Uint32Array||"[object Uint32Array]"===na(t)},aa="function"==typeof Uint32Array?Uint32Array:null,ua=oa,fa=aa;var sa=function(){var t,r;if("function"!=typeof fa)return!1;try{r=new fa(r=[1,3.14,-3.14,4294967296,4294967297]),t=ua(r)&&1===r[0]&&3===r[1]&&4294967293===r[2]&&0===r[3]&&1===r[4]}catch(r){t=!1}return t};var ca="function"==typeof Uint32Array?Uint32Array:void 0,la=function(){throw new Error("not implemented")},ha=sa()?ca:la,pa=N,ga="function"==typeof Float32Array;var va="function"==typeof Float32Array?Float32Array:null,ya=function(t){return ga&&t instanceof Float32Array||"[object Float32Array]"===pa(t)},da=q,ma=va;var wa=function(){var t,r;if("function"!=typeof ma)return!1;try{r=new ma([1,3.14,-3.14,5e40]),t=ya(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===da}catch(r){t=!1}return t};var ba="function"==typeof Float32Array?Float32Array:void 0,Ea=function(){throw new Error("not implemented")},_a=wa()?ba:Ea,Aa=oe,Oa=Io,Ta=Qi,Pa=un,Ra=[un,_a,Oo,ha,ea,qe,Yo,xe,Xo],ja=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],Ia=nn()?Ta(Pa):Ua;function Ua(){}Ia="TypedArray"===Oa(Ia)?Ia:Ua;var Na=function(t){var r,e;if("object"!=typeof t||null===t)return!1;if(t instanceof Ia)return!0;for(e=0;e<Ra.length;e++)if(t instanceof Ra[e])return!0;for(;t;){for(r=Aa(t),e=0;e<ja.length;e++)if(ja[e]===r)return!0;t=Ta(t)}return!1};var Sa=function(t,r){if("function"!=typeof r)throw new TypeError("invalid argument. `constructor` argument must be callable. Value: `"+r+"`.");return t instanceof r},Ma=oe,Ba=Qi,xa=[[un,"Float64Array"],[_a,"Float32Array"],[Oo,"Int32Array"],[ha,"Uint32Array"],[ea,"Int16Array"],[qe,"Uint16Array"],[Yo,"Int8Array"],[xe,"Uint8Array"],[Xo,"Uint8ClampedArray"]];var La=Na,Va=function(t){var r,e;for(e=0;e<xa.length;e++)if(Sa(t,xa[e][0]))return xa[e][1];for(;t;){for(r=Ma(t),e=0;e<xa.length;e++)if(r===xa[e][1])return xa[e][1];t=Ba(t)}};var Ya=function(t){var r,e;if(!La(t))throw new TypeError("invalid argument. Must provide a typed array. Value: `"+t+"`.");for((r={}).type=Va(t),r.data=[],e=0;e<t.length;e++)r.data.push(t[e]);return r};var Ca=function(t){return t!=t},za=Ca;var Fa=function(t,r,e){var n,i;for(i=0;i<8;i++)if(n=t(),za(n))throw new Error("unexpected error. PRNG returned `NaN`.");for(i=e-1;i>=0;i--)r[i]=t();return r},ka=X;var Da=function(){return 0|ka(1+2147483646*Math.random())},Ga=y,qa=Ht,Ja=ki,Xa=O,Wa=uo,$a=Mt.isPrimitive,Ha=so,Za=Et.isPrimitive,Ka=ho,Qa=yo,tu=X,ru=Oo,eu=Ya,nu=Fa,iu=Da;function ou(t,r){var e;return e=r?"option":"argument",t.length<40?new RangeError("invalid "+e+". `state` array has insufficient length."):1!==t[0]?new RangeError("invalid "+e+". `state` array has an incompatible schema version. Expected: 1. Actual: "+t[0]+"."):3!==t[1]?new RangeError("invalid "+e+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+t[1]+"."):32!==t[2]?new RangeError("invalid "+e+". `state` array has an incompatible table length. Expected: 32. Actual: "+t[2]+"."):2!==t[35]?new RangeError("invalid "+e+". `state` array has an incompatible state length. Expected: "+2..toString()+". Actual: "+t[35]+"."):t[38]!==t.length-39?new RangeError("invalid "+e+". `state` array length is incompatible with seed section length. Expected: "+(t.length-39)+". Actual: "+t[38]+"."):null}var au=function(t){var r,e,n,i,o,a;if(n={},arguments.length){if(!Wa(t))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(Xa(t,"copy")&&(n.copy=t.copy,!$a(t.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+t.copy+"`.");if(Xa(t,"state")){if(e=t.state,n.state=!0,!Ka(e))throw new TypeError("invalid option. `state` option must be an Int32Array. Option: `"+e+"`.");if(a=ou(e,!0))throw a;!1===n.copy?r=e:(r=new ru(e.length),Qa(e.length,e,1,r,1)),e=new ru(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,32),i=new ru(r.buffer,r.byteOffset+39*r.BYTES_PER_ELEMENT,e[38])}if(void 0===i)if(Xa(t,"seed"))if(i=t.seed,n.seed=!0,Za(i)){if(i>2147483646)throw new RangeError("invalid option. `seed` option must be a positive integer less than the maximum signed 32-bit integer. Option: `"+i+"`.");i|=0}else{if(!(Ha(i)&&i.length>0))throw new TypeError("invalid option. `seed` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `"+i+"`.");o=i.length,(r=new ru(39+o))[0]=1,r[1]=3,r[2]=32,r[35]=2,r[37]=i[0],r[38]=o,Qa.ndarray(o,i,1,0,r,1,39),e=new ru(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,32),i=new ru(r.buffer,r.byteOffset+39*r.BYTES_PER_ELEMENT,o),e=nu(g,e,32),r[36]=e[0]}else i=0|iu()}else i=0|iu();return void 0===e&&((r=new ru(40))[0]=1,r[1]=3,r[2]=32,r[35]=2,r[37]=i,r[38]=1,r[39]=i,e=new ru(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,32),i=new ru(r.buffer,r.byteOffset+39*r.BYTES_PER_ELEMENT,1),e=nu(g,e,32),r[36]=e[0]),Ga(v,"NAME","minstd-shuffle"),qa(v,"seed",u),qa(v,"seedLength",f),Ja(v,"state",l,h),qa(v,"stateLength",s),qa(v,"byteLength",c),Ga(v,"toJSON",p),Ga(v,"MIN",1),Ga(v,"MAX",2147483646),Ga(v,"normalized",y),Ga(y,"NAME",v.NAME),qa(y,"seed",u),qa(y,"seedLength",f),Ja(y,"state",l,h),qa(y,"stateLength",s),qa(y,"byteLength",c),Ga(y,"toJSON",p),Ga(y,"MIN",(v.MIN-1)/2147483646),Ga(y,"MAX",(v.MAX-1)/2147483646),v;function u(){var t=r[38];return Qa(t,i,1,new ru(t),1)}function f(){return r[38]}function s(){return r.length}function c(){return r.byteLength}function l(){var t=r.length;return Qa(t,r,1,new ru(t),1)}function h(t){var o;if(!Ka(t))throw new TypeError("invalid argument. Must provide an Int32Array. Value: `"+t+"`.");if(o=ou(t,!1))throw o;!1===n.copy?n.state&&t.length===r.length?Qa(t.length,t,1,r,1):(r=t,n.state=!0):(t.length!==r.length&&(r=new ru(t.length)),Qa(t.length,t,1,r,1)),e=new ru(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,32),i=new ru(r.buffer,r.byteOffset+39*r.BYTES_PER_ELEMENT,r[38])}function p(){var t={type:"PRNG"};return t.name=v.NAME,t.state=eu(r),t.params=[],t}function g(){var t=0|r[37];return t=16807*t%2147483647|0,r[37]=t,0|t}function v(){var t,n;return t=r[36],n=tu(t/2147483647*32),t=e[n],r[36]=t,e[n]=g(),t}function y(){return(v()-1)/2147483646}},uu=au({seed:Da()});y(uu,"factory",au);var fu=uu,su=ha,cu=!0===Xe?1:0,lu=new un(1),hu=new su(lu.buffer);var pu=function(t){return lu[0]=t,hu[cu]},gu=ha,vu=!0===Xe?1:0,yu=new un(1),du=new gu(yu.buffer);var mu=function(t,r){return yu[0]=t,du[vu]=r>>>0,yu[0]};var wu=pu,bu=mu,Eu=Ca,_u=J,Au=function(t){return 0===t?.3999999999940942:.3999999999940942+t*(.22222198432149784+.15313837699209373*t)},Ou=function(t){return 0===t?.6666666666666735:.6666666666666735+t*(.2857142874366239+t*(.1818357216161805+.14798198605116586*t))},Tu=.6931471803691238,Pu=1.9082149292705877e-10;var Ru=function(t){var r,e,n,i,o,a,u,f,s,c,l;return 0===t?_u:Eu(t)||t<0?NaN:(i=0,(e=wu(t))<1048576&&(i-=54,e=wu(t*=0x40000000000000)),e>=2146435072?t+t:(i+=(e>>20)-1023|0,i+=(u=(e&=1048575)+614244&1048576|0)>>20|0,a=(t=bu(t,e|1072693248^u))-1,(1048575&2+e)<3?0===a?0===i?0:i*Tu+i*Pu:(o=a*a*(.5-.3333333333333333*a),0===i?a-o:i*Tu-(o-i*Pu-a)):(u=e-398458|0,f=440401-e|0,n=(c=(l=(s=a/(2+a))*s)*l)*Au(c),o=l*Ou(c)+n,(u|=f)>0?(r=.5*a*a,0===i?a-(r-s*(r+o)):i*Tu-(r-(s*(r+o)+i*Pu)-a)):0===i?a-s*(a-o):i*Tu-(s*(a-o)-i*Pu-a))))},ju=Ru,Iu=require("path").join,Uu=require("@stdlib/utils-try-require"),Nu=require("./main.js"),Su=Uu(Iu("/home/runner/work/ml-incr-kmeans/ml-incr-kmeans/node_modules/@stdlib/blas-base-dcopy/lib","./native.js"));Su instanceof Error||(Nu=Su),module.exports=Nu;var Mu=t(Object.freeze({__proto__:null})),Bu=lt.isPrimitive;var xu=function(t){return Bu(t)&&t>=0},Lu=lt.isObject;var Vu=function(t){return Lu(t)&&t.valueOf()>=0},Yu=xu,Cu=Vu;var zu=y,Fu=function(t){return Yu(t)||Cu(t)},ku=Vu;zu(Fu,"isPrimitive",xu),zu(Fu,"isObject",ku);var Du=Fu,Gu=$;var qu=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&Gu(t.length)&&t.length>=0&&t.length<=4294967295},Ju=qu;var Xu=function(t){if("function"!=typeof t)throw new TypeError("invalid argument. Must provide a function. Value: `"+t+"`.");return function(r){var e,n;if(!Ju(r))return!1;if(0===(e=r.length))return!1;for(n=0;n<e;n++)if(!1===t(r[n]))return!1;return!0}},Wu=Xu,$u=Du,Hu=y,Zu=Wu,Ku=Zu($u);Hu(Ku,"primitives",Zu($u.isPrimitive)),Hu(Ku,"objects",Zu($u.isObject));var Qu=Ku,tf=lt,rf=y,ef=Wu,nf=ef(tf);rf(nf,"primitives",ef(tf.isPrimitive)),rf(nf,"objects",ef(tf.isObject));var of=nf,af=Sn(),uf=af.length;var ff=function(t){var r;for(r=0;r<uf;r++)if(t===af[r])return!0;return!1},sf=In(),cf=sf.length;var lf=function(t){var r;for(r=0;r<cf;r++)if(t===sf[r])return!0;return!1},hf=fr;var pf=function(t,r,e,n){var i=hf(r,e,n);return i[0]>=0&&i[1]<t},gf=pf;var vf=function(t){var r=typeof t;return null===t||"object"!==r&&"function"!==r?new TypeError("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `"+t+"`."):null},yf=Object.create;function df(){}var mf=function(t){return df.prototype=t,new df},wf=p,bf=vf,Ef="function"==typeof yf?yf:mf;var _f=function(t,r){var e=bf(t);if(e)throw e;if(e=bf(r))throw e;if(void 0===r.prototype)throw new TypeError("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `"+r.prototype+"`.");return t.prototype=Ef(r.prototype),wf(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t}),t},Af=_f,Of={mode:"throw"};var Tf=function(t,r){return t<0?0:t>r?r:t};var Pf=function(t,r){var e=r+1;return t<0?((t+=e)<0&&0!==(t%=e)&&(t+=e),t):t>r?((t-=e)>r&&(t%=e),t):t},Rf=Tf,jf=Pf;var If=function(t,r,e){if("clamp"===e)return Rf(t,r);if("wrap"===e)return jf(t,r);if(t<0||t>r)throw new RangeError("invalid argument. Index must be on the interval: [0,"+r+"]. Value: `"+t+"`.");return t},Uf=If,Nf=lt.isPrimitive,Sf=Uf,Mf=Mi.prototype.iget;var Bf=function(t){if(this._ndims>0){if(!Nf(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");return t=Sf(t,this._length-1,this._mode),Mf.call(this,t)}return Mf.call(this)},xf=lt.isPrimitive,Lf=Uf,Vf=Mi.prototype.iset;var Yf=function(t,r){if(this._ndims>0){if(!xf(t))throw new TypeError("invalid argument. Index must be an integer value. Value: `"+t+"`.");t=Lf(t,this._length-1,this._mode),Vf.call(this,t,r)}else Vf.call(this,t);return this},Cf=lt.isPrimitive,zf=Uf;var Ff=function(){var t,r,e,n;if(arguments.length!==this._ndims)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,e=this._submode.length,n=0;n<arguments.length;n++){if(!Cf(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");r=zf(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.get(t):this._buffer[t]},kf=lt.isPrimitive,Df=Uf;var Gf=function(){var t,r,e,n;if(arguments.length!==this._ndims+1)throw new RangeError("invalid arguments. Number of indices must match the number of dimensions. ndims: "+this._ndims+". nargs: "+arguments.length+".");for(t=this._offset,e=this._submode.length,n=0;n<arguments.length-1;n++){if(!kf(arguments[n]))throw new TypeError("invalid argument. Indices must be integer valued. Argument: "+n+". Value: `"+arguments[n]+"`.");r=Df(arguments[n],this._shape[n]-1,this._submode[n%e]),t+=this._strides[n]*r}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this};var qf=function(t,r){var e,n;for(e=[],n=0;n<r;n++)e.push(t[n]);return e},Jf=xn(),Xf=Jf.length;var Wf=uo,$f=O,Hf=Wr,Zf=function(t){var r;for(r=0;r<Xf;r++)if(t===Jf[r])return!0;return!1};var Kf=function(t,r){var e;if(!Wf(r))return new TypeError("invalid argument. Options must be an object. Value: `"+r+"`.");if($f(r,"mode")&&(t.mode=r.mode,!Zf(t.mode)))return new TypeError("invalid option. `mode` option must be a recognized mode. Option: `"+t.mode+"`.");if($f(r,"submode")){if(t.submode=r.submode,!Hf(t.submode))return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode+"`.");if(0===t.submode.length)return new TypeError("invalid option. `submode` option must be an array containing recognized modes. Option: `"+t.submode.join(",")+"`.");for(e=0;e<t.submode.length;e++)if(!Zf(t.submode[e]))return new TypeError("invalid option. Each `submode` must be a recognized modes. Option: `"+t.submode[e]+"`.");t.submode=t.submode.slice()}return null},Qf=y,ts=so,rs=Qu.primitives,es=Du.isPrimitive,ns=of.primitives,is=pe,os=ff,as=lf,us=gf,fs=Mi,ss=Of,cs=Bf,ls=Yf,hs=Ff,ps=Gf,gs=qf,vs=Kf;function ys(t,r,e,n,i,o,a){var u,f,s,c,l;if(!(this instanceof ys))return arguments.length<7?new ys(t,r,e,n,i,o):new ys(t,r,e,n,i,o,a);if(!as(t))throw new TypeError("invalid argument. `dtype` argument must be a supported ndarray data type. Value: `"+t+"`.");if(!ts(r))throw new TypeError("invalid argument. `buffer` argument must be an array-like object, typed-array-like, or a Buffer. Value: `"+r+"`.");if(r.get&&r.set&&(!is(r.get)||!is(r.set)))throw new TypeError("invalid argument. `buffer` argument `get` and `set` properties must be functions. Value: `"+r+"`.");if(!rs(e)&&(!ts(e)||e.length>0))throw new TypeError("invalid argument. `shape` argument must be an array-like object containing nonnegative integers. Value: `"+e+"`.");if((u=e.length)>32767)throw new RangeError("invalid argument. Number of dimensions must not exceed 32767 due to stack limits. Value: `"+u+"`.");if(!ns(n))throw new TypeError("invalid argument. `strides` argument must be an array-like object containing integers. Value: `"+n+"`.");if(u>0){if(n.length!==u)throw new RangeError("invalid argument. `strides` argument length must match the number of dimensions. Expected number of dimensions: "+u+". Strides length: "+n.length+".")}else{if(1!==n.length)throw new RangeError("invalid argument. `strides` length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError("invalid argument. `strides` argument must contain a single element equal to `0`. Value: `"+n[0]+"`.")}if(!es(i))throw new TypeError("invalid argument. `offset` argument must be a nonnegative integer. Value: `"+i+"`.");if(!os(o))throw new TypeError("invalid argument. `order` argument must be a supported order. Value: `"+o+"`.");if(!us(r.length,e,n,i))throw new Error("invalid arguments. The input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((f={}).mode=ss.mode,arguments.length>6&&(s=vs(f,a)))throw s;return this._mode=f.mode,void 0===f.submode&&(f.submode=[this._mode]),this._submode=f.submode,c=gs(e,u),l=gs(n,u||1),fs.call(this,t,r,c,l,i,o),this}Af(ys,fs),Qf(ys,"name","ndarray"),Qf(ys.prototype,"get",hs),Qf(ys.prototype,"iget",cs),Qf(ys.prototype,"set",ps),Qf(ys.prototype,"iset",ls);var ds=un,ms=ys,ws=Mi;var bs=function(t,r,e){return(e?ws:ms)("float64",new ds(t*r),[t,r],[r,1],0,"row-major")},Es=yo.ndarray;var _s=function(t,r){var e,n,i,o,a,u,f,s,c,l,h;for(c=r.shape[0],l=r.shape[1],e=r.data,n=t.data,i=r.strides[0],o=r.strides[1],a=t.strides[0],u=t.strides[1],f=r.offset,s=t.offset,h=0;h<c;h++)Es(l,e,o,f,n,u,s),f+=i,s+=a;return t},As=un,Os=ys,Ts=Mi;var Ps=function(t,r){return(r?Ts:Os)("float64",new As(t),[t],[1],0,"row-major")},Rs=yo.ndarray;var js=function(t,r){return Rs(r.shape[0],r.data,r.strides[0],r.offset,t.data,t.strides[0],t.offset),t},Is=$;var Us=function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&Is(t.length)&&t.length>=0&&t.length<=4294967295},Ns=G.isPrimitive,Ss=Ca;var Ms=function(t){return Ns(t)&&Ss(t)},Bs=G.isObject,xs=Ca;var Ls=function(t){return Bs(t)&&xs(t.valueOf())},Vs=Ms,Ys=Ls;var Cs=y,zs=function(t){return Vs(t)||Ys(t)},Fs=Ls;Cs(zs,"isPrimitive",Ms),Cs(zs,"isObject",Fs);var ks=zs,Ds=so,Gs=lt.isPrimitive,qs=Sr.isPrimitive,Js=ks.isPrimitive;var Xs=function(t,r,e){var n,i,o;if(!Ds(t)&&!qs(t))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+t+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!Gs(e))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+e+"`.");(i=e)<0&&(i=0)}else i=0;if(qs(t)){if(!qs(r))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+r+"`.");return-1!==t.indexOf(r,i)}if(n=t.length,Js(r)){for(o=i;o<n;o++)if(Js(t[o]))return!0;return!1}for(o=i;o<n;o++)if(t[o]===r)return!0;return!1},Ws=uo,$s=O,Hs=Mt.isPrimitive,Zs=Us,Ks=Et.isPrimitive,Qs=Xs,tc=["euclidean","correlation","cosine"],rc=["forgy","sample","kmeans++"];var ec=function(t,r){if(!Ws(r))return new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.");if($s(r,"metric")&&(t.metric=r.metric,!Qs(tc,t.metric)))return new TypeError("invalid option. `metric` option must be one of the following: ["+tc.join(", ")+"]. Option: `"+t.metric+"`.");if($s(r,"init")){if(!Zs(r.init))return new TypeError("invalid option. `init` option must be an array-like object. Option: `"+r.init+"`.");if(!Qs(rc,r.init[0]))return new TypeError("invalid option. `init` option method must be one of the following: ["+rc.join(", ")+"]. Option: `"+r.init[0]+"`.");if(t.init[0]=r.init[0],r.init.length>1&&(t.init[1]=r.init[1],!Ks(t.init[1])))return new TypeError("invalid option. First `init` parameter option must be a positive integer. Option: `"+t.init[1]+"`.");if(r.init.length>2&&(t.init[2]=r.init[2],!Ks(t.init[2])))return new TypeError("invalid option. Second `init` parameter option must be a positive integer. Option: `"+t.init[2]+"`.")}return $s(r,"normalize")&&(t.normalize=r.normalize,!Hs(t.normalize))?new TypeError("invalid option. `normalize` option must be a boolean. Option: `"+t.normalize+"`."):$s(r,"copy")&&(t.copy=r.copy,!Hs(t.copy))?new TypeError("invalid option. `copy` option must be a boolean. Option: `"+t.copy+"`."):($s(r,"seed")&&(t.seed=r.seed),null)},nc={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]},ic=Math.sqrt,oc=ic;var ac=function(t,r,e,n){var i,o,a,u;for(o=0,i=n,u=0;u<t;u++)o+=(a=r[i])*a,i+=e;for(o=oc(o),i=n,u=0;u<t;u++)r[i]/=o;return r},uc=ac;var fc=function(t){var r,e,n,i,o,a,u;for(r=t.data,o=t.shape[0],a=t.shape[1],e=t.strides[0],n=t.strides[1],i=t.offset,u=0;u<o;u++)uc(a,r,n,i),i+=e;return t};var sc=function(t,r,e,n,i,o,a,u,f,s){var c,l,h,p;for(c=n,l=a,h=s,p=0;p<t;p++)r[c]=(r[c]-i[l])/u[h],c+=e,l+=o,h+=f;return r},cc=sc;var lc=function(t,r){var e,n,i,o,a,u,f;for(e=t.data,a=t.shape[0],u=t.shape[1],n=t.strides[0],i=t.strides[1],o=t.offset,f=0;f<a;f++)cc(u,e,i,o,r,2,0,r,2,1),o+=n;return t},hc=Du.isPrimitive;var pc=function(t){return null!==t&&"object"==typeof t&&hc(t.length)&&t.length<=9007199254740991&&"number"==typeof t.BYTES_PER_ELEMENT&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength},gc=q;var vc=function(t){return 0===t&&1/t===gc},yc=Ca,dc=J,mc=q;var wc=function(t,r){var e,n,i,o;if(2===(e=arguments.length))return yc(t)||yc(r)?NaN:t===mc||r===mc?mc:t===r&&0===t?vc(t)?t:r:t>r?t:r;for(n=dc,o=0;o<e;o++){if(yc(i=arguments[o])||i===mc)return i;(i>n||i===n&&0===i&&vc(i))&&(n=i)}return n};var bc=X;var Ec=function(){return bc(1+4294967294*Math.random())>>>0},_c=y,Ac=Ht,Oc=ki,Tc=O,Pc=uo,Rc=so,jc=oa,Ic=Mt.isPrimitive,Uc=Et.isPrimitive,Nc=ha,Sc=wc,Mc=function(t,r){var e,n;return((e=(65535&(t>>>=0))>>>0)*(n=(65535&(r>>>=0))>>>0)>>>0)+((t>>>16>>>0)*n+e*(r>>>16>>>0)<<16>>>0)>>>0},Bc=yo,xc=Ya,Lc=Ec,Vc=624,Yc=[0,2567483615];function Cc(t,r){var e;return e=r?"option":"argument",t.length<631?new RangeError("invalid "+e+". `state` array has insufficient length."):1!==t[0]?new RangeError("invalid "+e+". `state` array has an incompatible schema version. Expected: 1. Actual: "+t[0]+"."):3!==t[1]?new RangeError("invalid "+e+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+t[1]+"."):t[2]!==Vc?new RangeError("invalid "+e+". `state` array has an incompatible state length. Expected: "+Vc+". Actual: "+t[2]+"."):1!==t[627]?new RangeError("invalid "+e+". `state` array has an incompatible section length. Expected: "+1..toString()+". Actual: "+t[627]+"."):t[629]!==t.length-630?new RangeError("invalid "+e+". `state` array length is incompatible with seed section length. Expected: "+(t.length-630)+". Actual: "+t[629]+"."):null}function zc(t,r,e){var n;for(t[0]=e>>>0,n=1;n<r;n++)e=((e=t[n-1]>>>0)^e>>>30)>>>0,t[n]=Mc(e,1812433253)+n>>>0;return t}function Fc(t,r,e,n){var i,o,a,u;for(o=1,a=0,u=Sc(r,n);u>0;u--)i=t[o-1]>>>0,i=Mc(i=(i^i>>>30)>>>0,1664525)>>>0,t[o]=(t[o]>>>0^i)+e[a]+a>>>0,a+=1,(o+=1)>=r&&(t[0]=t[r-1],o=1),a>=n&&(a=0);for(u=r-1;u>0;u--)i=t[o-1]>>>0,i=Mc(i=(i^i>>>30)>>>0,1566083941)>>>0,t[o]=(t[o]>>>0^i)-o>>>0,(o+=1)>=r&&(t[0]=t[r-1],o=1);return t[0]=2147483648,t}function kc(t){var r,e;for(227,e=0;e<227;e++)r=2147483648&t[e]|2147483647&t[e+1],t[e]=t[e+397]^r>>>1^Yc[1&r];for(623;e<623;e++)r=2147483648&t[e]|2147483647&t[e+1],t[e]=t[e-227]^r>>>1^Yc[1&r];return r=2147483648&t[623]|2147483647&t[0],t[623]=t[396]^r>>>1^Yc[1&r],t}var Dc=function(t){var r,e,n,i,o,a;if(n={},arguments.length){if(!Pc(t))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(Tc(t,"copy")&&(n.copy=t.copy,!Ic(t.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+t.copy+"`.");if(Tc(t,"state")){if(e=t.state,n.state=!0,!jc(e))throw new TypeError("invalid option. `state` option must be a Uint32Array. Option: `"+e+"`.");if(a=Cc(e,!0))throw a;!1===n.copy?r=e:(r=new Nc(e.length),Bc(e.length,e,1,r,1)),e=new Nc(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,Vc),i=new Nc(r.buffer,r.byteOffset+630*r.BYTES_PER_ELEMENT,e[629])}if(void 0===i)if(Tc(t,"seed"))if(i=t.seed,n.seed=!0,Uc(i)){if(i>4294967295)throw new RangeError("invalid option. `seed` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");i>>>=0}else{if(!1===Rc(i)||i.length<1)throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");if(1===i.length){if(i=i[0],!Uc(i))throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");if(i>4294967295)throw new RangeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+i+"`.");i>>>=0}else o=i.length,(r=new Nc(630+o))[0]=1,r[1]=3,r[2]=Vc,r[627]=1,r[628]=Vc,r[629]=o,Bc.ndarray(o,i,1,0,r,1,630),e=new Nc(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,Vc),i=new Nc(r.buffer,r.byteOffset+630*r.BYTES_PER_ELEMENT,o),e=Fc(e=zc(e,Vc,19650218),Vc,i,o)}else i=Lc()>>>0}else i=Lc()>>>0;return void 0===e&&((r=new Nc(631))[0]=1,r[1]=3,r[2]=Vc,r[627]=1,r[628]=Vc,r[629]=1,r[630]=i,e=new Nc(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,Vc),i=new Nc(r.buffer,r.byteOffset+630*r.BYTES_PER_ELEMENT,1),e=zc(e,Vc,i)),_c(g,"NAME","mt19937"),Ac(g,"seed",u),Ac(g,"seedLength",f),Oc(g,"state",l,h),Ac(g,"stateLength",s),Ac(g,"byteLength",c),_c(g,"toJSON",p),_c(g,"MIN",1),_c(g,"MAX",4294967295),_c(g,"normalized",v),_c(v,"NAME",g.NAME),Ac(v,"seed",u),Ac(v,"seedLength",f),Oc(v,"state",l,h),Ac(v,"stateLength",s),Ac(v,"byteLength",c),_c(v,"toJSON",p),_c(v,"MIN",0),_c(v,"MAX",.9999999999999999),g;function u(){var t=r[629];return Bc(t,i,1,new Nc(t),1)}function f(){return r[629]}function s(){return r.length}function c(){return r.byteLength}function l(){var t=r.length;return Bc(t,r,1,new Nc(t),1)}function h(t){var o;if(!jc(t))throw new TypeError("invalid argument. Must provide a Uint32Array. Value: `"+t+"`.");if(o=Cc(t,!1))throw o;!1===n.copy?n.state&&t.length===r.length?Bc(t.length,t,1,r,1):(r=t,n.state=!0):(t.length!==r.length&&(r=new Nc(t.length)),Bc(t.length,t,1,r,1)),e=new Nc(r.buffer,r.byteOffset+3*r.BYTES_PER_ELEMENT,Vc),i=new Nc(r.buffer,r.byteOffset+630*r.BYTES_PER_ELEMENT,r[629])}function p(){var t={type:"PRNG"};return t.name=g.NAME,t.state=xc(r),t.params=[],t}function g(){var t,n;return(n=r[628])>=Vc&&(e=kc(e),n=0),t=e[n],r[628]=n+1,t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0}function v(){return 11102230246251565e-32*(67108864*(g()>>>5)+(g()>>>6))}},Gc=Dc({seed:Ec()});y(Gc,"factory",Dc);var qc=Gc,Jc=Qi,Xc=N;var Wc=function(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===Xc(t))return!0;t=Jc(t)}return!1};var $c=function(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/},Hc=$c;y(Hc,"REGEXP",$c());var Zc=Sr.isPrimitive,Kc=Hc;var Qc=function(t){if(!Zc(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");return(t=Kc().exec(t))?new RegExp(t[1],t[2]):null},tl=ks,rl=so,el=Sr.isPrimitive,nl=lt.isPrimitive;var il=function(t,r,e){var n,i;if(!rl(t)&&!el(t))throw new TypeError("invalid argument. First argument must be an array-like object. Value: `"+t+"`.");if(0===(n=t.length))return-1;if(3===arguments.length){if(!nl(e))throw new TypeError("invalid argument. `fromIndex` must be an integer. Value: `"+e+"`.");if(e>=0){if(e>=n)return-1;i=e}else(i=n+e)<0&&(i=0)}else i=0;if(tl(r)){for(;i<n;i++)if(tl(t[i]))return i}else for(;i<n;i++)if(t[i]===r)return i;return-1},ol=il;var al=function(t){return Object.keys(Object(t))},ul=al;var fl=function(){return function(){return 2!==(ul(arguments)||"").length}(1,2)},sl=void 0!==Object.keys,cl=N;var ll=function(t){return"[object Arguments]"===cl(t)},hl=ll;var pl,gl=function(){return hl(arguments)}(),vl=Object.prototype.propertyIsEnumerable;pl=!vl.call("beep","0");var yl=Sr,dl=ks.isPrimitive,ml=lt.isPrimitive,wl=vl,bl=pl;var El=function(t,r){var e;return null!=t&&(!(e=wl.call(t,r))&&bl&&yl(t)?!dl(r=+r)&&ml(r)&&r>=0&&r<t.length:e)},_l=El,Al=O,Ol=_l,Tl=Wr,Pl=$;var Rl=gl?ll:function(t){return null!==t&&"object"==typeof t&&!Tl(t)&&"number"==typeof t.length&&Pl(t.length)&&t.length>=0&&t.length<=4294967295&&Al(t,"callee")&&!Ol(t,"callee")},jl=Rl,Il=al,Ul=Array.prototype.slice;var Nl=function(t){return jl(t)?Il(Ul.call(t)):Il(t)};var Sl=function(){},Ml=_l(Sl,"prototype"),Bl=!_l({toString:null},"toString");var xl,Ll=function(t){return t.constructor&&t.constructor.prototype===t},Vl="undefined"==typeof window?void 0:window,Yl=O,Cl=ol,zl=le,Fl=Ll,kl=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],Dl=Vl;xl=function(){var t;if("undefined"===zl(Dl))return!1;for(t in Dl)try{-1===Cl(kl,t)&&Yl(Dl,t)&&null!==Dl[t]&&"object"===zl(Dl[t])&&Fl(Dl[t])}catch(t){return!0}return!1}();var Gl="undefined"!=typeof window,ql=xl,Jl=Ll,Xl=Gl;var Wl=Kr,$l=O,Hl=Rl,Zl=Ml,Kl=Bl,Ql=function(t){if(!1===Xl&&!ql)return Jl(t);try{return Jl(t)}catch(t){return!1}},th=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var rh=al,eh=Nl,nh=function(t){var r,e,n,i,o,a,u;if(i=[],Hl(t)){for(u=0;u<t.length;u++)i.push(u.toString());return i}if("string"==typeof t){if(t.length>0&&!$l(t,"0"))for(u=0;u<t.length;u++)i.push(u.toString())}else{if(!1===(n="function"==typeof t)&&!Wl(t))return i;e=Zl&&n}for(o in t)e&&"prototype"===o||!$l(t,o)||i.push(String(o));if(Kl)for(r=Ql(t),u=0;u<th.length;u++)a=th[u],r&&"constructor"===a||!$l(t,a)||i.push(String(a));return i},ih=sl?fl()?eh:rh:nh,oh=void 0!==Object.getOwnPropertyNames,ah=Object.getOwnPropertyNames;var uh=ih;var fh=oh?function(t){return ah(Object(t))}:function(t){return uh(Object(t))},sh=void 0!==Object.getOwnPropertyDescriptor,ch=Object.getOwnPropertyDescriptor;var lh=O;var hh=sh?function(t,r){var e;return null==t||void 0===(e=ch(t,r))?null:e}:function(t,r){return lh(t,r)?{configurable:!0,enumerable:!0,writable:!0,value:t[r]}:null},ph=[],gh=[],vh="undefined"!=typeof Uint8Array?Uint8Array:Array,yh=!1;function dh(){yh=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=t.length;r<e;++r)ph[r]=t[r],gh[t.charCodeAt(r)]=r;gh["-".charCodeAt(0)]=62,gh["_".charCodeAt(0)]=63}function mh(t,r,e){for(var n,i,o=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(ph[(i=n)>>18&63]+ph[i>>12&63]+ph[i>>6&63]+ph[63&i]);return o.join("")}function wh(t){var r;yh||dh();for(var e=t.length,n=e%3,i="",o=[],a=16383,u=0,f=e-n;u<f;u+=a)o.push(mh(t,u,u+a>f?f:u+a));return 1===n?(r=t[e-1],i+=ph[r>>2],i+=ph[r<<4&63],i+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=ph[r>>10],i+=ph[r>>4&63],i+=ph[r<<2&63],i+="="),o.push(i),o.join("")}function bh(t,r,e,n,i){var o,a,u=8*i-n-1,f=(1<<u)-1,s=f>>1,c=-7,l=e?i-1:0,h=e?-1:1,p=t[r+l];for(l+=h,o=p&(1<<-c)-1,p>>=-c,c+=u;c>0;o=256*o+t[r+l],l+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+t[r+l],l+=h,c-=8);if(0===o)o=1-s;else{if(o===f)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=s}return(p?-1:1)*a*Math.pow(2,o-n)}function Eh(t,r,e,n,i,o){var a,u,f,s=8*o-i-1,c=(1<<s)-1,l=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,g=n?1:-1,v=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,a=c):(a=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-a))<1&&(a--,f*=2),(r+=a+l>=1?h/f:h*Math.pow(2,1-l))*f>=2&&(a++,f/=2),a+l>=c?(u=0,a=c):a+l>=1?(u=(r*f-1)*Math.pow(2,i),a+=l):(u=r*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[e+p]=255&u,p+=g,u/=256,i-=8);for(a=a<<i|u,s+=i;s>0;t[e+p]=255&a,p+=g,a/=256,s-=8);t[e+p-g]|=128*v}var _h={}.toString,Ah=Array.isArray||function(t){return"[object Array]"==_h.call(t)};Rh.TYPED_ARRAY_SUPPORT=void 0===Vt.TYPED_ARRAY_SUPPORT||Vt.TYPED_ARRAY_SUPPORT;var Oh=Th();function Th(){return Rh.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ph(t,r){if(Th()<r)throw new RangeError("Invalid typed array length");return Rh.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=Rh.prototype:(null===t&&(t=new Rh(r)),t.length=r),t}function Rh(t,r,e){if(!(Rh.TYPED_ARRAY_SUPPORT||this instanceof Rh))return new Rh(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return Uh(this,t)}return jh(this,t,r,e)}function jh(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);Rh.TYPED_ARRAY_SUPPORT?(t=r).__proto__=Rh.prototype:t=Nh(t,r);return t}(t,r,e,n):"string"==typeof r?function(t,r,e){"string"==typeof e&&""!==e||(e="utf8");if(!Rh.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Bh(r,e),i=(t=Ph(t,n)).write(r,e);i!==n&&(t=t.slice(0,i));return t}(t,r,e):function(t,r){if(Mh(r)){var e=0|Sh(r.length);return 0===(t=Ph(t,e)).length||r.copy(t,0,0,e),t}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(n=r.length)!=n?Ph(t,0):Nh(t,r);if("Buffer"===r.type&&Ah(r.data))return Nh(t,r.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function Ih(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function Uh(t,r){if(Ih(r),t=Ph(t,r<0?0:0|Sh(r)),!Rh.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function Nh(t,r){var e=r.length<0?0:0|Sh(r.length);t=Ph(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function Sh(t){if(t>=Th())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Th().toString(16)+" bytes");return 0|t}function Mh(t){return!(null==t||!t._isBuffer)}function Bh(t,r){if(Mh(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return ap(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return up(t).length;default:if(n)return ap(t).length;r=(""+r).toLowerCase(),n=!0}}function xh(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return $h(this,r,e);case"utf8":case"utf-8":return Jh(this,r,e);case"ascii":return Xh(this,r,e);case"latin1":case"binary":return Wh(this,r,e);case"base64":return qh(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hh(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function Lh(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function Vh(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=Rh.from(r,n)),Mh(r))return 0===r.length?-1:Yh(t,r,e,n,i);if("number"==typeof r)return r&=255,Rh.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):Yh(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Yh(t,r,e,n,i){var o,a=1,u=t.length,f=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;a=2,u/=2,f/=2,e/=2}function s(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}if(i){var c=-1;for(o=e;o<u;o++)if(s(t,o)===s(r,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===f)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(e+f>u&&(e=u-f),o=e;o>=0;o--){for(var l=!0,h=0;h<f;h++)if(s(t,o+h)!==s(r,h)){l=!1;break}if(l)return o}return-1}function Ch(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(r.substr(2*a,2),16);if(isNaN(u))return a;t[e+a]=u}return a}function zh(t,r,e,n){return fp(ap(r,t.length-e),t,e,n)}function Fh(t,r,e,n){return fp(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function kh(t,r,e,n){return Fh(t,r,e,n)}function Dh(t,r,e,n){return fp(up(r),t,e,n)}function Gh(t,r,e,n){return fp(function(t,r){for(var e,n,i,o=[],a=0;a<t.length&&!((r-=2)<0);++a)n=(e=t.charCodeAt(a))>>8,i=e%256,o.push(i),o.push(n);return o}(r,t.length-e),t,e,n)}function qh(t,r,e){return 0===r&&e===t.length?wh(t):wh(t.slice(r,e))}function Jh(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,a,u,f,s=t[i],c=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=e)switch(l){case 1:s<128&&(c=s);break;case 2:128==(192&(o=t[i+1]))&&(f=(31&s)<<6|63&o)>127&&(c=f);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(f=(15&s)<<12|(63&o)<<6|63&a)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(f=(15&s)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&f<1114112&&(c=f)}null===c?(c=65533,l=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=l}return function(t){var r=t.length;if(r<=4096)return String.fromCharCode.apply(String,t);var e="",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return e}(n)}Rh.poolSize=8192,Rh._augment=function(t){return t.__proto__=Rh.prototype,t},Rh.from=function(t,r,e){return jh(null,t,r,e)},Rh.TYPED_ARRAY_SUPPORT&&(Rh.prototype.__proto__=Uint8Array.prototype,Rh.__proto__=Uint8Array),Rh.alloc=function(t,r,e){return function(t,r,e,n){return Ih(r),r<=0?Ph(t,r):void 0!==e?"string"==typeof n?Ph(t,r).fill(e,n):Ph(t,r).fill(e):Ph(t,r)}(null,t,r,e)},Rh.allocUnsafe=function(t){return Uh(null,t)},Rh.allocUnsafeSlow=function(t){return Uh(null,t)},Rh.isBuffer=sp,Rh.compare=function(t,r){if(!Mh(t)||!Mh(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},Rh.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Rh.concat=function(t,r){if(!Ah(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Rh.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=Rh.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var o=t[e];if(!Mh(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},Rh.byteLength=Bh,Rh.prototype._isBuffer=!0,Rh.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Lh(this,r,r+1);return this},Rh.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Lh(this,r,r+3),Lh(this,r+1,r+2);return this},Rh.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Lh(this,r,r+7),Lh(this,r+1,r+6),Lh(this,r+2,r+5),Lh(this,r+3,r+4);return this},Rh.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Jh(this,0,t):xh.apply(this,arguments)},Rh.prototype.equals=function(t){if(!Mh(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Rh.compare(this,t)},Rh.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Rh.prototype.compare=function(t,r,e,n,i){if(!Mh(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(e>>>=0)-(r>>>=0),u=Math.min(o,a),f=this.slice(n,i),s=t.slice(r,e),c=0;c<u;++c)if(f[c]!==s[c]){o=f[c],a=s[c];break}return o<a?-1:a<o?1:0},Rh.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},Rh.prototype.indexOf=function(t,r,e){return Vh(this,t,r,e,!0)},Rh.prototype.lastIndexOf=function(t,r,e){return Vh(this,t,r,e,!1)},Rh.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Ch(this,t,r,e);case"utf8":case"utf-8":return zh(this,t,r,e);case"ascii":return Fh(this,t,r,e);case"latin1":case"binary":return kh(this,t,r,e);case"base64":return Dh(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gh(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Rh.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xh(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function Wh(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function $h(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=op(t[o]);return i}function Hh(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Zh(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function Kh(t,r,e,n,i,o){if(!Mh(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function Qh(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function tp(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function rp(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ep(t,r,e,n,i){return i||rp(t,0,e,4),Eh(t,r,e,n,23,4),e+4}function np(t,r,e,n,i){return i||rp(t,0,e,8),Eh(t,r,e,n,52,8),e+8}Rh.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),Rh.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=Rh.prototype;else{var i=r-t;e=new Rh(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},Rh.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||Zh(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},Rh.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||Zh(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},Rh.prototype.readUInt8=function(t,r){return r||Zh(t,1,this.length),this[t]},Rh.prototype.readUInt16LE=function(t,r){return r||Zh(t,2,this.length),this[t]|this[t+1]<<8},Rh.prototype.readUInt16BE=function(t,r){return r||Zh(t,2,this.length),this[t]<<8|this[t+1]},Rh.prototype.readUInt32LE=function(t,r){return r||Zh(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Rh.prototype.readUInt32BE=function(t,r){return r||Zh(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Rh.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||Zh(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},Rh.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||Zh(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},Rh.prototype.readInt8=function(t,r){return r||Zh(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Rh.prototype.readInt16LE=function(t,r){r||Zh(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Rh.prototype.readInt16BE=function(t,r){r||Zh(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Rh.prototype.readInt32LE=function(t,r){return r||Zh(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Rh.prototype.readInt32BE=function(t,r){return r||Zh(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Rh.prototype.readFloatLE=function(t,r){return r||Zh(t,4,this.length),bh(this,t,!0,23,4)},Rh.prototype.readFloatBE=function(t,r){return r||Zh(t,4,this.length),bh(this,t,!1,23,4)},Rh.prototype.readDoubleLE=function(t,r){return r||Zh(t,8,this.length),bh(this,t,!0,52,8)},Rh.prototype.readDoubleBE=function(t,r){return r||Zh(t,8,this.length),bh(this,t,!1,52,8)},Rh.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Kh(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},Rh.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Kh(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},Rh.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,1,255,0),Rh.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},Rh.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,2,65535,0),Rh.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Qh(this,t,r,!0),r+2},Rh.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,2,65535,0),Rh.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Qh(this,t,r,!1),r+2},Rh.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,4,4294967295,0),Rh.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):tp(this,t,r,!0),r+4},Rh.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,4,4294967295,0),Rh.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):tp(this,t,r,!1),r+4},Rh.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);Kh(this,t,r,e,i-1,-i)}var o=0,a=1,u=0;for(this[r]=255&t;++o<e&&(a*=256);)t<0&&0===u&&0!==this[r+o-1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},Rh.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);Kh(this,t,r,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[r+o]=255&t;--o>=0&&(a*=256);)t<0&&0===u&&0!==this[r+o+1]&&(u=1),this[r+o]=(t/a>>0)-u&255;return r+e},Rh.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,1,127,-128),Rh.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},Rh.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,2,32767,-32768),Rh.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Qh(this,t,r,!0),r+2},Rh.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,2,32767,-32768),Rh.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Qh(this,t,r,!1),r+2},Rh.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,4,2147483647,-2147483648),Rh.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):tp(this,t,r,!0),r+4},Rh.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||Kh(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Rh.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):tp(this,t,r,!1),r+4},Rh.prototype.writeFloatLE=function(t,r,e){return ep(this,t,r,!0,e)},Rh.prototype.writeFloatBE=function(t,r,e){return ep(this,t,r,!1,e)},Rh.prototype.writeDoubleLE=function(t,r,e){return np(this,t,r,!0,e)},Rh.prototype.writeDoubleBE=function(t,r,e){return np(this,t,r,!1,e)},Rh.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!Rh.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},Rh.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Rh.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var a=Mh(t)?t:ap(new Rh(t,n).toString()),u=a.length;for(o=0;o<e-r;++o)this[o+r]=a[o%u]}return this};var ip=/[^+\/0-9A-Za-z-_]/g;function op(t){return t<16?"0"+t.toString(16):t.toString(16)}function ap(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((e=t.charCodeAt(a))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function up(t){return function(t){var r,e,n,i,o,a;yh||dh();var u=t.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[u-2]?2:"="===t[u-1]?1:0,a=new vh(3*u/4-o),n=o>0?u-4:u;var f=0;for(r=0,e=0;r<n;r+=4,e+=3)i=gh[t.charCodeAt(r)]<<18|gh[t.charCodeAt(r+1)]<<12|gh[t.charCodeAt(r+2)]<<6|gh[t.charCodeAt(r+3)],a[f++]=i>>16&255,a[f++]=i>>8&255,a[f++]=255&i;return 2===o?(i=gh[t.charCodeAt(r)]<<2|gh[t.charCodeAt(r+1)]>>4,a[f++]=255&i):1===o&&(i=gh[t.charCodeAt(r)]<<10|gh[t.charCodeAt(r+1)]<<4|gh[t.charCodeAt(r+2)]>>2,a[f++]=i>>8&255,a[f++]=255&i),a}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(ip,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function fp(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function sp(t){return null!=t&&(!!t._isBuffer||cp(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&cp(t.slice(0,0))}(t))}function cp(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var lp=Object.freeze({__proto__:null,Buffer:Rh,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),Rh.alloc(+t)},isBuffer:sp,kMaxLength:Oh}),hp=Rh;module.exports=hp;var pp=te,gp=t(Object.freeze({__proto__:null}));var vp=function(){var t,r;if("function"!=typeof gp)return!1;try{r="function"==typeof gp.from?gp.from([1,2,3,4]):new gp([1,2,3,4]),t=pp(r)&&1===r[0]&&2===r[1]&&3===r[2]&&4===r[3]}catch(r){t=!1}return t},yp=vp;var dp=t(lp).Buffer,mp=function(){throw new Error("not implemented")},wp=yp()?dp:mp,bp=pe(wp.from),Ep=te,_p=wp;var Ap=function(t){if(!Ep(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return _p.from(t)},Op=te,Tp=wp;var Pp=function(t){if(!Op(t))throw new TypeError("invalid argument. Must provide a Buffer. Value: `"+t+"`");return new Tp(t)},Rp=Yo,jp=xe,Ip=Xo,Up=ea,Np=qe,Sp=Oo,Mp=ha,Bp=_a,xp=un;function Lp(t){return new Rp(t)}function Vp(t){return new jp(t)}function Yp(t){return new Ip(t)}function Cp(t){return new Up(t)}function zp(t){return new Np(t)}function Fp(t){return new Sp(t)}function kp(t){return new Mp(t)}function Dp(t){return new Bp(t)}function Gp(t){return new xp(t)}var qp=O,Jp=Wr,Xp=te,Wp=Wc,$p=le,Hp=Qc,Zp=ol,Kp=ih,Qp=fh,tg=hh,rg=Qi,eg=p,ng=bp?Ap:Pp,ig={int8array:Lp,uint8array:Vp,uint8clampedarray:Yp,int16array:Cp,uint16array:zp,int32array:Fp,uint32array:kp,float32array:Dp,float64array:Gp};function og(t,r,e,n,i){var o,a,u,f,s,c,l,h,p,g;if(i-=1,"object"!=typeof t||null===t)return t;if(Xp(t))return ng(t);if(Wp(t))return function(t){var r,e,n,i,o,a,u=[],f=[];for(o=new t.constructor(t.message),u.push(t),f.push(o),t.stack&&(o.stack=t.stack),t.code&&(o.code=t.code),t.errno&&(o.errno=t.errno),t.syscall&&(o.syscall=t.syscall),r=Kp(t),a=0;a<r.length;a++)i=r[a],e=tg(t,i),qp(e,"value")&&(n=Jp(t[i])?[]:{},e.value=og(t[i],n,u,f,-1)),eg(o,i,e);return o}(t);if("date"===(u=$p(t)))return new Date(+t);if("regexp"===u)return Hp(t.toString());if("set"===u)return new Set(t);if("map"===u)return new Map(t);if("string"===u||"boolean"===u||"number"===u)return t.valueOf();if(s=ig[u])return s(t);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(t){var r,e,n,i,o,a,u,f;for(r=[],i=[],u=Object.create(rg(t)),r.push(t),i.push(u),e=Qp(t),f=0;f<e.length;f++)n=e[f],o=tg(t,n),qp(o,"value")&&(a=Jp(t[n])?[]:{},o.value=og(t[n],a,r,i,-1)),eg(u,n,o);return Object.isExtensible(t)||Object.preventExtensions(u),Object.isSealed(t)&&Object.seal(u),Object.isFrozen(t)&&Object.freeze(u),u}(t):{};if(a=Kp(t),i>0)for(o=u,g=0;g<a.length;g++)h=t[c=a[g]],u=$p(h),"object"!=typeof h||null===h||"array"!==u&&"object"!==u||Xp(h)?"object"===o?(f=tg(t,c),qp(f,"value")&&(f.value=og(h)),eg(r,c,f)):r[c]=og(h):-1===(p=Zp(e,h))?(l=Jp(h)?new Array(h.length):{},e.push(h),n.push(l),"array"===o?r[c]=og(h,l,e,n,i):(f=tg(t,c),qp(f,"value")&&(f.value=og(h,l,e,n,i)),eg(r,c,f))):r[c]=n[p];else if("array"===u)for(g=0;g<a.length;g++)r[c=a[g]]=t[c];else for(g=0;g<a.length;g++)c=a[g],f=tg(t,c),eg(r,c,f);return Object.isExtensible(t)||Object.preventExtensions(r),Object.isSealed(t)&&Object.seal(r),Object.isFrozen(t)&&Object.freeze(r),r}var ag=Wr,ug=Du.isPrimitive,fg=q,sg=og;var cg=function(t,r){var e;if(arguments.length>1){if(!ug(r))throw new TypeError("invalid argument. `level` must be a nonnegative integer. Value: `"+r+"`.");if(0===r)return t}else r=fg;return e=ag(t)?new Array(t.length):{},sg(t,e,[t],[e],r)},lg=X;var hg=function(t,r,e){var n,i,o,a;for(o=t.length,i=new Array(r),a=0;a<r;a++)n=lg(o*e()),i[a]=t[n];return i};var pg=function(t,r,e,n){var i,o,a,u,f,s,c,l;for(u=t.length,i=new Array(u),f=0;f<u;f++)i[f]=n[f];for(a=new Array(r),f=0;f<r;f++){for(l=e(),o=0,s=0;s<u&&!(l<(o+=i[s]));s++);for(c=0;c<u;c++)c!==s&&(i[c]/=1-i[s]);i[s]=0,a[f]=t[s]}return a},gg=X,vg=Array.prototype.slice;var yg=function(t,r,e){var n,i,o;for(i=t.length-1;i>0;i--)o=gg(e()*(i+1)),n=t[i],t[i]=t[o],t[o]=n;return vg.call(t,0,r)},dg=X;var mg=function(t,r,e,n){var i,o,a,u,f,s,c,l,h,p;for(a=n.slice(),s=t.length,i=[],o=[],h=0;h<s;h++)a[h]*=s,a[h]<1?i.push(h):o.push(h);for(u=new Array(s),c=new Array(s);0!==i.length&&0!==o.length;)p=i.shift(),l=o.shift(),c[p]=a[p],u[p]=l,a[l]=a[l]+a[p]-1,a[l]<1?i.push(l):o.push(l);for(h=0;h<o.length;h++)c[o[h]]=1;for(h=0;h<i.length;h++)c[i[h]]=1;for(f=new Array(r),h=0;h<r;h++)p=dg(s*e()),e()<c[p]?f[h]=t[p]:f[h]=t[u[p]];return f},wg={mutate:!1,replace:!0},bg=q,Eg=J;var _g=q,Ag=tr,Og=Ca,Tg=function(t){return t===bg||t===Eg};var Pg=Na,Rg=Wr,jg=G.isPrimitive,Ig=function(t,r){return Og(t)||Og(r)?NaN:Tg(t)||Tg(r)?t===r?NaN:_g:Ag(t-r)};var Ug=Du,Ng=function(t){var r,e;if(Rg(t)){for(r=0,e=0;e<t.length;e++){if(!jg(t[e])||t[e]>1||t[e]<0)return!1;r+=t[e]}return Ig(r,1)<=1.4901161193847656e-8}if(Pg(t)){for(r=0,e=0;e<t.length;e++){if(t[e]>1||t[e]<0)return!1;r+=t[e]}return Ig(r,1)<=1.4901161193847656e-8}return!1},Sg=O,Mg=Mt.isPrimitive,Bg=uo;var xg=function(t,r){return Bg(r)?Sg(r,"size")&&(t.size=r.size,!Ug(t.size))?new TypeError("invalid option. `size` option must be a nonnegative integer. Option: `"+t.size+"`."):Sg(r,"probs")&&(t.probs=r.probs,!Ng(t.probs))?new TypeError("invalid option. `probs` option must be an array of probabilities that sum to one. Option: `"+t.probs+"`."):Sg(r,"mutate")&&(t.mutate=r.mutate,!Mg(t.mutate))?new TypeError("invalid option. `mutate` option must be a boolean primitive. Option: `"+t.mutate+"`."):Sg(r,"replace")&&(t.replace=r.replace,!Mg(t.replace))?new TypeError("invalid option. `replace` option must be a boolean primitive. Option: `"+t.replace+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+r+"`.")},Lg=y,Vg=qu,Yg=pc,Cg=Sr.isPrimitive,zg=qc.factory,Fg=cg,kg=hg,Dg=pg,Gg=yg,qg=mg,Jg=wg,Xg=xg,Wg=Array.prototype.slice;var $g=function(){var t,r,e,n,i,o;if(e=Fg(Jg),1===arguments.length)Vg(arguments[0])||Yg(arguments[0])?r=arguments[0]:i=Xg(e,t=arguments[0]);else if(arguments.length>1){if(t=arguments[1],!Vg(r=arguments[0])&&!Yg(r))throw new TypeError("invalid argument. `pool` argument must be array-like. Value: `"+r+"`.");i=Xg(e,t)}if(i)throw i;return n=t&&t.seed?zg({seed:t.seed}):zg(),void 0===r?o=a:(r=Cg(r)?r.split(""):Fg(r),o=u),Lg(o,"seed",n.seed),Lg(o,"PRNG",n),n=n.normalized,o;function a(t,r){var i,o,a,u,f,s;if(!Vg(t)&&!Yg(t))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+t+"`.");if(Cg(t)&&(t=t.split("")),u={},arguments.length>1&&(s=Xg(u,r)))throw s;if(i=void 0===u.replace?e.replace:u.replace,void 0!==u.probs&&(a=u.probs),f=u.size?u.size:e.size?e.size:t.length,!1===i&&f>t.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `"+f+"`.");return a?i?qg(t,f,n,a):Dg(t,f,n,a):i?kg(t,f,n):(o=Wg.call(t),Gg(o,f,n))}function u(t){var i,o,a,u,f,s;if(0===r.length)return null;if(a={},arguments.length&&(f=Xg(a,t)))throw f;if(o=void 0===a.mutate?e.mutate:a.mutate,i=void 0===a.replace?e.replace:a.replace,u=a.size?a.size:e.size?e.size:r.length,!1===i&&u>r.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `"+u+"`.");return i?kg(r,u,n):(s=Gg(r,u,n),o&&(r=r.slice(u,r.length)),s)}},Hg=$g();y(Hg,"factory",$g);var Zg=Hg.factory,Kg=Mu.ndarray;var Qg=function(t,r,e){var n,i,o,a,u,f,s,c,l,h,p;for(l=t.shape[0],h=t.shape[1],i=t.data,f=t.strides[1],s=t.offset,o=r.data,a=r.strides[0],u=r.strides[1],n=[],p=0;p<r.shape[0];p++)n.push(p);for(c=l===n.length?n:Zg({seed:e,size:l,mutate:!1,replacement:!1})(n),p=0;p<l;p++)Kg(h,o,u,a*c[p],i,f,s);return t};var tv=lt.isPrimitive,rv=ks;var ev=function(t,r){return!tv(t)||rv(t)?new TypeError("invalid argument. First argument must be an integer and not `NaN`. Value: `"+t+"`."):!tv(r)||rv(r)?new TypeError("invalid argument. Second argument must be an integer and not `NaN`. Value: `"+r+"`."):t>r?new RangeError("invalid argument. Minimum support `a` must be less than or equal to maximum support `b`. Value: `["+t+","+r+"]`."):null},nv=X;var iv=function t(r,e,n){var i,o,a,u,f,s,c,l;if(0===(a=n-e))return e;if(c=r.MIN,(o=r.MAX-c)===a)return r()-c+e;if(o<a)for(u=0;;){for(9007199254740991===a?(u=nv(a/(o+1)),a%(o+1)===o&&(u+=1)):u=nv((a+1)/(o+1)),i=0,s=1;s<=u;){if(i+=(r()-c)*s,s*o==a-s+1)return i;s*=o+1}if(!((l=t(r,0,nv(a/s)))>9007199254740991/s||(i+=l*=s)>a))return i+e}for(9007199254740991===o?(f=nv(o/(a+1)),o%(a+1)===a&&(f+=1)):f=nv((o+1)/(a+1));;)if(i=r()-c,(i=nv(i/f))<=a)return i+e},ov=y,av=Ht,uv=ki,fv=uo,sv=pe,cv=O,lv=function(t){return function(){return t}},hv=Sl,pv=qc.factory,gv=Ca,vv=$,yv=Ya,dv=ev,mv=iv;var wv=function(){var t,r,e,n,i,o;if(0===arguments.length)r=pv();else if(1===arguments.length){if(!fv(t=arguments[0]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(cv(t,"prng")){if(!sv(t.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+t.prng+"`.");if(r=t.prng,!vv(r.MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!vv(r.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else r=pv(t)}else{if(n=dv(i=arguments[0],o=arguments[1]))throw n;if(arguments.length>2){if(!fv(t=arguments[2]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(cv(t,"prng")){if(!sv(t.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+t.prng+"`.");if(r=t.prng,!vv(r.MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!vv(r.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else r=pv(t)}else r=pv()}return ov(e=void 0===i?g:p,"NAME","discrete-uniform"),t&&t.prng?(ov(e,"seed",null),ov(e,"seedLength",null),uv(e,"state",lv(null),hv),ov(e,"stateLength",null),ov(e,"byteLength",null),ov(e,"toJSON",lv(null)),ov(e,"PRNG",r)):(av(e,"seed",a),av(e,"seedLength",u),uv(e,"state",c,l),av(e,"stateLength",f),av(e,"byteLength",s),ov(e,"toJSON",h),ov(e,"PRNG",r)),e;function a(){return r.seed}function u(){return r.seedLength}function f(){return r.stateLength}function s(){return r.byteLength}function c(){return r.state}function l(t){r.state=t}function h(){var t={type:"PRNG"};return t.name=e.NAME,t.state=yv(r.state),t.params=void 0===i?[]:[i,o],t}function p(){return mv(r,i,o)}function g(t,e){return gv(t)||gv(e)||!vv(t)||!vv(e)||t>e?NaN:mv(r,t,e)}},bv=wv();y(bv,"factory",wv);var Ev=bv,_v=ic;var Av=function(t,r,e,n,i,o,a){var u,f,s,c,l;for(u=n,f=a,c=0,l=0;l<t;l++)c+=(s=r[u]-i[f])*s,u+=e,f+=o;return _v(c)},Ov=Av;var Tv=function(t,r,e,n,i,o,a){var u=Ov(t,r,e,n,i,o,a);return u*u};var Pv=function(t,r,e,n,i,o,a){var u,f,s,c;for(u=n,f=a,s=0,c=0;c<t;c++)s+=r[u]*i[f],u+=e,f+=o;return s},Rv=Pv;var jv=function(t,r,e,n,i,o,a){var u=1-Rv(t,r,e,n,i,o,a);return u*u},Iv=Pv;var Uv=function(t,r,e,n,i,o,a){var u=1-Iv(t,r,e,n,i,o,a);return u*u},Nv=Ev.factory,Sv=qc.factory,Mv=q,Bv=Mu.ndarray,xv=Tv,Lv=jv,Vv=Uv;function Yv(t,r,e,n,i,o){var a,u,f,s,c;for(s=i.data,a=(f=i.strides[0])*o,u=0,c=0;c<e;c++)t[c]=r(n,s,1,u,s,1,a),u+=f;return t}var Cv=function(t,r,e,n,i){var o,a,u,f,s,c,l,h,p,g,v,y,d,m,w,b,E,_,A,O,T,P,R,j,I,U,N,S;if(j=t.shape[0],f=t.shape[1],h=r.shape[0],y=t.data,E=t.strides[0],_=t.strides[1],A=t.offset,d=r.data,w=r.strides[0],b=r.strides[1],l=Sv({seed:i}),u=Nv({seed:l()}),l=l.normalized,v="cosine"===e?Lv:"correlation"===e?Vv:xv,R=u(0,h-1),1===j)return Bv(f,d,b,w*R,y,_,A);for(o=[R],O=new Array(f),s=new Array(2*h),m=0,U=0;U<h;U++)s[m]=Mv,s[m+1]=0,m+=2;for(c=new Array(h),N=1;N<j;N++){for(Yv(O,v,h,f,r,o[N-1]),p=0,m=0,U=0;U<h;U++)O[U]<s[m]?(s[m]=O[U],s[m+1]=N-1,p+=O[U]):p+=s[m],m+=2;for(c[0]=s[0]/p,m=2,U=1;U<h;U++)c[U]=c[U-1]+s[m]/p,m+=2;for(g=Mv,T=-1,S=0;S<n;S++){for(R=-1;-1===R;)for(I=l(),U=0;U<h;U++)if(I<c[U]){R=U;break}for(p=0,a=w*R,m=0,U=0;U<h;U++)(P=v(f,d,1,w*U,d,1,a))<s[m]?p+=P:p+=s[m],m+=2;p<g&&(g=p,T=R)}o.push(T)}for(U=0;U<j;U++)Bv(f,d,b,w*o[U],y,_,A),A+=E;return t};var zv=function(){var t,r;return t=0,r=0,function(e){if(0===arguments.length)return 0===r?null:t;return t+=(e-t)/(r+=1)}},Fv=zv,kv=Ev.factory,Dv=Fv;var Gv=function(t,r,e){var n,i,o,a,u,f,s,c,l,h,p,g,v,y,d,m;for(v=t.shape[0],y=t.shape[1],i=t.data,s=t.strides[0],c=t.strides[1],h=t.offset,a=r.data,o=r.shape[0],u=r.strides[0],f=r.strides[1],g=r.offset,n=kv(0,v-1,{seed:e}),l=[],d=0;d<v*y;d++)l.push(Dv());for(d=0;d<o;d++){for(p=y*n(),m=0;m<y;m++)l[p+m](a[g+f*m]);g+=u}for(p=0,d=0;d<v;d++){for(m=0;m<y;m++)i[h+c*m]=l[p](),p+=1;h+=s}return t},qv=q;var Jv=function(t,r,e,n,i,o,a,u,f){var s,c,l,h;for(s=qv,h=0;h<r;h++)(l=t(e,n,1,o,a,u,f))<s&&(s=l,c=h),o+=i;return c};var Xv=function(t,r,e,n,i,o,a,u){var f,s;for(s=0;s<t;s++)f=e[i],f+=(o[u]-f)/r,e[i]=f,i+=n,u+=a;return e},Wv=Jv,$v=Xv;var Hv=function(t,r,e,n,i){var o,a,u,f,s,c,l,h,p,g,v,y;for(g=r.shape[0],o=r.shape[1],f=t.shape[0],a=r.data,s=r.strides[0],u=t.data,c=t.strides[0],h=0,y=0;y<f;y++)l=s*(v=Wv(i,g,o,a,s,0,u,1,h)),p=e.get(v,0)+1,$v(o,p,a,1,l,u,1,h),n(v,i(o,a,1,l,u,1,h)),h+=c},Zv=yo.ndarray,Kv=bs,Qv=fc,ty=lc,ry=Qg,ey=Cv,ny=Gv,iy=Hv;var oy=function(t,r,e,n,i,o){var a,u;return u=t.shape[1],function(f){void 0===a&&((a=Kv(o.init[1],u,!0)).count=0);if(a.count<o.init[1]&&(Zv(u,f.data,f.strides[0],f.offset,a.data,a.strides[1],a.strides[0]*a.count),a.count+=1,a.count<o.init[1]))return!1;o.normalize&&("cosine"===o.metric?a=Qv(a):"correlation"===o.metric&&(a=ty(a,n())));t="forgy"===o.init[0]?ny(t,a,o.seed):"sample"===o.init[0]?ry(t,a,o.seed):ey(t,a,o.metric,o.init[2],o.seed);return iy(a,t,r,e,i),!0}},ay=ic;var uy=function(t,r){var e,n;for(e=[],n=0;n<r;n++)e.push(0);return function(r,n){var i,o,a;return a=t.get(r,0)+1,t.set(r,0,a),t.set(r,1,t.get(r,1)+n),o=t.get(r,2),o+=(i=n-o)/a,e[r]+=i*(n-o),t.set(r,2,o),t.set(r,3,ay(e[r]/(a-1))),t}},fy=Us,sy=Ca,cy=ic;var ly=function(t){var r,e,n,i,o;if(0===arguments.length)r=[0,0];else{if(!fy(t))throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.");r=t}return i=0,n=0,o=0,a;function a(t){return 0===arguments.length?0===o?null:(r[0]=n,1===o?(sy(i)?r[1]=NaN:r[1]=0,r):(r[1]=cy(i/(o-1)),r)):(i+=(e=t-n)*(t-(n+=e/(o+=1))),r[0]=n,o<2?(sy(i)?r[1]=NaN:r[1]=0,r):(r[1]=cy(i/(o-1)),r))}},hy=ly,py=un;var gy=Et.isPrimitive,vy=Vi,yy=Ci,dy=y,my=fu,wy=X,by=ju,Ey=Mu,_y=bs,Ay=_s,Oy=Ps,Ty=js,Py=ec,Ry=nc,jy=oy,Iy=uy,Uy=function(t){var r,e,n,i,o;for(2,r=2*(n=new py(2*t)).BYTES_PER_ELEMENT,e=[],i=0,o=0;o<t;o++)e.push(hy(new py(n.buffer,i,2))),i+=r;return function(r){var i;if(0===arguments.length)return n;for(i=0;i<t;i++)e[i](r.get(i));return n}},Ny=Tv,Sy=jv,My=Uv,By=Jv,xy=Xv,Ly=ac,Vy=fc,Yy=sc,Cy=lc;function zy(t,r){var e={};return e.centroids=_y(t,r,!1),e.stats=_y(t,4,!1),e}var Fy=function(){var t,r,e,n,i,o,a,u,f,s,c,l,h,p;if(vy(arguments[0]))p=arguments[0].shape[0],u=arguments[0].shape[1],r=_y(p,u,!0),r=Ay(r,arguments[0]),arguments.length>1&&(n=arguments[1],h=!0);else{if(!gy(arguments[0]))throw new TypeError("invalid argument. First argument must either be a positive integer specifying the number of clusters or a matrix containing initial centroids. Value: `"+arguments[0]+"`.");if(p=arguments[0],!gy(u=arguments[1]))throw new TypeError("invalid argument. Argument specifying number of dimensions must be a positive integer. Value: `"+u+"`.");arguments.length>2&&(n=arguments[2],h=!0)}if((s={metric:"euclidean",init:Ry["kmeans++"].slice(),seed:my(),normalize:!0,copy:!0}).init[1]=p,s.init[2]=2+wy(by(p)),h&&(l=Py(s,n)))throw l;if(s.init[1]<p)throw new RangeError("invalid option. First `init` parameter option must be greater than or equal to the number of clusters. Options: `"+s.init[1]+"`.");return i=zy(p,u),a=_y(p,4,!0),t=Iy(a,p),"cosine"===s.metric?(f=Sy,s.copy&&(o=Oy(u,!0))):"correlation"===s.metric?(f=My,s.normalize&&(e=Uy(u)),s.copy&&(o=Oy(u,!0))):f=Ny,void 0===r?(r=_y(p,u,!0),c=jy(r,a,t,e,f,s)):Ay(i.centroids,r),dy(g,"seed",s.seed),dy(g,"predict",v),g;function g(n){var l,h,g,v,y,d,m,w,b,E,_;if(0===arguments.length)return c?null:i;if(!yy(w=n))throw new TypeError("invalid argument. Must provide a 1-dimensional ndarray. Value: `"+w+"`.");if(w.shape[0]!==u)throw new Error("invalid argument. Vector length must match centroid dimensions. Expected: "+u+". Actual: "+w.shape[0]+".");if(e&&e(w),c){if(!1===c(w))return null;c=void 0}else s.normalize&&("cosine"===s.metric?(s.copy&&(w=Ty(o,w)),Ly(u,w.data,w.strides[0],w.offset)):"correlation"===s.metric&&(s.copy&&(w=Ty(o,w)),g=e(),Yy(u,w.data,w.strides[0],w.offset,g,2,0,g,2,1))),l=r.data,y=r.strides[0],h=w.data,v=w.strides[0],d=w.offset,m=y*(_=By(f,p,u,l,y,0,h,v,d)),b=a.get(_,0)+1,xy(u,b,l,1,m,h,v,d),E=f(u,l,1,m,h,v,d),t(_,E);return Ey(r.length,r.data,1,i.centroids.data,1),Ey(a.length,a.data,1,i.stats.data,1),i}function v(t,n){var i,o,a,l,h,g,v,y,d,m,w;if(arguments.length>1){if(!yy(t))throw new TypeError("invalid argument. Output argument must be a 1-dimensional ndarray. Value: `"+t+"`.");d=t,y=n}else y=t;if(!vy(y))throw new TypeError("invalid argument. Must provide a 2-dimensional ndarray. Value: `"+y+"`.");if(y.shape[1]!==u)throw new Error("invalid argument. Number of matrix columns must match centroid dimensions. Expected: "+u+". Actual: "+y.shape[1]+".");if(void 0===d)d=Oy(y.shape[0],!1);else if(d.length!==y.shape[0])throw new Error("invalid argument. Output vector length must match the number of data points. Expected: "+y.shape[0]+". Actual: "+d.length+".");if(c)return null;for(a=y.shape[0],s.normalize&&("cosine"===s.metric?(s.copy&&(y=Ay(_y(a,u,!0),y)),y=Vy(y)):"correlation"===s.metric&&(s.copy&&(y=Ay(_y(a,u,!0),y)),y=Cy(y,e()))),o=r.data,g=r.strides[0],i=y.data,l=y.strides[0],h=y.strides[1],v=y.offset,w=0;w<a;w++)m=By(f,p,u,o,g,0,i,h,v),d.set(w,m),v+=l;return d}},ky=Fy;export{ky as default};
//# sourceMappingURL=mod.js.map
