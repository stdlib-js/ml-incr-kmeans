// Copyright (c) 2026 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("path"),require("buffer")):"function"==typeof define&&define.amd?define(["path","buffer"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).incrkmeans=e(t.require$$0,t.require$$0$1)}(this,(function(t,e){"use strict";var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var n=Object.defineProperty;function i(t){return"number"==typeof t}function o(t){var e,r="";for(e=0;e<t;e++)r+="0";return r}function a(t,e,r){var n=!1,i=e-t.length;return i<0||(function(t){return"-"===t[0]}(t)&&(n=!0,t=t.substr(1)),t=r?t+o(i):o(i)+t,n&&(t="-"+t)),t}var u=String.prototype.toLowerCase,s=String.prototype.toUpperCase;function f(t){var e,r,n;switch(t.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(r=t.arg,n=parseInt(r,10),!isFinite(n)){if(!i(r))throw new Error("invalid integer. Value: "+r);n=0}return n<0&&("u"===t.specifier||10!==e)&&(n=4294967295+n+1),n<0?(r=(-n).toString(e),t.precision&&(r=a(r,t.precision,t.padRight)),r="-"+r):(r=n.toString(e),n||t.precision?t.precision&&(r=a(r,t.precision,t.padRight)):r="",t.sign&&(r=t.sign+r)),16===e&&(t.alternate&&(r="0x"+r),r=t.specifier===s.call(t.specifier)?s.call(r):u.call(r)),8===e&&t.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}var l=Math.abs,h=String.prototype.toLowerCase,c=String.prototype.toUpperCase,p=String.prototype.replace,g=/e\+(\d)$/,m=/e-(\d)$/,y=/^(\d+)$/,d=/^(\d+)e/,b=/\.0$/,w=/\.0*e/,v=/(\..*[^0])0*e/;function _(t,e){var r,n;switch(e.specifier){case"e":case"E":n=t.toExponential(e.precision);break;case"f":case"F":n=t.toFixed(e.precision);break;case"g":case"G":l(t)<1e-4?((r=e.precision)>0&&(r-=1),n=t.toExponential(r)):n=t.toPrecision(e.precision),e.alternate||(n=p.call(n,v,"$1e"),n=p.call(n,w,"e"),n=p.call(n,b,""));break;default:throw new Error("invalid double notation. Value: "+e.specifier)}return n=p.call(n,g,"e+0$1"),n=p.call(n,m,"e-0$1"),e.alternate&&(n=p.call(n,y,"$1."),n=p.call(n,d,"$1.e")),t>=0&&e.sign&&(n=e.sign+n),n=e.specifier===c.call(e.specifier)?c.call(n):h.call(n)}function E(t){var e,r="";for(e=0;e<t;e++)r+=" ";return r}var T=String.fromCharCode,x=Array.isArray;function O(t){return t!=t}function A(t){var e={};return e.specifier=t.specifier,e.precision=void 0===t.precision?1:t.precision,e.width=t.width,e.flags=t.flags||"",e.mapping=t.mapping,e}function R(t){var e,r,n,o,u,s,l,h,c,p,g,m,y,d;if(!x(t))throw new TypeError("invalid argument. First argument must be an array. Value: `"+t+"`.");for(s="",l=1,c=0;c<t.length;c++)if(n=t[c],"string"==typeof n)s+=n;else{if(e=void 0!==n.precision,!(n=A(n)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+n+"`.");for(n.mapping&&(l=n.mapping),r=n.flags,p=0;p<r.length;p++)switch(o=r.charAt(p)){case" ":n.sign=" ";break;case"+":n.sign="+";break;case"-":n.padRight=!0,n.padZeros=!1;break;case"0":n.padZeros=r.indexOf("-")<0;break;case"#":n.alternate=!0;break;default:throw new Error("invalid flag: "+o)}if("*"===n.width){if(n.width=parseInt(arguments[l],10),l+=1,O(n.width))throw new TypeError("the argument for * width at position "+l+" is not a number. Value: `"+n.width+"`.");n.width<0&&(n.padRight=!0,n.width=-n.width)}if(e&&"*"===n.precision){if(n.precision=parseInt(arguments[l],10),l+=1,O(n.precision))throw new TypeError("the argument for * precision at position "+l+" is not a number. Value: `"+n.precision+"`.");n.precision<0&&(n.precision=1,e=!1)}switch(n.arg=arguments[l],n.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(n.padZeros=!1),n.arg=f(n);break;case"s":n.maxWidth=e?n.precision:-1,n.arg=String(n.arg);break;case"c":if(!O(n.arg)){if((u=parseInt(n.arg,10))<0||u>127)throw new Error("invalid character code. Value: "+n.arg);n.arg=O(u)?String(n.arg):T(u)}break;case"e":case"E":case"f":case"F":case"g":case"G":if(e||(n.precision=6),h=parseFloat(n.arg),!isFinite(h)){if(!i(n.arg))throw new Error("invalid floating-point number. Value: "+s);h=n.arg,n.padZeros=!1}n.arg=_(h,n);break;default:throw new Error("invalid specifier: "+n.specifier)}n.maxWidth>=0&&n.arg.length>n.maxWidth&&(n.arg=n.arg.substring(0,n.maxWidth)),n.padZeros?n.arg=a(n.arg,n.width||n.precision,n.padRight):n.width&&(n.arg=(g=n.arg,m=n.width,y=n.padRight,d=void 0,(d=m-g.length)<0?g:g=y?g+E(d):E(d)+g)),s+=n.arg||"",l+=1}return s}var N=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function j(t){var e={mapping:t[1]?parseInt(t[1],10):void 0,flags:t[2],width:t[3],precision:t[5],specifier:t[6]};return"."===t[4]&&void 0===t[5]&&(e.precision="1"),e}function V(t){var e,r,n,i;for(r=[],i=0,n=N.exec(t);n;)(e=t.slice(i,N.lastIndex-n[0].length)).length&&r.push(e),"%"===n[6]?r.push("%"):r.push(j(n)),i=N.lastIndex,n=N.exec(t);return(e=t.slice(i)).length&&r.push(e),r}function S(t){var e,r;if("string"!=typeof t)throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));for(e=[V(t)],r=1;r<arguments.length;r++)e.push(arguments[r]);return R.apply(null,e)}var I,L=Object.prototype,M=L.toString,U=L.__defineGetter__,B=L.__defineSetter__,F=L.__lookupGetter__,C=L.__lookupSetter__;I=function(){try{return r({},"x",{}),!0}catch(t){return!1}}()?n:function(t,e,r){var n,i,o,a;if("object"!=typeof t||null===t||"[object Array]"===M.call(t))throw new TypeError(S("invalid argument. First argument must be an object. Value: `%s`.",t));if("object"!=typeof r||null===r||"[object Array]"===M.call(r))throw new TypeError(S("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((i="value"in r)&&(F.call(t,e)||C.call(t,e)?(n=t.__proto__,t.__proto__=L,delete t[e],t[e]=r.value,t.__proto__=n):t[e]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&U&&U.call(t,e,r.get),a&&B&&B.call(t,e,r.set),t};var P=I;function k(t,e,r){P(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}function Y(t){return"number"==typeof t}var z="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function J(){return z&&"symbol"==typeof Symbol.toStringTag}var G=Object.prototype.toString;var D=Object.prototype.hasOwnProperty;function W(t,e){return null!=t&&D.call(t,e)}var q="function"==typeof Symbol?Symbol:void 0,$="function"==typeof q?q.toStringTag:"";var X=J()?function(t){var e,r,n;if(null==t)return G.call(t);r=t[$],e=W(t,$);try{t[$]=void 0}catch(e){return G.call(t)}return n=G.call(t),e?t[$]=r:delete t[$],n}:function(t){return G.call(t)},Z=Number,H=Z.prototype.toString;var K=J();function Q(t){return"object"==typeof t&&(t instanceof Z||(K?function(t){try{return H.call(t),!0}catch(t){return!1}}(t):"[object Number]"===X(t)))}function tt(t){return Y(t)||Q(t)}k(tt,"isPrimitive",Y),k(tt,"isObject",Q);var et=Number.POSITIVE_INFINITY,rt=Z.NEGATIVE_INFINITY,nt=Math.floor;function it(t){return nt(t)===t}function ot(t){return t<et&&t>rt&&it(t)}function at(t){return Y(t)&&ot(t)}function ut(t){return Q(t)&&ot(t.valueOf())}function st(t){return at(t)||ut(t)}function ft(t){return at(t)&&t>0}function lt(t){return ut(t)&&t.valueOf()>0}function ht(t){return ft(t)||lt(t)}function ct(t){return"boolean"==typeof t}k(st,"isPrimitive",at),k(st,"isObject",ut),k(ht,"isPrimitive",ft),k(ht,"isObject",lt);var pt=Boolean,gt=Boolean.prototype.toString;var mt=J();function yt(t){return"object"==typeof t&&(t instanceof pt||(mt?function(t){try{return gt.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===X(t)))}function dt(t){return ct(t)||yt(t)}k(dt,"isPrimitive",ct),k(dt,"isObject",yt);var bt="object"==typeof self?self:null,wt="object"==typeof window?window:null,vt="object"==typeof global?global:null,_t="object"==typeof globalThis?globalThis:null;function Et(t){if(arguments.length){if(!ct(t))throw new TypeError(S("invalid argument. Must provide a boolean. Value: `%s`.",t));if(t)return new Function("return this;")()}if(_t)return _t;if(bt)return bt;if(wt)return wt;if(vt)return vt;throw new Error("unexpected error. Unable to resolve global object.")}var Tt=Et();function xt(){return"function"==typeof Tt.BigInt&&"function"==typeof BigInt&&"bigint"==typeof Tt.BigInt("1")&&"bigint"==typeof BigInt("1")}function Ot(t,e,r){P(t,e,{configurable:!1,enumerable:!1,get:r})}var At={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function Rt(t){var e,r;for(e=0,r=0;r<t.length;r++)t[r]<0&&(e+=1);return 0===e?1:e===t.length?-1:0}function Nt(t){return Math.abs(t)}function jt(t){var e,r,n,i,o,a;if(0===(r=t.length))return 0;for(e=!0,n=!0,i=Nt(t[0]),a=1;a<r;a++){if(o=Nt(t[a]),e&&o<i?e=!1:n&&o>i&&(n=!1),!n&&!e)return 0;i=o}return n&&e?3:n?1:2}function Vt(t,e){return e&&(2===t||3===t)}function St(t,e){return e&&(1===t||3===t)}function It(t,e,r){var n,i,o,a,u;for(n=t.length,i=r,o=r,u=0;u<n;u++){if(0===t[u])return[r,r];(a=e[u])>0?o+=a*(t[u]-1):a<0&&(i+=a*(t[u]-1))}return[i,o]}function Lt(t){return t.re}function Mt(t){return t.im}function Ut(t){return"string"==typeof t}k(It,"assign",(function(t,e,r,n){var i,o,a,u,s;for(i=t.length,o=r,a=r,s=0;s<i;s++){if(0===t[s])return n[0]=r,n[1]=r,n;(u=e[s])>0?a+=u*(t[s]-1):u<0&&(o+=u*(t[s]-1))}return n[0]=o,n[1]=a,n}));var Bt=String.prototype.valueOf;var Ft=J();function Ct(t){return"object"==typeof t&&(t instanceof String||(Ft?function(t){try{return Bt.call(t),!0}catch(t){return!1}}(t):"[object String]"===X(t)))}function Pt(t){return Ut(t)||Ct(t)}k(Pt,"isPrimitive",Ut),k(Pt,"isObject",Ct);var kt=/[-\/\\^$*+?.()|[\]{}]/g;var Yt=/./,zt=Et(),Jt=zt.document&&zt.document.childNodes,Gt=Int8Array;function Dt(){return/^\s*function\s*([^(]*)/i}var Wt=/^\s*function\s*([^(]*)/i;k(Dt,"REGEXP",Wt);var qt=Array.isArray?Array.isArray:function(t){return"[object Array]"===X(t)};function $t(t){return null!==t&&"object"==typeof t}var Xt=function(t){if("function"!=typeof t)throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!qt(e))return!1;if(r=e.length,0===r)return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}($t);function Zt(t){return $t(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Ht(t){var e,r,n;if(("Object"===(r=X(t).slice(8,-1))||"Error"===r)&&t.constructor){if("string"==typeof(n=t.constructor).name)return n.name;if(e=Wt.exec(n.toString()))return e[1]}return Zt(t)?"Buffer":r}k($t,"isObjectLikeArray",Xt);var Kt="function"==typeof Yt||"object"==typeof Gt||"function"==typeof Jt?function(t){return Ht(t).toLowerCase()}:function(t){var e;return null===t?"null":"object"===(e=typeof t)?Ht(t).toLowerCase():e};function Qt(t){return"function"===Kt(t)}var te=RegExp.prototype.exec;var ee=J();function re(t){return"object"==typeof t&&(t instanceof RegExp||(ee?function(t){try{return te.call(t),!0}catch(t){return!1}}(t):"[object RegExp]"===X(t)))}function ne(t,e,r){return t.replace(e,r)}function ie(t,e,r){if(!Ut(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));if(Ut(e))e=new RegExp(function(t){var e,r;if(!Ut(t))throw new TypeError(S("invalid argument. Must provide a regular expression string. Value: `%s`.",t));if("/"===t[0])for(r=t.length-1;r>=0&&"/"!==t[r];r--);return void 0===r||r<=0?t.replace(kt,"\\$&"):(e=(e=t.substring(1,r)).replace(kt,"\\$&"),t=t[0]+e+t.substring(r))}(e),"g");else if(!re(e))throw new TypeError(S("invalid argument. Second argument must be a string or regular expression. Value: `%s`.",e));if(!Ut(r)&&!Qt(r))throw new TypeError(S("invalid argument. Third argument must be a string or replacement function. Value: `%s`.",r));return ne(t,e,r)}var oe={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var ae="function"==typeof Uint8Array;var ue="function"==typeof Uint8Array?Uint8Array:null;var se,fe="function"==typeof Uint8Array?Uint8Array:void 0;se=function(){var t,e,r;if("function"!=typeof ue)return!1;try{e=new ue(e=[1,3.14,-3.14,256,257]),r=e,t=(ae&&r instanceof Uint8Array||"[object Uint8Array]"===X(r))&&1===e[0]&&3===e[1]&&253===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?fe:function(){throw new Error("not implemented")};var le=se,he="function"==typeof Uint16Array;var ce="function"==typeof Uint16Array?Uint16Array:null;var pe,ge="function"==typeof Uint16Array?Uint16Array:void 0;pe=function(){var t,e,r;if("function"!=typeof ce)return!1;try{e=new ce(e=[1,3.14,-3.14,65536,65537]),r=e,t=(he&&r instanceof Uint16Array||"[object Uint16Array]"===X(r))&&1===e[0]&&3===e[1]&&65533===e[2]&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?ge:function(){throw new Error("not implemented")};var me,ye=pe,de={uint16:ye,uint8:le};(me=new de.uint16(1))[0]=4660;var be=52===new de.uint8(me.buffer)[0],we="function"==typeof ArrayBuffer;function ve(t){return we&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===X(t)}var _e="function"==typeof Float64Array;var Ee="function"==typeof Float64Array?Float64Array:null;function Te(){var t,e,r;if("function"!=typeof Ee)return!1;try{e=new Ee([1,3.14,-3.14,NaN]),r=e,t=(_e&&r instanceof Float64Array||"[object Float64Array]"===X(r))&&1===e[0]&&3.14===e[1]&&-3.14===e[2]&&e[3]!=e[3]}catch(e){t=!1}return t}var xe="function"==typeof Float64Array?Float64Array:void 0;var Oe=Te()?xe:function(){throw new Error("not implemented")},Ae="function"==typeof ArrayBuffer?ArrayBuffer:null;var Re,Ne="function"==typeof ArrayBuffer?ArrayBuffer:void 0;Re=function(){var t,e,r;if("function"!=typeof Ae)return!1;try{(t=ve(r=new Ae(16))&&"function"==typeof Ae.isView)&&((e=new Oe(r))[0]=-3.14,e[1]=NaN,t=t&&Ae.isView(e)&&16===r.byteLength&&-3.14===e[0]&&e[1]!=e[1])}catch(e){t=!1}return t}()?Ne:function(){throw new Error("not implemented")};var je=Re,Ve="function"==typeof DataView;var Se="function"==typeof DataView?DataView:null;var Ie,Le="function"==typeof DataView?DataView:void 0;Ie=function(){var t,e,r,n;if("function"!=typeof Se)return!1;try{r=new je(24),e=new Se(r,8),n=e,(t=(Ve&&n instanceof DataView||"[object DataView]"===X(n))&&"function"==typeof e.getFloat64&&"function"==typeof e.setFloat64)&&(e.setFloat64(0,-3.14),e.setFloat64(8,NaN),t=t&&e.buffer===r&&16===e.byteLength&&8===e.byteOffset&&-3.14===e.getFloat64(0)&&e.getFloat64(8)!=e.getFloat64(8))}catch(e){t=!1}return t}()?Le:function(){throw new Error("not implemented")};var Me=Ie,Ue="function"==typeof BigInt?BigInt:void 0,Be={all:["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","bool","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]},Fe=/_and_generic$/;function Ce(){var t,e,r;return 0===arguments.length?Be.all.slice():(r=!1,t=arguments[0],Fe.test(t)&&"all"!==(t=ne(t,Fe,""))&&(r=!0),e=(e=Be[t])?e.slice():[],r&&e.length>0&&e.push("generic"),e)}function Pe(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function ke(t,e,r){P(t,e,{configurable:!1,enumerable:!0,writable:!1,value:r})}function Ye(t){return Object.keys(Object(t))}var ze,Je=void 0!==Object.keys;function Ge(t){return"[object Arguments]"===X(t)}ze=function(){return Ge(arguments)}();var De=ze;function We(t){return t!=t}function qe(t){return Y(t)&&We(t)}function $e(t){return Q(t)&&We(t.valueOf())}function Xe(t){return qe(t)||$e(t)}k(Xe,"isPrimitive",qe),k(Xe,"isObject",$e);var Ze=Object.prototype.propertyIsEnumerable;var He=!Ze.call("beep","0");function Ke(t,e){var r;return null!=t&&(!(r=Ze.call(t,e))&&He&&Pt(t)?!qe(e=+e)&&at(e)&&e>=0&&e<t.length:r)}var Qe=4294967295;var tr=De?Ge:function(t){return null!==t&&"object"==typeof t&&!qt(t)&&"number"==typeof t.length&&it(t.length)&&t.length>=0&&t.length<=Qe&&W(t,"callee")&&!Ke(t,"callee")},er=Array.prototype.slice;function rr(){}var nr=Ke(rr,"prototype"),ir=!Ke({toString:null},"toString"),or=9007199254740991;function ar(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&it(t.length)&&t.length>=0&&t.length<=or}function ur(t,e,r){var n,i;if(!ar(t)&&!Ut(t))throw new TypeError(S("invalid argument. First argument must be an array-like object. Value: `%s`.",t));if(0===(n=t.length))return-1;if(3===arguments.length){if(!at(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=n)return-1;i=r}else(i=n+r)<0&&(i=0)}else i=0;if(Xe(e)){for(;i<n;i++)if(Xe(t[i]))return i}else for(;i<n;i++)if(t[i]===e)return i;return-1}function sr(t){return t.constructor&&t.constructor.prototype===t}var fr=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],lr="undefined"==typeof window?void 0:window;var hr=function(){var t;if("undefined"===Kt(lr))return!1;for(t in lr)try{-1===ur(fr,t)&&W(lr,t)&&null!==lr[t]&&"object"===Kt(lr[t])&&sr(lr[t])}catch(t){return!0}return!1}(),cr="undefined"!=typeof window;var pr,gr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];pr=Je?function(){return 2!==(Ye(arguments)||"").length}(1,2)?function(t){return tr(t)?Ye(er.call(t)):Ye(t)}:Ye:function(t){var e,r,n,i,o,a,u;if(i=[],tr(t)){for(u=0;u<t.length;u++)i.push(u.toString());return i}if("string"==typeof t){if(t.length>0&&!W(t,"0"))for(u=0;u<t.length;u++)i.push(u.toString())}else{if(!1==(n="function"==typeof t)&&!$t(t))return i;r=nr&&n}for(o in t)r&&"prototype"===o||!W(t,o)||i.push(String(o));if(ir)for(e=function(t){if(!1===cr&&!hr)return sr(t);try{return sr(t)}catch(t){return!1}}(t),u=0;u<gr.length;u++)a=gr[u],e&&"constructor"===a||!W(t,a)||i.push(String(a));return i};var mr=pr;k(Ce,"enum",Pe),function(t,e){var r,n,i;for(r=mr(e),i=0;i<r.length;i++)ke(t,n=r[i],e[n])}(Ce,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var yr=["row-major","column-major"];function dr(){return yr.slice()}var br=["row-major","column-major"];function wr(){return{"row-major":101,"column-major":102}}k((function(){return br.slice()}),"enum",wr);var vr={"row-major":101,"column-major":102};function _r(){return{"row-major":vr["row-major"],"column-major":vr["column-major"]}}k(dr,"enum",_r);var Er=["throw","normalize","clamp","wrap"];function Tr(){return Er.slice()}function xr(){return{throw:1,clamp:2,wrap:3,normalize:4}}k(Tr,"enum",xr);var Or={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Ar=_r(),Rr={throw:1,clamp:2,wrap:3,normalize:4};var Nr=4294967295,jr=4294967296,Vr=new le(8),Sr=new Me(Vr.buffer);function Ir(t,e,r,n){var i,o,a;if(0===t){for(a=0;a<Vr.length;a++)e[n]=0,n+=r;return e}for(o=(t&Nr)>>>0,i=nt(t/jr),be?(Sr.setUint32(0,o,be),Sr.setUint32(4,i,be)):(Sr.setUint32(0,i,be),Sr.setUint32(4,o,be)),a=0;a<Vr.length;a++)e[n]=Vr[a],n+=r;return e}k((function(t){var e,r,n,i;return e=new le(8),0===t||(i=(4294967295&t)>>>0,n=nt(t/4294967296),r=new Me(e.buffer),be?(r.setUint32(0,i,be),r.setUint32(4,n,be)):(r.setUint32(0,n,be),r.setUint32(4,i,be))),e}),"assign",Ir);var Lr={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Mr=_r(),Ur={throw:1,clamp:2,wrap:3,normalize:4};function Br(t,e,r,n,i,o){var a,u,s,f,l;if(!(this instanceof Br))return new Br(t,e,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=function(t){return At[t]||null}(t),this._buffer=e,this._dtype=t,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=pt(e.get&&e.set),this._iterationOrder=Rt(n),a=function(t,e,r,n,i){var o;return 0!==t&&0!==i&&t===(o=It(e,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=jt(n),this._flags={ROW_MAJOR_CONTIGUOUS:St(s,a),COLUMN_MAJOR_CONTIGUOUS:Vt(s,a),READONLY:!1},this.__meta_dataview__=null,this}function Fr(t){return t instanceof Br||null!==t&&"object"==typeof t&&"object"==typeof t.data&&"object"==typeof t.shape&&"object"==typeof t.strides&&"number"==typeof t.offset&&"string"==typeof t.order&&"number"==typeof t.ndims&&"string"==typeof t.dtype&&"number"==typeof t.length&&"object"==typeof t.flags&&"function"==typeof t.get&&"function"==typeof t.set}function Cr(t){return Fr(t)&&2===t.ndims&&2===t.shape.length&&2===t.strides.length}function Pr(t){return Fr(t)&&1===t.ndims&&1===t.shape.length&&1===t.strides.length}function kr(){var t,e=arguments,r="https://stdlib.io/e/"+e[0]+"?";for(t=1;t<e.length;t++)r+="&arg[]="+encodeURIComponent(e[t]);return r}function Yr(t,e,r,n){P(t,e,{configurable:!1,enumerable:!1,get:r,set:n})}function zr(t){return"object"==typeof t&&null!==t&&!qt(t)}k(Br,"name","ndarray"),Ot(Br.prototype,"byteLength",(function(){return this._byteLength})),Ot(Br.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Ot(Br.prototype,"data",(function(){return this._buffer})),Ot(Br.prototype,"dtype",(function(){return this._dtype})),Ot(Br.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(t=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY};var t})),Ot(Br.prototype,"length",(function(){return this._length})),Ot(Br.prototype,"ndims",(function(){return this._ndims})),Ot(Br.prototype,"offset",(function(){return this._offset})),Ot(Br.prototype,"order",(function(){return this._order})),Ot(Br.prototype,"shape",(function(){return this._shape.slice()})),Ot(Br.prototype,"strides",(function(){return this._strides.slice()})),k(Br.prototype,"get",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.get(t):this._buffer[t]})),k(Br.prototype,"iget",(function(t){var e,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(r=this._shape,e=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),k(Br.prototype,"set",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length-1;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.set(arguments[e],t):this._buffer[t]=arguments[e],this})),k(Br.prototype,"iset",(function(t,e){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset+t):this._buffer[this._offset+t]=e,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset-t):this._buffer[this._offset-t]=e,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this})),k(Br.prototype,"toString",(function(){var t,e,r,n,i,o;if(e=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",t="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<this._length-1&&(t+=", ");else for(o=0;o<this._length;o++)t+=this.iget(o),o<this._length-1&&(t+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<2&&(t+=", ");else for(o=0;o<3;o++)t+=this.iget(o),o<2&&(t+=", ");if(t+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)t+=Lt(i=this.iget(this._length-1-o))+", "+Mt(i),o>0&&(t+=", ");else for(o=2;o>=0;o--)t+=this.iget(this._length-1-o),o>0&&(t+=", ")}if(r+=ie(oe[this.dtype],"{{data}}",t),r+=", ",r+=0===e?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===e)r+="0";else for(o=0;o<e;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<e-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),k(Br.prototype,"toJSON",(function(){var t,e,r,n;for(e=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<e;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<e;n++)r=this.iget(n),t.data.push(Lt(r),Mt(r));else for(n=0;n<e;n++)t.data.push(this.iget(n));return t})),k(Br.prototype,"__array_meta_dataview__",xt()?function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(h=this._ndims)+(c=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Me(new je(r)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,f=0,u.setInt8(f,be?1:0),f+=1,u.setInt16(f,Or[n],be),f+=2,u.setBigInt64(f,Ue(h),be),l=8*h,f+=8,p=0;p<h;p++)u.setBigInt64(f,Ue(i[p]),be),u.setBigInt64(f+l,Ue(o[p]*t),be),f+=8;for(f+=l,u.setBigInt64(f,Ue(this._offset*t),be),f+=8,u.setInt8(f,Ar[this._order]),f+=1,u.setInt8(f,Rr[s]),f+=1,u.setBigInt64(f,Ue(c),be),f+=8,p=0;p<c;p++)u.setInt8(f,Rr[a[p]]),f+=1;return e=0,e|=this._flags.READONLY?4:0,u.setInt32(f,e,be),this.__meta_dataview__=u,u}:function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(c=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Me(new je(n)),e=new le(s.buffer),o=this._shape,a=this._strides,i=this._dtype,t=this._bytesPerElement,l=0,s.setInt8(l,be?1:0),l+=1,s.setInt16(l,Lr[i],be),Ir(c,e,1,l+=2),h=8*c,l+=8,g=0;g<c;g++)Ir(o[g],e,1,l),Ir(a[g]*t,e,1,l+h),l+=8;for(l+=h,Ir(this._offset*t,e,1,l),l+=8,s.setInt8(l,Mr[this._order]),l+=1,s.setInt8(l,Ur[f]),Ir(p,e,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,Ur[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,be),this.__meta_dataview__=s,s});var Jr,Gr=Object,Dr=Object.getPrototypeOf;Jr=Qt(Object.getPrototypeOf)?Dr:function(t){var e=function(t){return t.__proto__}(t);return e||null===e?e:"[object Function]"===X(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null};var Wr=Jr;function qr(t){return null==t?null:(t=Gr(t),Wr(t))}var $r=Object.prototype;function Xr(t){var e;return!!zr(t)&&(!(e=qr(t))||!W(t,"constructor")&&W(e,"constructor")&&Qt(e.constructor)&&"[object Function]"===X(e.constructor)&&W(e,"isPrototypeOf")&&Qt(e.isPrototypeOf)&&(e===$r||function(t){var e;for(e in t)if(!W(t,e))return!1;return!0}(t)))}var Zr="function"==typeof Int32Array;function Hr(t){return Zr&&t instanceof Int32Array||"[object Int32Array]"===X(t)}var Kr="function";function Qr(t){return typeof t.get===Kr&&typeof t.set===Kr}var tn={float64:function(t,e){return t[e]},float32:function(t,e){return t[e]},int32:function(t,e){return t[e]},int16:function(t,e){return t[e]},int8:function(t,e){return t[e]},uint32:function(t,e){return t[e]},uint16:function(t,e){return t[e]},uint8:function(t,e){return t[e]},uint8c:function(t,e){return t[e]},generic:function(t,e){return t[e]},default:function(t,e){return t[e]}};function en(t){var e=tn[t];return"function"==typeof e?e:tn.default}var rn={float64:function(t,e,r){t[e]=r},float32:function(t,e,r){t[e]=r},int32:function(t,e,r){t[e]=r},int16:function(t,e,r){t[e]=r},int8:function(t,e,r){t[e]=r},uint32:function(t,e,r){t[e]=r},uint16:function(t,e,r){t[e]=r},uint8:function(t,e,r){t[e]=r},uint8c:function(t,e,r){t[e]=r},generic:function(t,e,r){t[e]=r},default:function(t,e,r){t[e]=r}};function nn(t){var e=rn[t];return"function"==typeof e?e:rn.default}var on={complex128:function(t,e){return t.get(e)},complex64:function(t,e){return t.get(e)},default:function(t,e){return t.get(e)}};function an(t){var e=on[t];return"function"==typeof e?e:on.default}var un={complex128:function(t,e,r){t.set(r,e)},complex64:function(t,e,r){t.set(r,e)},default:function(t,e,r){t.set(r,e)}};function sn(t){var e=un[t];return"function"==typeof e?e:un.default}var fn={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},ln="function"==typeof Float32Array;var hn="function"==typeof Float32Array?Float32Array:null;var cn,pn="function"==typeof Float32Array?Float32Array:void 0;cn=function(){var t,e,r;if("function"!=typeof hn)return!1;try{e=new hn([1,3.14,-3.14,5e40]),r=e,t=(ln&&r instanceof Float32Array||"[object Float32Array]"===X(r))&&1===e[0]&&3.140000104904175===e[1]&&-3.140000104904175===e[2]&&e[3]===et}catch(e){t=!1}return t}()?pn:function(){throw new Error("not implemented")};var gn=cn,mn="function"==typeof Uint32Array;function yn(t){return mn&&t instanceof Uint32Array||"[object Uint32Array]"===X(t)}var dn="function"==typeof Uint32Array?Uint32Array:null;var bn,wn="function"==typeof Uint32Array?Uint32Array:void 0;bn=function(){var t,e;if("function"!=typeof dn)return!1;try{t=yn(e=new dn(e=[1,3.14,-3.14,Qe+1,Qe+2]))&&1===e[0]&&3===e[1]&&e[2]===Qe-2&&0===e[3]&&1===e[4]}catch(e){t=!1}return t}()?wn:function(){throw new Error("not implemented")};var vn=bn,_n=2147483647,En="function"==typeof Int32Array?Int32Array:null;var Tn,xn="function"==typeof Int32Array?Int32Array:void 0;Tn=function(){var t,e;if("function"!=typeof En)return!1;try{t=Hr(e=new En([1,3.14,-3.14,2147483648]))&&1===e[0]&&3===e[1]&&-3===e[2]&&-2147483648===e[3]}catch(e){t=!1}return t}()?xn:function(){throw new Error("not implemented")};var On=Tn,An="function"==typeof Int16Array;var Rn="function"==typeof Int16Array?Int16Array:null;var Nn,jn="function"==typeof Int16Array?Int16Array:void 0;Nn=function(){var t,e,r;if("function"!=typeof Rn)return!1;try{e=new Rn([1,3.14,-3.14,32768]),r=e,t=(An&&r instanceof Int16Array||"[object Int16Array]"===X(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-32768===e[3]}catch(e){t=!1}return t}()?jn:function(){throw new Error("not implemented")};var Vn=Nn,Sn="function"==typeof Uint8ClampedArray;var In="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Ln,Mn="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Ln=function(){var t,e,r;if("function"!=typeof In)return!1;try{e=new In([-1,0,1,3.14,4.99,255,256]),r=e,t=(Sn&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===X(r))&&0===e[0]&&0===e[1]&&1===e[2]&&3===e[3]&&5===e[4]&&255===e[5]&&255===e[6]}catch(e){t=!1}return t}()?Mn:function(){throw new Error("not implemented")};var Un=Ln,Bn="function"==typeof Int8Array;var Fn="function"==typeof Int8Array?Int8Array:null;var Cn,Pn="function"==typeof Int8Array?Int8Array:void 0;Cn=function(){var t,e,r;if("function"!=typeof Fn)return!1;try{e=new Fn([1,3.14,-3.14,128]),r=e,t=(Bn&&r instanceof Int8Array||"[object Int8Array]"===X(r))&&1===e[0]&&3===e[1]&&-3===e[2]&&-128===e[3]}catch(e){t=!1}return t}()?Pn:function(){throw new Error("not implemented")};var kn=Cn;function Yn(t){return at(t)&&t>=0}function zn(t){return ut(t)&&t.valueOf()>=0}function Jn(t){return Yn(t)||zn(t)}k(Jn,"isPrimitive",Yn),k(Jn,"isObject",zn);var Gn=4294967295;function Dn(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&it(t.length)&&t.length>=0&&t.length<=Gn}function Wn(t,e){if(!(this instanceof Wn))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:t}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:e}),this}k(Wn,"BYTES_PER_ELEMENT",8),k(Wn.prototype,"BYTES_PER_ELEMENT",8),k(Wn.prototype,"byteLength",16),k(Wn.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(Wn.prototype,"toJSON",(function(){var t={type:"Complex128"};return t.re=this.re,t.im=this.im,t}));var qn="function"==typeof Math.fround?Math.fround:null,$n=new gn(1);var Xn="function"==typeof qn?qn:function(t){return $n[0]=t,$n[0]};function Zn(t,e){if(!(this instanceof Zn))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:Xn(t)}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:Xn(e)}),this}function Hn(t){return t instanceof Wn||t instanceof Zn||"object"==typeof t&&null!==t&&"number"==typeof t.re&&"number"==typeof t.im}function Kn(t){return it(t/2)}k(Zn,"BYTES_PER_ELEMENT",4),k(Zn.prototype,"BYTES_PER_ELEMENT",4),k(Zn.prototype,"byteLength",8),k(Zn.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(Zn.prototype,"toJSON",(function(){var t={type:"Complex64"};return t.re=this.re,t.im=this.im,t}));var Qn=8;function ti(t){return"object"==typeof t&&null!==t&&"Complex64Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===Qn}var ei=16;function ri(t){return"object"==typeof t&&null!==t&&"Complex128Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===ei}function ni(){return"function"==typeof q&&"symbol"==typeof q("foo")&&W(q,"iterator")&&"symbol"==typeof q.iterator}var ii=ni()?Symbol.iterator:null;function oi(t,e){if(!(this instanceof oi))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:Xn(t)}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:Xn(e)}),this}function ai(t){return t.re}function ui(t){return t.im}function si(t,e){return new gn(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*e,2*(t.length-e))}function fi(t,e){return new Oe(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*e,2*(t.length-e))}function li(t){var e,r,n;for(e=[];!(r=t.next()).done;)if(Dn(n=r.value)&&n.length>=2)e.push(n[0],n[1]);else{if(!Hn(n))return new TypeError(S("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));e.push(ai(n),ui(n))}return e}k(oi,"BYTES_PER_ELEMENT",4),k(oi.prototype,"BYTES_PER_ELEMENT",4),k(oi.prototype,"byteLength",8),k(oi.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(oi.prototype,"toJSON",(function(){var t={type:"Complex64"};return t.re=this.re,t.im=this.im,t}));var hi=2*gn.BYTES_PER_ELEMENT,ci=ni();function pi(t){return t instanceof yi||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function gi(t){return t===yi||"Complex128Array"===t.name}function mi(t,e){return new oi(t[e*=2],t[e+1])}function yi(){var t,e,r,n;if(e=arguments.length,!(this instanceof yi))return 0===e?new yi:1===e?new yi(arguments[0]):2===e?new yi(arguments[0],arguments[1]):new yi(arguments[0],arguments[1],arguments[2]);if(0===e)r=new gn(0);else if(1===e)if(Yn(arguments[0]))r=new gn(2*arguments[0]);else if(ar(arguments[0]))if((n=(r=arguments[0]).length)&&qt(r)&&Hn(r[0])){if(r=function(t,e){var r,n,i,o;for(r=e.length,o=0,i=0;i<r;i++){if(!Hn(n=e[i]))return null;t[o]=ai(n),t[o+1]=ui(n),o+=2}return t}(new gn(2*n),r),null===r){if(!Kn(n))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new gn(arguments[0])}}else{if(ti(r))r=si(r,0);else if(ri(r))r=fi(r,0);else if(!Kn(n))throw new RangeError(S("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new gn(r)}else if(ve(arguments[0])){if(!it((r=arguments[0]).byteLength/hi))throw new RangeError(S("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",hi,r.byteLength));r=new gn(r)}else{if(!zr(arguments[0]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===ci)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!Qt(r[ii]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!Qt((r=r[ii]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=li(r))instanceof Error)throw r;r=new gn(r)}else{if(!ve(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Yn(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!it(t/hi))throw new RangeError(S("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",hi,t));if(2===e){if(!it((n=r.byteLength-t)/hi))throw new RangeError(S("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",hi,n));r=new gn(r,t)}else{if(!Yn(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*hi>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*hi));r=new gn(r,t,2*n)}}return k(this,"_buffer",r),k(this,"_length",r.length/2),this}function di(t,e){if(!(this instanceof di))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Y(t))throw new TypeError(S("invalid argument. Real component must be a number. Value: `%s`.",t));if(!Y(e))throw new TypeError(S("invalid argument. Imaginary component must be a number. Value: `%s`.",e));return P(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:t}),P(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:e}),this}function bi(t){return t.re}function wi(t){return t.im}function vi(t){var e,r,n;for(e=[];!(r=t.next()).done;)if(Dn(n=r.value)&&n.length>=2)e.push(n[0],n[1]);else{if(!Hn(n))return new TypeError(S("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",n));e.push(bi(n),wi(n))}return e}k(yi,"BYTES_PER_ELEMENT",hi),k(yi,"name","Complex64Array"),k(yi,"from",(function(t){var e,r,n,i,o,a,u,s,f,l,h,c;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Qt(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(pi(t)){if(s=t.length,n){for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(Hn(l=n.call(e,t.get(h),h)))o[c]=ai(l),o[c+1]=ui(l);else{if(!(Dn(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(ar(t)){if(n){for(s=t.length,u=t.get&&t.set?an("default"):en("default"),h=0;h<s;h++)if(!Hn(u(t,h))){f=!0;break}if(f){if(!Kn(s))throw new RangeError(S("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,s));for(o=(i=new this(s/2))._buffer,h=0;h<s;h++)o[h]=n.call(e,u(t,h),h);return i}for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(Hn(l=n.call(e,u(t,h),h)))o[c]=ai(l),o[c+1]=ui(l);else{if(!(Dn(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(zr(t)&&ci&&Qt(t[ii])){if(!Qt((o=t[ii]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(a=n?function(t,e,r){var n,i,o,a;for(n=[],a=-1;!(i=t.next()).done;)if(a+=1,Dn(o=e.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!Hn(o))return new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(ai(o),ui(o))}return n}(o,n,e):li(o),a instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,h=0;h<s;h++)o[h]=a[h];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(yi,"of",(function(){var t,e;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!gi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),k(yi.prototype,"at",(function(t){if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!it(t))throw new TypeError(S("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return mi(this._buffer,t)})),Ot(yi.prototype,"buffer",(function(){return this._buffer.buffer})),Ot(yi.prototype,"byteLength",(function(){return this._buffer.byteLength})),Ot(yi.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(yi.prototype,"BYTES_PER_ELEMENT",yi.BYTES_PER_ELEMENT),k(yi.prototype,"copyWithin",(function(t,e){if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*e):this._buffer.copyWithin(2*t,2*e,2*arguments[2]),this})),k(yi.prototype,"entries",(function(){var t,e,r,n,i,o,a;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return e=this,t=this._buffer,n=this._length,o=-1,a=-2,k(r={},"next",(function(){var e;if(o+=1,i||o>=n)return{done:!0};return e=new oi(t[a+=2],t[a+1]),{value:[o,e],done:!1}})),k(r,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),ii&&k(r,ii,(function(){return e.entries()})),r})),k(yi.prototype,"every",(function(t,e){var r,n;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(!t.call(e,mi(r,n),n,this))return!1;return!0})),k(yi.prototype,"fill",(function(t,e,r){var n,i,o,a,u,s;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(n=this._buffer,i=this._length,arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),arguments.length>2){if(!it(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else e=0,r=i;for(a=ai(t),u=ui(t),s=e;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),k(yi.prototype,"filter",(function(t,e){var r,n,i,o;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=mi(r,i),t.call(e,o,i,this)&&n.push(o);return new this.constructor(n)})),k(yi.prototype,"find",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=mi(r,n),t.call(e,i,n,this))return i})),k(yi.prototype,"findIndex",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=mi(r,n),t.call(e,i,n,this))return n;return-1})),k(yi.prototype,"findLast",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=mi(r,n),t.call(e,i,n,this))return i})),k(yi.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=mi(r,n),t.call(e,i,n,this))return n;return-1})),k(yi.prototype,"forEach",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)i=mi(r,n),t.call(e,i,n,this)})),k(yi.prototype,"get",(function(t){if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Yn(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return mi(this._buffer,t)})),k(yi.prototype,"includes",(function(t,e){var r,n,i,o,a;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=ai(t),o=ui(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),k(yi.prototype,"indexOf",(function(t,e){var r,n,i,o,a;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=ai(t),o=ui(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(yi.prototype,"join",(function(t){var e,r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!Ut(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));n=t}for(e=[],r=this._buffer,i=0;i<this._length;i++)e.push(mi(r,i).toString());return e.join(n)})),k(yi.prototype,"lastIndexOf",(function(t,e){var r,n,i,o,a;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e>=this._length?e=this._length-1:e<0&&(e+=this._length)}else e=this._length-1;for(i=ai(t),o=ui(t),r=this._buffer,a=e;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),Ot(yi.prototype,"length",(function(){return this._length})),k(yi.prototype,"map",(function(t,e){var r,n,i,o,a;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(Hn(a=t.call(e,mi(n,o),o,this)))r[2*o]=ai(a),r[2*o+1]=ui(a);else{if(!Dn(a)||2!==a.length)throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),k(yi.prototype,"reduce",(function(t,e){var r,n,i,o;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=mi(r,0),o=1}for(;o<i;o++)n=t(n,mi(r,o),o,this);return n})),k(yi.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,n=nt(r/2),i=0;i<n;i++)o=r-i-1,e=t[2*i],t[2*i]=t[2*o],t[2*o]=e,e=t[2*i+1],t[2*i+1]=t[2*o+1],t[2*o+1]=e;return this})),k(yi.prototype,"set",(function(t){var e,r,n,i,o,a,u,s,f;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Yn(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Hn(t)){if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=ai(t),void(n[r+1]=ui(t))}if(pi(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t._buffer,f=n.byteOffset+r*hi,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new gn(e.length),s=0;s<e.length;s++)i[s]=e[s];e=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2}else{if(!ar(t))throw new TypeError(S("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,s=0;s<a;s++)if(!Hn(t[s])){o=!0;break}if(o){if(!Kn(a))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t,f=n.byteOffset+r*hi,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new gn(a),s=0;s<a;s++)i[s]=e[s];e=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=t[s],n[r]=ai(u),n[r+1]=ui(u),r+=2}})),k(yi.prototype,"slice",(function(t,e){var r,n,i,o,a,u,s;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)t=0,e=u;else{if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u)<0&&(t=0),1===arguments.length)e=u;else{if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=u)<0&&(e=0):e>u&&(e=u)}}for(r=t<e?e-t:0,n=(i=new this.constructor(r))._buffer,s=0;s<r;s++)o=2*(s+t),n[2*s]=a[o],n[2*s+1]=a[o+1];return i})),k(yi.prototype,"some",(function(t,e){var r,n;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(t.call(e,mi(r,n),n,this))return!0;return!1})),k(yi.prototype,"subarray",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)t=0,e=i;else{if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),1===arguments.length)e=i;else{if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=i)<0&&(e=0):e>i&&(e=i)}}return t>=i?(i=0,r=n.byteLength):t>=e?(i=0,r=n.byteOffset+t*hi):(i=e-t,r=n.byteOffset+t*hi),new this.constructor(n.buffer,r,i<0?0:i)})),k(yi.prototype,"toReversed",(function(){var t,e,r,n,i,o;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)o=r-i-1,t[2*i]=n[2*o],t[2*i+1]=n[2*o+1];return e})),k(yi.prototype,"toString",(function(){var t,e,r;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(mi(e,r).toString());return t.join(",")})),k(yi.prototype,"with",(function(t,e){var r,n,i;if(!pi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(i=this._length,t<0&&(t+=i),t<0||t>=i)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!Hn(e))throw new TypeError(S("invalid argument. Second argument must be a complex number. Value: `%s`.",e));return(r=(n=new this.constructor(this._buffer))._buffer)[2*t]=ai(e),r[2*t+1]=ui(e),n})),k(di,"BYTES_PER_ELEMENT",8),k(di.prototype,"BYTES_PER_ELEMENT",8),k(di.prototype,"byteLength",16),k(di.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),k(di.prototype,"toJSON",(function(){var t={type:"Complex128"};return t.re=this.re,t.im=this.im,t}));var _i=2*Oe.BYTES_PER_ELEMENT,Ei=ni();function Ti(t){return t instanceof Ai||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function xi(t){return t===Ai||"Complex64Array"===t.name}function Oi(t,e){return new di(t[e*=2],t[e+1])}function Ai(){var t,e,r,n;if(e=arguments.length,!(this instanceof Ai))return 0===e?new Ai:1===e?new Ai(arguments[0]):2===e?new Ai(arguments[0],arguments[1]):new Ai(arguments[0],arguments[1],arguments[2]);if(0===e)r=new Oe(0);else if(1===e)if(Yn(arguments[0]))r=new Oe(2*arguments[0]);else if(ar(arguments[0]))if((n=(r=arguments[0]).length)&&qt(r)&&Hn(r[0])){if(r=function(t,e){var r,n,i,o;for(r=e.length,o=0,i=0;i<r;i++){if(!Hn(n=e[i]))return null;t[o]=bi(n),t[o+1]=wi(n),o+=2}return t}(new Oe(2*n),r),null===r){if(!Kn(n))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Oe(arguments[0])}}else{if(ti(r))r=si(r,0);else if(ri(r))r=fi(r,0);else if(!Kn(n))throw new RangeError(S("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",n));r=new Oe(r)}else if(ve(arguments[0])){if(!it((r=arguments[0]).byteLength/_i))throw new RangeError(S("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",_i,r.byteLength));r=new Oe(r)}else{if(!zr(arguments[0]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===Ei)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!Qt(r[ii]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!Qt((r=r[ii]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=vi(r))instanceof Error)throw r;r=new Oe(r)}else{if(!ve(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Yn(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!it(t/_i))throw new RangeError(S("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",_i,t));if(2===e){if(!it((n=r.byteLength-t)/_i))throw new RangeError(S("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",_i,n));r=new Oe(r,t)}else{if(!Yn(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*_i>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*_i));r=new Oe(r,t,2*n)}}return k(this,"_buffer",r),k(this,"_length",r.length/2),this}k(Ai,"BYTES_PER_ELEMENT",_i),k(Ai,"name","Complex128Array"),k(Ai,"from",(function(t){var e,r,n,i,o,a,u,s,f,l,h,c;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!xi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!Qt(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(Ti(t)){if(s=t.length,n){for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(Hn(l=n.call(e,t.get(h),h)))o[c]=bi(l),o[c+1]=wi(l);else{if(!(Dn(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(ar(t)){if(n){for(s=t.length,u=t.get&&t.set?an("default"):en("default"),h=0;h<s;h++)if(!Hn(u(t,h))){f=!0;break}if(f){if(!Kn(s))throw new RangeError(S("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",s));for(o=(i=new this(s/2))._buffer,h=0;h<s;h++)o[h]=n.call(e,u(t,h),h);return i}for(o=(i=new this(s))._buffer,c=0,h=0;h<s;h++){if(Hn(l=n.call(e,u(t,h),h)))o[c]=bi(l),o[c+1]=wi(l);else{if(!(Dn(l)&&l.length>=2))throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",l));o[c]=l[0],o[c+1]=l[1]}c+=2}return i}return new this(t)}if(zr(t)&&Ei&&Qt(t[ii])){if(!Qt((o=t[ii]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if(a=n?function(t,e,r){var n,i,o,a;for(n=[],a=-1;!(i=t.next()).done;)if(a+=1,Dn(o=e.call(r,i.value,a))&&o.length>=2)n.push(o[0],o[1]);else{if(!Hn(o))return new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));n.push(bi(o),wi(o))}return n}(o,n,e):vi(o),a instanceof Error)throw a;for(o=(i=new this(s=a.length/2))._buffer,h=0;h<s;h++)o[h]=a[h];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(Ai,"of",(function(){var t,e;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!xi(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),k(Ai.prototype,"at",(function(t){if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!it(t))throw new TypeError(S("invalid argument. Must provide an integer. Value: `%s`.",t));if(t<0&&(t+=this._length),!(t<0||t>=this._length))return Oi(this._buffer,t)})),Ot(Ai.prototype,"buffer",(function(){return this._buffer.buffer})),Ot(Ai.prototype,"byteLength",(function(){return this._buffer.byteLength})),Ot(Ai.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(Ai.prototype,"BYTES_PER_ELEMENT",Ai.BYTES_PER_ELEMENT),k(Ai.prototype,"copyWithin",(function(t,e){if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*e):this._buffer.copyWithin(2*t,2*e,2*arguments[2]),this})),k(Ai.prototype,"entries",(function(){var t,e,r,n,i,o,a;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return e=this,t=this._buffer,n=this._length,o=-1,a=-2,k(r={},"next",(function(){var e;if(o+=1,i||o>=n)return{done:!0};return e=new di(t[a+=2],t[a+1]),{value:[o,e],done:!1}})),k(r,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),ii&&k(r,ii,(function(){return e.entries()})),r})),k(Ai.prototype,"every",(function(t,e){var r,n;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(!t.call(e,Oi(r,n),n,this))return!1;return!0})),k(Ai.prototype,"fill",(function(t,e,r){var n,i,o,a,u,s;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(n=this._buffer,i=this._length,arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));if(e<0&&(e+=i)<0&&(e=0),arguments.length>2){if(!it(r))throw new TypeError(S("invalid argument. Third argument must be an integer. Value: `%s`.",r));r<0&&(r+=i)<0&&(r=0),r>i&&(r=i)}else r=i}else e=0,r=i;for(a=bi(t),u=wi(t),s=e;s<r;s++)n[o=2*s]=a,n[o+1]=u;return this})),k(Ai.prototype,"filter",(function(t,e){var r,n,i,o;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=[],i=0;i<this._length;i++)o=Oi(r,i),t.call(e,o,i,this)&&n.push(o);return new this.constructor(n)})),k(Ai.prototype,"find",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=Oi(r,n),t.call(e,i,n,this))return i})),k(Ai.prototype,"findIndex",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(i=Oi(r,n),t.call(e,i,n,this))return n;return-1})),k(Ai.prototype,"findLast",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Oi(r,n),t.call(e,i,n,this))return i})),k(Ai.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=this._length-1;n>=0;n--)if(i=Oi(r,n),t.call(e,i,n,this))return n;return-1})),k(Ai.prototype,"forEach",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)i=Oi(r,n),t.call(e,i,n,this)})),k(Ai.prototype,"get",(function(t){if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Yn(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return Oi(this._buffer,t)})),Ot(Ai.prototype,"length",(function(){return this._length})),k(Ai.prototype,"includes",(function(t,e){var r,n,i,o,a;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=bi(t),o=wi(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return!0;return!1})),k(Ai.prototype,"indexOf",(function(t,e){var r,n,i,o,a;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0&&(e+=this._length)<0&&(e=0)}else e=0;for(i=bi(t),o=wi(t),r=this._buffer,a=e;a<this._length;a++)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(Ai.prototype,"join",(function(t){var e,r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(0===arguments.length)n=",";else{if(!Pt(t))throw new TypeError(S("invalid argument. First argument must be a string. Value: `%s`.",t));n=t}for(e=[],r=this._buffer,i=0;i<this._length;i++)e.push(Oi(r,i).toString());return e.join(n)})),k(Ai.prototype,"lastIndexOf",(function(t,e){var r,n,i,o,a;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Hn(t))throw new TypeError(S("invalid argument. First argument must be a complex number. Value: `%s`.",t));if(arguments.length>1){if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e>=this._length?e=this._length-1:e<0&&(e+=this._length)}else e=this._length-1;for(i=bi(t),o=wi(t),r=this._buffer,a=e;a>=0;a--)if(i===r[n=2*a]&&o===r[n+1])return a;return-1})),k(Ai.prototype,"map",(function(t,e){var r,n,i,o,a;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(n=this._buffer,r=(i=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)if(Hn(a=t.call(e,Oi(n,o),o,this)))r[2*o]=bi(a),r[2*o+1]=wi(a);else{if(!Dn(a)||2!==a.length)throw new TypeError(S("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",a));r[2*o]=a[0],r[2*o+1]=a[1]}return i})),k(Ai.prototype,"reduce",(function(t,e){var r,n,i,o;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));if(r=this._buffer,i=this._length,arguments.length>1)n=e,o=0;else{if(0===i)throw new Error("invalid operation. If not provided an initial value, an array must contain at least one element.");n=Oi(r,0),o=1}for(;o<i;o++)n=t(n,Oi(r,o),o,this);return n})),k(Ai.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,t=this._buffer,n=nt(r/2),i=0;i<n;i++)o=r-i-1,e=t[2*i],t[2*i]=t[2*o],t[2*o]=e,e=t[2*i+1],t[2*i+1]=t[2*o+1],t[2*o+1]=e;return this})),k(Ai.prototype,"set",(function(t){var e,r,n,i,o,a,u,s,f;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!Yn(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Hn(t)){if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return n[r*=2]=bi(t),void(n[r+1]=wi(t))}if(Ti(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t._buffer,f=n.byteOffset+r*_i,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Oe(e.length),s=0;s<e.length;s++)i[s]=e[s];e=i}for(r*=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2}else{if(!ar(t))throw new TypeError(S("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,s=0;s<a;s++)if(!Hn(t[s])){o=!0;break}if(o){if(!Kn(a))throw new RangeError(S("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=t,f=n.byteOffset+r*_i,e.buffer===n.buffer&&e.byteOffset<f&&e.byteOffset+e.byteLength>f){for(i=new Oe(a),s=0;s<a;s++)i[s]=e[s];e=i}for(r*=2,a/=2,f=0,s=0;s<a;s++)n[r]=e[f],n[r+1]=e[f+1],r+=2,f+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,s=0;s<a;s++)u=t[s],n[r]=bi(u),n[r+1]=wi(u),r+=2}})),k(Ai.prototype,"slice",(function(t,e){var r,n,i,o,a,u,s;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(a=this._buffer,u=this._length,0===arguments.length)t=0,e=u;else{if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=u)<0&&(t=0),1===arguments.length)e=u;else{if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=u)<0&&(e=0):e>u&&(e=u)}}for(r=t<e?e-t:0,n=(i=new this.constructor(r))._buffer,s=0;s<r;s++)o=2*(s+t),n[2*s]=a[o],n[2*s+1]=a[o+1];return i})),k(Ai.prototype,"some",(function(t,e){var r,n;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,n=0;n<this._length;n++)if(t.call(e,Oi(r,n),n,this))return!0;return!1})),k(Ai.prototype,"subarray",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,i=this._length,0===arguments.length)t=0,e=i;else{if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(t<0&&(t+=i)<0&&(t=0),1===arguments.length)e=i;else{if(!it(e))throw new TypeError(S("invalid argument. Second argument must be an integer. Value: `%s`.",e));e<0?(e+=i)<0&&(e=0):e>i&&(e=i)}}return t>=i?(i=0,r=n.byteLength):t>=e?(i=0,r=n.byteOffset+t*_i):(i=e-t,r=n.byteOffset+t*_i),new this.constructor(n.buffer,r,i<0?0:i)})),k(Ai.prototype,"toReversed",(function(){var t,e,r,n,i,o;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)o=r-i-1,t[2*i]=n[2*o],t[2*i+1]=n[2*o+1];return e})),k(Ai.prototype,"toString",(function(){var t,e,r;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],e=this._buffer,r=0;r<this._length;r++)t.push(Oi(e,r).toString());return t.join(",")})),k(Ai.prototype,"with",(function(t,e){var r,n,i;if(!Ti(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!it(t))throw new TypeError(S("invalid argument. First argument must be an integer. Value: `%s`.",t));if(i=this._length,t<0&&(t+=i),t<0||t>=i)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%s`.",t));if(!Hn(e))throw new TypeError(S("invalid argument. Second argument must be a complex number. Value: `%s`.",e));return(r=(n=new this.constructor(this._buffer))._buffer)[2*t]=bi(e),r[2*t+1]=wi(e),n}));var Ri=[Oe,gn,On,vn,Vn,ye,kn,le,Un,yi,Ai],Ni=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],ji=Ni.length;function Vi(t){var e;if(qt(t))return"generic";if(Zt(t))return null;for(e=0;e<ji;e++)if(t instanceof Ri[e])return Ni[e];return fn[Ht(t)]||null}function Si(t){var e=Vi(t);return Qr(t)?{data:t,dtype:e,accessorProtocol:!0,accessors:[an(e),sn(e)]}:{data:t,dtype:e,accessorProtocol:!1,accessors:[en(e),nn(e)]}}function Ii(t,e,r,n,i,o,a){var u,s,f,l,h,c,p;for(u=e.data,s=i.data,l=e.accessors[0],f=i.accessors[1],h=n,c=a,p=0;p<t;p++)f(s,c,l(u,h)),h+=r,c+=o;return i}var Li=8;function Mi(t,e,r,n,i){var o,a,u,s,f,l;if(t<=0)return n;if(u=Si(e),s=Si(n),u.accessorProtocol||s.accessorProtocol)return Ii(t,u,r,o=r<0?(1-t)*r:0,s,i,a=i<0?(1-t)*i:0),s.data;if(1===r&&1===i){if((f=t%Li)>0)for(l=0;l<f;l++)n[l]=e[l];if(t<Li)return n;for(l=f;l<t;l+=Li)n[l]=e[l],n[l+1]=e[l+1],n[l+2]=e[l+2],n[l+3]=e[l+3],n[l+4]=e[l+4],n[l+5]=e[l+5],n[l+6]=e[l+6],n[l+7]=e[l+7];return n}for(o=r<0?(1-t)*r:0,a=i<0?(1-t)*i:0,l=0;l<t;l++)n[a]=e[o],o+=r,a+=i;return n}var Ui=8;function Bi(t,e,r,n,i,o,a){var u,s,f,l,h,c;if(t<=0)return i;if(f=Si(e),l=Si(i),f.accessorProtocol||l.accessorProtocol)return Ii(t,f,r,n,l,o,a),l.data;if(u=n,s=a,1===r&&1===o){if((h=t%Ui)>0)for(c=0;c<h;c++)i[s]=e[u],u+=r,s+=o;if(t<Ui)return i;for(c=h;c<t;c+=Ui)i[s]=e[u],i[s+1]=e[u+1],i[s+2]=e[u+2],i[s+3]=e[u+3],i[s+4]=e[u+4],i[s+5]=e[u+5],i[s+6]=e[u+6],i[s+7]=e[u+7],u+=Ui,s+=Ui;return i}for(c=0;c<t;c++)i[s]=e[u],u+=r,s+=o;return i}function Fi(){}k(Mi,"ndarray",Bi);var Ci="foo"===Fi.name;var Pi=[Oe,gn,On,vn,Vn,ye,kn,le,Un],ki=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],Yi=Te()?qr(Oe):zi;function zi(){}function Ji(t){var e,r;if("object"!=typeof t||null===t)return!1;if(t instanceof Yi)return!0;for(r=0;r<Pi.length;r++)if(t instanceof Pi[r])return!0;for(;t;){for(e=Ht(t),r=0;r<ki.length;r++)if(ki[r]===e)return!0;t=qr(t)}return!1}Yi="TypedArray"===function(t){if(!1===Qt(t))throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return Ci?t.name:Wt.exec(t.toString())[1]}(Yi)?Yi:zi;var Gi=[Ai,yi],Di=["Complex64Array","Complex128Array"];function Wi(t){var e,r;if("object"!=typeof t||null===t)return!1;for(r=0;r<Gi.length;r++)if(t instanceof Gi[r])return!0;for(;t;){for(e=Ht(t),r=0;r<Di.length;r++)if(Di[r]===e)return!0;t=qr(t)}return!1}function qi(t){var e,r;for(e=[];!(r=t.next()).done;)e.push(pt(r.value));return e}var $i=le.BYTES_PER_ELEMENT,Xi=ni();function Zi(t){return"object"==typeof t&&null!==t&&"BooleanArray"===t.constructor.name&&t.BYTES_PER_ELEMENT===$i}function Hi(t){return t===Ki}function Ki(){var t,e,r,n,i;if(e=arguments.length,!(this instanceof Ki))return 0===e?new Ki:1===e?new Ki(arguments[0]):2===e?new Ki(arguments[0],arguments[1]):new Ki(arguments[0],arguments[1],arguments[2]);if(0===e)r=new le(0);else if(1===e)if(Yn(i=arguments[0]))r=new le(i);else if(ar(i))r=function(t,e){var r,n;for(r=e.length,n=0;n<r;n++)t[n]=pt(e[n]);return t}(new le(i.length),i);else if(ve(i))r=new le(i);else{if(!zr(i))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!1===Xi)throw new TypeError(S("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",i));if(!Qt(i[ii]))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));if(!Qt((r=i[ii]()).next))throw new TypeError(S("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",i));r=new le(qi(r))}else{if(!ve(r=arguments[0]))throw new TypeError(S("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Yn(t=arguments[1]))throw new TypeError(S("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(2===e)r=new le(r,t);else{if(!Yn(n=arguments[2]))throw new TypeError(S("invalid argument. Length must be a nonnegative integer. Value: `%s`.",n));if(n*$i>r.byteLength-t)throw new RangeError(S("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",n*$i));r=new le(r,t,n)}}return k(this,"_buffer",r),k(this,"_length",r.length),this}function Qi(t){return t instanceof Ki||"BooleanArray"===Ht(t)}function to(t,e){return new le(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*e,t.length-e)}function eo(t,e){if("function"!=typeof e)throw new TypeError(S("invalid argument. Second argument must be callable. Value: `%s`.",e));return t instanceof e}k(Ki,"BYTES_PER_ELEMENT",$i),k(Ki,"name","BooleanArray"),k(Ki,"from",(function(t){var e,r,n,i,o,a,u,s,f;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Hi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if((r=arguments.length)>1){if(!Qt(n=arguments[1]))throw new TypeError(S("invalid argument. Second argument must be a function. Value: `%s`.",n));r>2&&(e=arguments[2])}if(ar(t)){if(n){for(s=t.length,u=t.get&&t.set?an("default"):en("default"),o=(i=new this(s))._buffer,f=0;f<s;f++)o[f]=pt(n.call(e,u(t,f),f));return i}return new this(t)}if(zr(t)&&Xi&&Qt(t[ii])){if(!Qt((o=t[ii]()).next))throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));for(a=n?function(t,e,r){var n,i,o;for(n=[],o=-1;!(i=t.next()).done;)o+=1,n.push(pt(e.call(r,i.value,o)));return n}(o,n,e):qi(o),o=(i=new this(s=a.length))._buffer,f=0;f<s;f++)o[f]=a[f];return i}throw new TypeError(S("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),k(Ki,"of",(function(){var t,e;if(!Qt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Hi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return new this(t)})),Ot(Ki.prototype,"buffer",(function(){return this._buffer.buffer})),Ot(Ki.prototype,"byteLength",(function(){return this._buffer.byteLength})),Ot(Ki.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),k(Ki.prototype,"BYTES_PER_ELEMENT",Ki.BYTES_PER_ELEMENT),k(Ki.prototype,"find",(function(t,e){var r,n,i;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(n=pt(r[i]),t.call(e,n,i,this))return n})),k(Ki.prototype,"findIndex",(function(t,e){var r,n,i;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=0;i<this._length;i++)if(n=pt(r[i]),t.call(e,n,i,this))return i;return-1})),k(Ki.prototype,"findLast",(function(t,e){var r,n,i;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(n=pt(r[i]),t.call(e,n,i,this))return n})),k(Ki.prototype,"findLastIndex",(function(t,e){var r,n,i;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));for(r=this._buffer,i=this._length-1;i>=0;i--)if(n=pt(r[i]),t.call(e,n,i,this))return i;return-1})),k(Ki.prototype,"get",(function(t){if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Yn(t))throw new TypeError(S("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return pt(this._buffer[t])})),Ot(Ki.prototype,"length",(function(){return this._length})),k(Ki.prototype,"map",(function(t,e){var r,n,i,o;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(!Qt(t))throw new TypeError("invalid argument. First argument must be a function. Value: `%s`.",t);for(i=this._buffer,r=(n=new this.constructor(this._length))._buffer,o=0;o<this._length;o++)r[o]=pt(t.call(e,pt(i[o]),o,this));return n})),k(Ki.prototype,"reverse",(function(){var t,e,r,n,i,o;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(t=this._buffer,r=this._length,n=nt(r/2),i=0;i<n;i++)o=r-i-1,e=t[i],t[i]=t[o],t[o]=e;return this})),k(Ki.prototype,"set",(function(t){var e,r,n,i,o,a,u;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(n=this._buffer,arguments.length>1){if(!Yn(r=arguments[1]))throw new TypeError(S("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(ar(t)){if(r+(o=t.length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(e=Zi(t)?t._buffer:t,u=n.byteOffset+r*$i,e.buffer===n.buffer&&e.byteOffset<u&&e.byteOffset+e.byteLength>u){for(i=new le(e.length),a=0;a<e.length;a++)i[a]=e[a];e=i}for(a=0;a<o;r++,a++)n[r]=e[a]?1:0}else{if(r>=this._length)throw new RangeError(S("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));n[r]=t?1:0}})),k(Ki.prototype,"sort",(function(t){var e;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");if(e=this._buffer,0===arguments.length)return e.sort(),this;if(!Qt(t))throw new TypeError(S("invalid argument. First argument must be a function. Value: `%s`.",t));return e.sort((function(e,r){return t(pt(e),pt(r))})),this})),k(Ki.prototype,"toReversed",(function(){var t,e,r,n,i;if(!Zi(this))throw new TypeError("invalid invocation. `this` is not a boolean array.");for(r=this._length,e=new this.constructor(r),n=this._buffer,t=e._buffer,i=0;i<r;i++)t[i]=n[r-i-1];return e}));var ro=[[Oe,"Float64Array"],[gn,"Float32Array"],[On,"Int32Array"],[vn,"Uint32Array"],[Vn,"Int16Array"],[ye,"Uint16Array"],[kn,"Int8Array"],[le,"Uint8Array"],[Un,"Uint8ClampedArray"],[yi,"Complex64Array"],[Ai,"Complex128Array"],[Ki,"BooleanArray"]];function no(t){var e,r;for(r=0;r<ro.length;r++)if(eo(t,ro[r][0]))return ro[r][1];for(;t;){for(e=Ht(t),r=0;r<ro.length;r++)if(e===ro[r][1])return ro[r][1];t=qr(t)}}var io=8;function oo(t,e,r){var n;for(n=0;n<io;n++)if(We(t()))throw new Error("unexpected error. PRNG returned NaN.");for(n=r-1;n>=0;n--)e[n]=t();return e}var ao=2147483646;function uo(){return 0|nt(1+ao*Math.random())}var so=2147483646,fo=32,lo=1,ho=3,co=2,po=fo+3,go=fo+6,mo=fo+7,yo=po+1,bo=po+2;function wo(t,e){var r;return r=e?"option":"argument",t.length<mo+1?new RangeError(S("invalid %s. State array has insufficient length.",r)):t[0]!==lo?new RangeError(S("invalid %s. State array has an incompatible schema version. Expected: `%s`. Actual: `%s`.",r,lo,t[0])):t[1]!==ho?new RangeError(S("invalid %s. State array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,ho,t[1])):t[co]!==fo?new RangeError(S("invalid %s. State array has an incompatible table length. Expected: `%s`. Actual: `%s`.",r,fo,t[co])):2!==t[po]?new RangeError(S("invalid %s. State array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,2,t[po])):t[go]!==t.length-mo?new RangeError(S("invalid %s. State array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,t.length-mo,t[go])):null}function vo(t){var e,r,n,i,o,a;if(n={},arguments.length){if(!Xr(t))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(W(t,"copy")&&(n.copy=t.copy,!ct(t.copy)))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",t.copy));if(W(t,"state")){if(r=t.state,n.state=!0,!Hr(r))throw new TypeError(S("invalid option. `%s` option must be an Int32Array. Option: `%s`.","state",r));if(a=wo(r,!0))throw a;!1===n.copy?e=r:(e=new On(r.length),Mi(r.length,r,1,e,1)),r=new On(e.buffer,e.byteOffset+(co+1)*e.BYTES_PER_ELEMENT,fo),i=new On(e.buffer,e.byteOffset+(go+1)*e.BYTES_PER_ELEMENT,r[go])}if(void 0===i)if(W(t,"seed"))if(i=t.seed,n.seed=!0,ft(i)){if(i>2147483646)throw new RangeError(S("invalid option. `%s` option must be a positive integer less than the maximum signed 32-bit integer. Option: `%u`.","seed",i));i|=0}else{if(!(ar(i)&&i.length>0))throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than the maximum signed 32-bit integer or an array-like object containing integer values less than the maximum signed 32-bit integer. Option: `%s`.","seed",i));o=i.length,(e=new On(mo+o))[0]=lo,e[1]=ho,e[co]=fo,e[po]=2,e[bo]=i[0],e[go]=o,Mi.ndarray(o,i,1,0,e,1,go+1),r=new On(e.buffer,e.byteOffset+(co+1)*e.BYTES_PER_ELEMENT,fo),i=new On(e.buffer,e.byteOffset+(go+1)*e.BYTES_PER_ELEMENT,o),r=oo(g,r,fo),e[yo]=r[0]}else i=0|uo()}else i=0|uo();return void 0===r&&((e=new On(mo+1))[0]=lo,e[1]=ho,e[co]=fo,e[po]=2,e[bo]=i,e[go]=1,e[go+1]=i,r=new On(e.buffer,e.byteOffset+(co+1)*e.BYTES_PER_ELEMENT,fo),i=new On(e.buffer,e.byteOffset+(go+1)*e.BYTES_PER_ELEMENT,1),r=oo(g,r,fo),e[yo]=r[0]),k(m,"NAME","minstd-shuffle"),Ot(m,"seed",u),Ot(m,"seedLength",s),Yr(m,"state",h,c),Ot(m,"stateLength",f),Ot(m,"byteLength",l),k(m,"toJSON",p),k(m,"MIN",1),k(m,"MAX",2147483646),k(m,"normalized",y),k(y,"NAME",m.NAME),Ot(y,"seed",u),Ot(y,"seedLength",s),Yr(y,"state",h,c),Ot(y,"stateLength",f),Ot(y,"byteLength",l),k(y,"toJSON",p),k(y,"MIN",(m.MIN-1)/so),k(y,"MAX",(m.MAX-1)/so),m;function u(){var t=e[go];return Mi(t,i,1,new On(t),1)}function s(){return e[go]}function f(){return e.length}function l(){return e.byteLength}function h(){var t=e.length;return Mi(t,e,1,new On(t),1)}function c(t){var o;if(!Hr(t))throw new TypeError(S("invalid argument. Must provide an Int32Array. Value: `%s`.",t));if(o=wo(t,!1))throw o;!1===n.copy?n.state&&t.length===e.length?Mi(t.length,t,1,e,1):(e=t,n.state=!0):(t.length!==e.length&&(e=new On(t.length)),Mi(t.length,t,1,e,1)),r=new On(e.buffer,e.byteOffset+(co+1)*e.BYTES_PER_ELEMENT,fo),i=new On(e.buffer,e.byteOffset+(go+1)*e.BYTES_PER_ELEMENT,e[go])}function p(){var t={type:"PRNG"};return t.name=m.NAME,t.state=function(t){var e,r,n;if(Ji(t))e=t;else if(Wi(t))e=8===t.BYTES_PER_ELEMENT?si(t,0):fi(t,0);else{if(!Qi(t))throw new TypeError(S("invalid argument. Must provide a typed array. Value: `%s`.",t));e=to(t,0)}for(r={type:no(t),data:[]},n=0;n<e.length;n++)r.data.push(e[n]);return r}(e),t.params=[],t}function g(){var t=0|e[bo];return t=16807*t%_n|0,e[bo]=t,0|t}function m(){var t,n;return t=e[yo],n=nt(fo*(t/_n)),t=r[n],e[yo]=t,r[n]=g(),t}function y(){return(m()-1)/so}}var _o=vo({seed:uo()});k(_o,"factory",vo);var Eo=!0===be?1:0,To=new Oe(1),xo=new vn(To.buffer);function Oo(t){return To[0]=t,xo[Eo]}var Ao=!0===be?1:0,Ro=new Oe(1),No=new vn(Ro.buffer);var jo=1023;var Vo=.6931471803691238,So=1.9082149292705877e-10,Io=0x40000000000000,Lo=.3333333333333333,Mo=1048575,Uo=2146435072,Bo=1048576,Fo=1072693248;function Co(t){var e,r,n,i,o,a,u,s,f,l,h,c;return 0===t?rt:We(t)||t<0?NaN:(o=0,(r=Oo(t))<Bo&&(o-=54,r=Oo(t*=Io)),r>=Uo?t+t:(o+=(r>>20)-jo|0,o+=(s=(r&=Mo)+614244&1048576|0)>>20|0,u=(t=function(t,e){return Ro[0]=t,No[Ao]=e>>>0,Ro[0]}(t,r|s^Fo))-1,(Mo&2+r)<3?0===u?0===o?0:o*Vo+o*So:(a=u*u*(.5-Lo*u),0===o?u-a:o*Vo-(a-o*So-u)):(s=r-398458|0,f=440401-r|0,i=(h=(c=(l=u/(2+u))*l)*c)*function(t){return 0===t?.3999999999940942:.3999999999940942+t*(.22222198432149784+.15313837699209373*t)}(h),n=c*function(t){return 0===t?.6666666666666735:.6666666666666735+t*(.2857142874366239+t*(.1818357216161805+.14798198605116586*t))}(h),a=n+i,(s|=f)>0?(e=.5*u*u,0===o?u-(e-l*(e+a)):o*Vo-(e-(l*(e+a)+o*So)-u)):0===o?u-l*(u-a):o*Vo-(l*(u-a)-o*So-u))))}function Po(t){if("object"!=typeof t||null===t)return!1;if(t instanceof Error)return!0;for(;t;){if("[object Error]"===X(t))return!0;t=qr(t)}return!1}function ko(t,e){return e>0?0:(1-t)*e}var Yo=8;function zo(t,e,r,n,i,o,a){var u,s,f,l;if(t<=0)return i;if(u=n,s=a,1===r&&1===o){if((f=t%Yo)>0)for(l=0;l<f;l++)i[s]=e[u],u+=r,s+=o;if(t<Yo)return i;for(l=f;l<t;l+=Yo)i[s]=e[u],i[s+1]=e[u+1],i[s+2]=e[u+2],i[s+3]=e[u+3],i[s+4]=e[u+4],i[s+5]=e[u+5],i[s+6]=e[u+6],i[s+7]=e[u+7],u+=Yo,s+=Yo;return i}for(l=0;l<t;l++)i[s]=e[u],u+=r,s+=o;return i}function Jo(t,e,r,n,i){return t<=0?n:zo(t,e,r,ko(t,r),n,i,ko(t,i))}k(Jo,"ndarray",zo);var Go,Do=function(t){try{return function(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}(t)}catch(t){return Po(t)?t:"object"==typeof t?new Error(JSON.stringify(t)):new Error(t.toString())}}((0,t.join)(__dirname,"./native.js")),Wo=Go=Po(Do)?Jo:Do;const{ndarray:qo}=Go;function $o(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length&&it(t.length)&&t.length>=0&&t.length<=Gn}function Xo(t){if("function"!=typeof t)throw new TypeError(S("invalid argument. Must provide a function. Value: `%s`.",t));return function(e){var r,n;if(!$o(e))return!1;if(r=e.length,0===r)return!1;for(n=0;n<r;n++)if(!1===t(e[n]))return!1;return!0}}var Zo=Xo(Jn.isPrimitive),Ho=Xo(Jn.isObject),Ko=Xo(Jn);k(Ko,"primitives",Zo),k(Ko,"objects",Ho);var Qo=Xo(st.isPrimitive),ta=Xo(st.isObject),ea=Xo(st);k(ea,"primitives",Qo),k(ea,"objects",ta);var ra=dr(),na=ra.length;function ia(t){var e,r,n;if(!ar(t))throw new TypeError(S("invalid argument. Must provide an array-like object. Value: `%s`.",t));return n=Vi(t),Qr(t)&&(e=an(n)),r=t.length,void 0===e?function(e){var n;for(n=0;n<r;n++)if(t[n]===e)return!0;return!1}:function(n){var i;for(i=0;i<r;i++)if(e(t,i)===n)return!0;return!1}}k((function(t,e){var r,n,i,o;for(i=Vi(t),n=Qr(t)?an(i):en(i),r=t.length,o=0;o<r;o++)if(n(t,o)===e)return!0;return!1}),"factory",ia);var oa={all:["binary","bool","complex32","complex64","complex128","float16","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","bool","complex32","complex64","complex128","float16","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex32","complex64","complex128","float16","float32","float64"],real_floating_point:["float16","float32","float64"],complex_floating_point:["complex32","complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float16","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex32","complex64","complex128","float16","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],index:["int32","uint8","bool","generic"],integer_index:["int32"],boolean_index:["bool"],mask_index:["uint8"],typed_index:["int32","uint8","bool"]},aa=/_and_generic$/;var ua=ia(function(){var t,e,r;return 0===arguments.length?oa.all.slice():(r=!1,t=arguments[0],aa.test(t)&&"all"!==(t=ne(t,aa,""))&&"index"!==t&&(r=!0),e=(e=oa[t])?e.slice():[],r&&e.length>0&&e.push("generic"),e)}());function sa(t,e){return null!=t&&("symbol"==typeof e?e in Object(t):String(e)in Object(t))}function fa(t){return Qt(t)&&ft(t.alignment)&&ft(t.byteLength)&&Qt(t.byteLengthOf)&&Qt(t.byteOffsetOf)&&Qt(t.bufferOf)&&Qt(t.isStruct)&&Qt(t.viewOf)&&W(t,"fields")&&W(t,"layout")}var la={all:["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]};function ha(){var t;return 0===arguments.length?la.all.slice():(t=la[arguments[0]])?t.slice():[]}function ca(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}k(ha,"enum",ca),function(t,e){var r,n,i;for(r=mr(e),i=0;i<r.length;i++)ke(t,n=r[i],e[n])}(ha,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var pa=function(t,e){var r,n,i,o,a,u,s,f=!0;if(!$t(t))throw new TypeError(S("invalid argument. First argument must be an object (except null). Value: `%s`.",t));if(arguments.length>1){if(!Xr(e))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));if(W(e,"duplicates")&&!ct(f=e.duplicates))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","duplicates",f))}if(n=(r=mr(t)).length,a={},f)for(s=0;s<n;s++)W(a,o=t[i=r[s]])?(u=a[o],qt(u)?a[o].push(i):a[o]=[u,i]):a[o]=i;else for(s=0;s<n;s++)a[t[i=r[s]]]=i;return a}({bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},{duplicates:!1});function ga(t){var e=pa[t];return"string"==typeof e?e:null}var ma={all:["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]};function ya(){var t;return 0===arguments.length?ma.all.slice():(t=ma[arguments[0]])?t.slice():[]}function da(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}k(ya,"enum",da),function(t,e){var r,n,i;for(r=mr(e),i=0;i<r.length;i++)ke(t,n=r[i],e[n])}(ya,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var ba,wa,va,_a={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256};function Ea(t){var e=_a[t];return"number"==typeof e?e:null}function Ta(t){var e=typeof t;return"string"===e?null===Ea(t)?null:t:"number"===e?ga(t):null}var xa={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function Oa(t){var e;return Ut(t)?xa[t]||null:Y(t)?xa[ga(t)]||null:t&&ft(e=t.byteLength)?e:null}function Aa(t,e){var r,n,i;if(r=arguments.length,!(this instanceof Aa))return r<2?new Aa(t):new Aa(t,e);if(ua(t))n="builtin";else{if(function(t){return t instanceof Aa||"object"==typeof t&&null!==t&&"DataType"===t.constructor.name&&Ut(t.char)&&Ut(t.description)&&Ut(t.byteOrder)&&sa(t,"value")}(t))return new Aa(t.value,{description:t.description});if(!fa(t))throw new TypeError(S("invalid argument. First argument must be either a supported data type string, a struct constructor, or another data type instance. Value: `%s`.",t));n="struct"}if(r>1){if(!Xr(i=e))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",i));if(W(i,"description")&&!Ut(i.description))throw new TypeError(S("invalid option. `%s` option must be a string. Option: `%s`.","description",i.description))}else i={};return k(this,"_value",t),k(this,"_description",i.description||function(t){return 0===arguments.length?{binary:"byte",bool:"boolean",complex32:"half-precision floating-point complex number",complex64:"single-precision floating-point complex number",complex128:"double-precision floating-point complex number",float16:"half-precision floating-point number",bfloat16:"brain floating-point number",float32:"single-precision floating-point number",float64:"double-precision floating-point number",float128:"quadruple-precision floating-point number",generic:"generic array value",int8:"signed 8-bit integer",int16:"signed 16-bit integer",int32:"signed 32-bit integer",int64:"signed 64-bit integer",int128:"signed 128-bit integer",int256:"signed 256-bit integer",uint8:"unsigned 8-bit integer",uint8c:"unsigned 8-bit integer (clamped)",uint16:"unsigned 16-bit integer",uint32:"unsigned 32-bit integer",uint64:"unsigned 64-bit integer",uint128:"unsigned 128-bit integer",uint256:"unsigned 256-bit integer"}:(void 0===ba&&(ba={binary:"byte",bool:"boolean",complex32:"half-precision floating-point complex number",complex64:"single-precision floating-point complex number",complex128:"double-precision floating-point complex number",float16:"half-precision floating-point number",bfloat16:"brain floating-point number",float32:"single-precision floating-point number",float64:"double-precision floating-point number",float128:"quadruple-precision floating-point number",generic:"generic array value",int8:"signed 8-bit integer",int16:"signed 16-bit integer",int32:"signed 32-bit integer",int64:"signed 64-bit integer",int128:"signed 128-bit integer",int256:"signed 256-bit integer",uint8:"unsigned 8-bit integer",uint8c:"unsigned 8-bit integer (clamped)",uint16:"unsigned 16-bit integer",uint32:"unsigned 32-bit integer",uint64:"unsigned 64-bit integer",uint128:"unsigned 128-bit integer",uint256:"unsigned 256-bit integer"}),ba[Ta(t)]||null)}(t)||""),k(this,"_char",function(t){return 0===arguments.length?{binary:"r",bool:"x",complex32:"j",complex64:"c",complex128:"z",float16:"h",bfloat16:"e",float32:"f",float64:"d",float128:"g",generic:"o",int8:"s",int16:"k",int32:"i",int64:"l",int128:"m",int256:"n",uint8:"b",uint8c:"a",uint16:"t",uint32:"u",uint64:"v",uint128:"w",uint256:"y"}:(void 0===wa&&(wa={binary:"r",bool:"x",complex32:"j",complex64:"c",complex128:"z",float16:"h",bfloat16:"e",float32:"f",float64:"d",float128:"g",generic:"o",int8:"s",int16:"k",int32:"i",int64:"l",int128:"m",int256:"n",uint8:"b",uint8c:"a",uint16:"t",uint32:"u",uint64:"v",uint128:"w",uint256:"y"}),wa[Ta(t)]||null)}(t)||""),k(this,"_enum",function(t){var e=typeof t;return"number"===e?ga(t)?t:null:"string"===e?Ea(t):"object"===e&&t&&at(t.enum)?t.enum:fa(t)?Ea("userdefined_type"):null}(t)||-1),k(this,"_alignment",function(t){var e;return 0===arguments.length?{binary:1,bool:1,complex32:2,complex64:4,complex128:8,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32}:(void 0===va&&(va={binary:1,bool:1,complex32:2,complex64:4,complex128:8,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32}),t?ft(e=t.alignment)?e:va[Ta(t)]||null:null)}(t)||-1),k(this,"_byteLength",Oa(t)||-1),k(this,"_byteOrder","host"),k(this,"_type",n),this}function Ra(t){return t instanceof Aa||"object"==typeof t&&null!==t&&at(t.alignment)&&at(t.byteLength)&&Ut(t.byteOrder)&&Ut(t.char)&&at(t.enum)&&sa(t,"value")}function Na(t){return Qt(t)&&ft(t.alignment)&&ft(t.byteLength)&&Qt(t.byteLengthOf)&&Qt(t.byteOffsetOf)&&Qt(t.bufferOf)&&Qt(t.viewOf)||Ra(t)&&Na(t.value)}function ja(t){return ua(t)||Ra(t)||Na(t)}k(Aa,"name","DataType"),Ot(Aa.prototype,"alignment",(function(){return this._alignment})),Ot(Aa.prototype,"byteLength",(function(){return this._byteLength})),Ot(Aa.prototype,"byteOrder",(function(){return this._byteOrder})),Ot(Aa.prototype,"char",(function(){return this._char})),Ot(Aa.prototype,"description",(function(){return this._description})),Ot(Aa.prototype,"enum",(function(){return this._enum})),Ot(Aa.prototype,"value",(function(){return this._value})),k(Aa.prototype,"toJSON",(function(){return{type:"DataType",value:this.toString(),byteOrder:this._byteOrder,description:this._description}})),k(Aa.prototype,"toString",(function(){return"struct"===this._type?this._value.layout:String(this._value)})),k(Aa.prototype,"valueOf",(function(){return this.toString()}));var Va={binary:1,bool:1,complex64:8,complex128:16,float16:2,bfloat16:2,float32:4,float64:8,float128:16,generic:null,int8:1,int16:2,int32:4,int64:8,int128:16,int256:32,uint8:1,uint8c:1,uint16:2,uint32:4,uint64:8,uint128:16,uint256:32};function Sa(t,e){return e&&(2===t||3===t)}function Ia(t,e){return e&&(1===t||3===t)}var La={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )"};var Ma={all:["binary","bool","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],typed:["binary","bool","complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],boolean:["bool"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]},Ua=/_and_generic$/;function Ba(){var t,e,r;return 0===arguments.length?Ma.all.slice():(r=!1,t=arguments[0],Ua.test(t)&&"all"!==(t=ne(t,Ua,""))&&(r=!0),e=(e=Ma[t])?e.slice():[],r&&e.length>0&&e.push("generic"),e)}function Fa(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}k(Ba,"enum",Fa),function(t,e){var r,n,i;for(r=mr(e),i=0;i<r.length;i++)ke(t,n=r[i],e[n])}(Ba,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var Ca={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},Pa=_r(),ka={throw:1,clamp:2,wrap:3,normalize:4};var Ya={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256},za=_r(),Ja={throw:1,clamp:2,wrap:3,normalize:4};function Ga(t,e,r,n,i,o){var a,u,s,f,l;if(!(this instanceof Ga))return new Ga(t,e,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=function(t){return Va[t]||null}(t),this._buffer=e,this._dtype=t,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=pt(e.get&&e.set),this._iterationOrder=Rt(n),a=function(t,e,r,n,i){var o;return 0!==t&&0!==i&&t===(o=It(e,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=jt(n),this._flags={ROW_MAJOR_CONTIGUOUS:Ia(s,a),COLUMN_MAJOR_CONTIGUOUS:Sa(s,a),READONLY:!1},this.__meta_dataview__=null,this}function Da(){return{dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool",index:"int32",integer_index:"int32",boolean_index:"bool",mask_index:"uint8"},order:"row-major",casting:"safe",index_mode:"throw"}}k(Ga,"name","ndarray"),Ot(Ga.prototype,"byteLength",(function(){return this._byteLength})),Ot(Ga.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Ot(Ga.prototype,"data",(function(){return this._buffer})),Ot(Ga.prototype,"dtype",(function(){return this._dtype})),Ot(Ga.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(t=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY};var t})),Ot(Ga.prototype,"length",(function(){return this._length})),Ot(Ga.prototype,"ndims",(function(){return this._ndims})),Ot(Ga.prototype,"offset",(function(){return this._offset})),Ot(Ga.prototype,"order",(function(){return this._order})),Ot(Ga.prototype,"shape",(function(){return this._shape.slice()})),Ot(Ga.prototype,"strides",(function(){return this._strides.slice()})),k(Ga.prototype,"get",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.get(t):this._buffer[t]})),k(Ga.prototype,"iget",(function(t){var e,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(r=this._shape,e=this._strides,i=this._offset,"column-major"===this._order){for(a=0;a<n;a++)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),k(Ga.prototype,"set",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length-1;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.set(arguments[e],t):this._buffer[t]=arguments[e],this})),k(Ga.prototype,"iset",(function(t,e){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset+t):this._buffer[this._offset+t]=e,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset-t):this._buffer[this._offset-t]=e,this}if(n=this._shape,r=this._strides,o=this._offset,"column-major"===this._order){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this})),k(Ga.prototype,"toString",(function(){var t,e,r,n,i,o;if(e=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",t="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<this._length-1&&(t+=", ");else for(o=0;o<this._length;o++)t+=this.iget(o),o<this._length-1&&(t+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<2&&(t+=", ");else for(o=0;o<3;o++)t+=this.iget(o),o<2&&(t+=", ");if(t+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)t+=Lt(i=this.iget(this._length-1-o))+", "+Mt(i),o>0&&(t+=", ");else for(o=2;o>=0;o--)t+=this.iget(this._length-1-o),o>0&&(t+=", ")}if(r+=ie(La[this.dtype],"{{data}}",t),r+=", ",r+=0===e?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===e)r+="0";else for(o=0;o<e;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<e-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),k(Ga.prototype,"toJSON",(function(){var t,e,r,n;for(e=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<e;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<e;n++)r=this.iget(n),t.data.push(Lt(r),Mt(r));else for(n=0;n<e;n++)t.data.push(this.iget(n));return t})),k(Ga.prototype,"__array_meta_dataview__",xt()?function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(h=this._ndims)+(c=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Me(new je(r)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,f=0,u.setInt8(f,be?1:0),f+=1,u.setInt16(f,Ca[n],be),f+=2,u.setBigInt64(f,Ue(h),be),l=8*h,f+=8,p=0;p<h;p++)u.setBigInt64(f,Ue(i[p]),be),u.setBigInt64(f+l,Ue(o[p]*t),be),f+=8;for(f+=l,u.setBigInt64(f,Ue(this._offset*t),be),f+=8,u.setInt8(f,Pa[this._order]),f+=1,u.setInt8(f,ka[s]),f+=1,u.setBigInt64(f,Ue(c),be),f+=8,p=0;p<c;p++)u.setInt8(f,ka[a[p]]),f+=1;return e=0,e|=this._flags.READONLY?4:0,u.setInt32(f,e,be),this.__meta_dataview__=u,u}:function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(c=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Me(new je(n)),e=new le(s.buffer),o=this._shape,a=this._strides,i=this._dtype,t=this._bytesPerElement,l=0,s.setInt8(l,be?1:0),l+=1,s.setInt16(l,Ya[i],be),Ir(c,e,1,l+=2),h=8*c,l+=8,g=0;g<c;g++)Ir(o[g],e,1,l),Ir(a[g]*t,e,1,l+h),l+=8;for(l+=h,Ir(this._offset*t,e,1,l),l+=8,s.setInt8(l,za[this._order]),l+=1,s.setInt8(l,Ja[f]),Ir(p,e,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,Ja[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,be),this.__meta_dataview__=s,s});var Wa={dtypes:{default:"float64",numeric:"float64",real:"float64",floating_point:"float64",real_floating_point:"float64",complex_floating_point:"complex128",integer:"int32",signed_integer:"int32",unsigned_integer:"uint32",boolean:"bool",index:"int32",integer_index:"int32",boolean_index:"bool",mask_index:"uint8"},order:"row-major",casting:"safe",index_mode:"throw"},qa={"dtypes.default":Wa.dtypes.default,"dtypes.numeric":Wa.dtypes.numeric,"dtypes.real":Wa.dtypes.real,"dtypes.floating_point":Wa.dtypes.floating_point,"dtypes.real_floating_point":Wa.dtypes.real_floating_point,"dtypes.complex_floating_point":Wa.dtypes.complex_floating_point,"dtypes.integer":Wa.dtypes.integer,"dtypes.signed_integer":Wa.dtypes.signed_integer,"dtypes.unsigned_integer":Wa.dtypes.unsigned_integer,"dtypes.boolean":Wa.dtypes.boolean,"dtypes.index":Wa.dtypes.index,"dtypes.integer_index":Wa.dtypes.integer_index,"dtypes.boolean_index":Wa.dtypes.boolean_index,"dtypes.mask_index":Wa.dtypes.mask_index,order:Wa.order,casting:Wa.casting,index_mode:Wa.index_mode};function $a(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e?new TypeError(S("invalid argument. A provided constructor must be either an object (except null) or a function. Value: `%s`.",t)):null}k(Da,"get",(function(t){var e=qa[t];return void 0===e?null:e}));var Xa=Object.create;function Za(){}var Ha="function"==typeof Xa?Xa:function(t){return Za.prototype=t,new Za};function Ka(t,e){return t<0?0:t>e?e:t}function Qa(t,e){var r=e+1;return t<0?((t+=r)<0&&0!==(t%=r)&&(t+=r),t):t>e?((t-=r)>e&&(t%=r),t):t}function tu(t,e){return t<0?(t+=e+1)<0?-1:t:t>e?-1:t}var eu=ia(Tr()),ru={wrap:Qa,clamp:Ka,normalize:function(t,e){var r=tu(t,e);if(r<0||r>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return r},throw:function(t,e){if(t<0||t>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return t}};function nu(t,e,r){var n;if("clamp"===r)return Ka(t,e);if("wrap"===r)return Qa(t,e);if(n=t,"normalize"===r&&(n=tu(n,e)),n<0||n>e)throw new RangeError(S("invalid argument. Index must resolve to a value on the interval: [0, %d]. Value: `%d`.",e,t));return n}k(nu,"factory",(function(t){if(!eu(t))throw new TypeError(S("invalid argument. First argument must be a recognized index mode. Value: `%s`.",t));return ru[t]}));var iu=Ga.prototype.iget;var ou=Ga.prototype.iset;function au(t,e){var r,n;for(r=[],n=0;n<e;n++)r.push(t[n]);return r}var uu=32767,su=Da.get("index_mode"),fu=!1;function lu(t,e,r,n,i,o,a){var u,s,f,l,h;if(!(this instanceof lu))return arguments.length<7?new lu(t,e,r,n,i,o):new lu(t,e,r,n,i,o,a);if(!ja(t))throw new TypeError(S("invalid argument. First argument must be a supported ndarray data type. Value: `%s`.",t));if(!ar(e))throw new TypeError(S("invalid argument. Second argument must be an array-like object, typed-array-like, or a Buffer. Value: `%s`.",e));if(e.get&&e.set&&(!Qt(e.get)||!Qt(e.set)))throw new TypeError(S("invalid argument. Second argument `get` and `set` properties must be functions. Value: `%s`.",e));if(!Zo(r)&&(!ar(r)||r.length>0))throw new TypeError(S("invalid argument. Third argument must be an array-like object containing nonnegative integers. Value: `%s`.",r));if((u=r.length)>uu)throw new RangeError(S("invalid argument. Number of dimensions must not exceed %u due to stack limits. Value: `%u`.",uu,u));if(!Qo(n))throw new TypeError(S("invalid argument. Fourth argument must be an array-like object containing integers. Value: `%s`.",n));if(u>0){if(n.length!==u)throw new RangeError(S("invalid argument. Fourth argument length must match the number of dimensions. Expected number of dimensions: `%u`. Strides length: `%u`.",u,n.length))}else{if(1!==n.length)throw new RangeError("invalid argument. Fourth argument length must be equal to 1 when creating a zero-dimensional ndarray.");if(0!==n[0])throw new RangeError(S("invalid argument. Fourth argument must contain a single element equal to 0. Value: `%d`.",n[0]))}if(!Yn(i))throw new TypeError(S("invalid argument. Fifth argument must be a nonnegative integer. Value: `%s`.",i));if(!function(t){var e;for(e=0;e<na;e++)if(t===ra[e])return!0;return!1}(o))throw new TypeError(S("invalid argument. Sixth argument must be a supported order. Value: `%s`.",o));if(u>0&&!function(t,e,r,n){var i=It(e,r,n);return i[0]>=0&&i[1]<t}(e.length,r,n,i)&&function(t){var e,r,n;if(0===(e=t.length))return 0;for(r=1,n=0;n<e;n++)r*=t[n];return r}(r)>0)throw new Error("invalid arguments. Input buffer is incompatible with the specified meta data. Ensure that the offset is valid with regard to the strides array and that the buffer has enough elements to satisfy the desired array shape.");if((s={}).mode=su,s.readonly=fu,arguments.length>6&&(f=function(t,e){var r;if(!Xr(e))return new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e));if(W(e,"mode")&&(t.mode=e.mode,!eu(t.mode)))return new TypeError(S("invalid option. `%s` option must be a recognized mode. Option: `%s`.","mode",t.mode));if(W(e,"submode")){if(t.submode=e.submode,!Dn(t.submode))return new TypeError(S("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",t.submode));if(0===t.submode.length)return new TypeError(S("invalid option. `%s` option must be an array containing recognized modes. Option: `%s`.","submode",t.submode.join(",")));for(r=0;r<t.submode.length;r++)if(!eu(t.submode[r]))return new TypeError(S("invalid option. Each submode must be a recognized mode. Option: `%s`.",t.submode[r]));t.submode=t.submode.slice()}return W(e,"readonly")&&(t.readonly=e.readonly,!ct(t.readonly))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","readonly",t.readonly)):null}(s,a),f))throw f;return this._mode=s.mode,void 0===s.submode&&(s.submode=[this._mode]),this._submode=s.submode,l=au(r,u),h=au(n,u||1),Ga.call(this,t,e,l,h,i,o),this._flags.READONLY=s.readonly,this}!function(t,e){var r=$a(t);if(r)throw r;if(r=$a(e))throw r;if(void 0===e.prototype)throw new TypeError(S("invalid argument. Second argument must have a prototype from which another object can inherit. Value: `%s`.",e.prototype));t.prototype=Ha(e.prototype),P(t.prototype,"constructor",{configurable:!0,enumerable:!1,writable:!0,value:t})}(lu,Ga),k(lu,"name","ndarray"),k(lu.prototype,"get",(function(){var t,e,r,n;if(arguments.length!==this._ndims)throw new RangeError(S("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,r=this._submode.length,n=0;n<arguments.length;n++){if(!at(arguments[n]))throw new TypeError(S("invalid argument. Indices must be integer valued. Argument: `%u`. Value: `%s`.",n,arguments[n]));e=nu(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.get(t):this._buffer[t]})),k(lu.prototype,"iget",(function(t){if(this._ndims>0){if(!at(t))throw new TypeError(S("invalid argument. Index must be an integer. Value: `%s`.",t));return t=nu(t,this._length-1,this._mode),iu.call(this,t)}return iu.call(this)})),k(lu.prototype,"set",(function(){var t,e,r,n;if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(arguments.length!==this._ndims+1)throw new RangeError(S("invalid arguments. Number of indices must match the number of dimensions. ndims: `%u`. nargs: `%u`.",this._ndims,arguments.length));for(t=this._offset,r=this._submode.length,n=0;n<arguments.length-1;n++){if(!at(arguments[n]))throw new TypeError(S("invalid argument. Indices must be integer valued. Argument: `%i`. Value: `%s`.",n,arguments[n]));e=nu(arguments[n],this._shape[n]-1,this._submode[n%r]),t+=this._strides[n]*e}return this._accessors?this._buffer.set(arguments[n],t):this._buffer[t]=arguments[n],this})),k(lu.prototype,"iset",(function(t,e){if(this._flags.READONLY)throw new Error("invalid invocation. Cannot write to a read-only array.");if(this._ndims>0){if(!at(t))throw new TypeError(S("invalid argument. Index must be an integer. Value: `%s`.",t));t=nu(t,this._length-1,this._mode),ou.call(this,t,e)}else ou.call(this,t);return this}));var hu=Array.prototype.slice;function cu(t,e,r){var n;return function(t,e){return"function"==typeof t[e]}(t,"slice")?t.slice(e,r):(n=Si(t)).accessorProtocol?function(t,e,r){var n,i,o,a;for(n=t.data,i=t.accessors[0],o=[],a=e;a<r;a++)o.push(i(n,a));return o}(n,e,r):function(t,e,r){return hu.call(t,e,r)}(t,e,r)}function pu(t,e){return e&&(2===t||3===t)}function gu(t,e){return e&&(1===t||3===t)}function mu(t){return"column-major"===t}var yu={int8:"new Int8Array( [ {{data}} ] )",uint8:"new Uint8Array( [ {{data}} ] )",uint8c:"new Uint8ClampedArray( [ {{data}} ] )",int16:"new Int16Array( [ {{data}} ] )",uint16:"new Uint16Array( [ {{data}} ] )",int32:"new Int32Array( [ {{data}} ] )",uint32:"new Uint32Array( [ {{data}} ] )",float32:"new Float32Array( [ {{data}} ] )",float64:"new Float64Array( [ {{data}} ] )",generic:"[ {{data}} ]",binary:"new Buffer( [ {{data}} ] )",complex64:"new Complex64Array( [ {{data}} ] )",complex128:"new Complex128Array( [ {{data}} ] )",bool:"new BooleanArray( [ {{data}} ] )"};var du={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float16:10,float32:11,float64:12,complex32:13,complex64:14,complex128:15,binary:16,generic:17,notype:18,userdefined_type:256},bu=_r(),wu={throw:1,clamp:2,wrap:3,normalize:4};var vu={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float16:10,float32:11,float64:12,complex32:13,complex64:14,complex128:15,binary:16,generic:17,notype:18,userdefined_type:256},_u=_r(),Eu={throw:1,clamp:2,wrap:3,normalize:4};function Tu(t,e,r,n,i,o){var a,u,s,f,l;if(!(this instanceof Tu))return new Tu(t,e,r,n,i,o);for(f=1,l=0;l<r.length;l++)f*=r[l];return u=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT*f:null,this._byteLength=u,this._bytesPerElement=Oa(t),this._buffer=e,this._dtype=t,this._length=f,this._ndims=r.length,this._offset=i,this._order=o,this._shape=r,this._strides=n,this._accessors=pt(e.get&&e.set),this._iterationOrder=Rt(n),a=function(t,e,r,n,i){var o;return 0!==t&&0!==i&&t===(o=It(e,r,n))[1]-o[0]+1}(f,r,n,i,this._iterationOrder),s=jt(n),this._flags={ROW_MAJOR_CONTIGUOUS:gu(s,a),COLUMN_MAJOR_CONTIGUOUS:pu(s,a),READONLY:!1},this.__meta_dataview__=null,this}function xu(t,e,r){return(r?Tu:lu)("float64",new Oe(t*e),[t,e],[e,1],0,"row-major")}function Ou(t,e){var r,n,i,o,a,u,s,f,l,h,c;for(l=e.shape[0],h=e.shape[1],r=e.data,n=t.data,i=e.strides[0],o=e.strides[1],a=t.strides[0],u=t.strides[1],s=e.offset,f=t.offset,c=0;c<l;c++)Bi(h,r,o,s,n,u,f),s+=i,f+=a;return t}function Au(t,e){return(e?Tu:lu)("float64",new Oe(t),[t],[1],0,"row-major")}function Ru(t,e){return Bi(e.shape[0],e.data,e.strides[0],e.offset,t.data,t.strides[0],t.offset),t}k(Tu,"name","ndarray"),Ot(Tu.prototype,"byteLength",(function(){return this._byteLength})),Ot(Tu.prototype,"BYTES_PER_ELEMENT",(function(){return this._bytesPerElement})),Ot(Tu.prototype,"data",(function(){return this._buffer})),Ot(Tu.prototype,"dtype",(function(){return this._dtype})),Ot(Tu.prototype,"flags",(function(){return{ROW_MAJOR_CONTIGUOUS:(t=this._flags).ROW_MAJOR_CONTIGUOUS,COLUMN_MAJOR_CONTIGUOUS:t.COLUMN_MAJOR_CONTIGUOUS,READONLY:t.READONLY};var t})),Ot(Tu.prototype,"length",(function(){return this._length})),Ot(Tu.prototype,"ndims",(function(){return this._ndims})),Ot(Tu.prototype,"offset",(function(){return this._offset})),Ot(Tu.prototype,"order",(function(){return this._order})),Ot(Tu.prototype,"shape",(function(){return cu(this._shape,0,this._shape.length)})),Ot(Tu.prototype,"strides",(function(){return cu(this._strides,0,this._strides.length)})),k(Tu.prototype,"get",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.get(t):this._buffer[t]})),k(Tu.prototype,"iget",(function(t){var e,r,n,i,o,a;if(0===(n=this._ndims))return this._accessors?this._buffer.get(this._offset):this._buffer[this._offset];if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.get(this._offset+t):this._buffer[this._offset+t];if(-1===this._iterationOrder)return this._accessors?this._buffer.get(this.offset-t):this._buffer[this._offset-t]}if(r=this._shape,e=this._strides,i=this._offset,mu(this._order)){for(a=0;a<n;a++)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]}for(a=n-1;a>=0;a--)t-=o=t%r[a],t/=r[a],i+=o*e[a];return this._accessors?this._buffer.get(i):this._buffer[i]})),k(Tu.prototype,"set",(function(){var t,e;for(t=this._offset,e=0;e<arguments.length-1;e++)t+=this._strides[e]*arguments[e];return this._accessors?this._buffer.set(arguments[e],t):this._buffer[t]=arguments[e],this})),k(Tu.prototype,"iset",(function(t,e){var r,n,i,o,a,u;if(0===(i=this._ndims))return this._accessors?this._buffer.set(t,this._offset):this._buffer[this._offset]=t,this;if(this._flags.ROW_MAJOR_CONTIGUOUS||this._flags.COLUMN_MAJOR_CONTIGUOUS){if(1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset+t):this._buffer[this._offset+t]=e,this;if(-1===this._iterationOrder)return this._accessors?this._buffer.set(e,this._offset-t):this._buffer[this._offset-t]=e,this}if(n=this._shape,r=this._strides,o=this._offset,mu(this._order)){for(u=0;u<i;u++)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this}for(u=i-1;u>=0;u--)t-=a=t%n[u],t/=n[u],o+=a*r[u];return this._accessors?this._buffer.set(e,o):this._buffer[o]=e,this})),k(Tu.prototype,"toString",(function(){var t,e,r,n,i,o;if(e=this._shape.length,r="ndarray( '"+(n=this._dtype)+"', ",t="",this._length<=100)if("complex64"===n||"complex128"===n)for(o=0;o<this._length;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<this._length-1&&(t+=", ");else for(o=0;o<this._length;o++)t+=this.iget(o),o<this._length-1&&(t+=", ");else{if("complex64"===n||"complex128"===n)for(o=0;o<3;o++)t+=Lt(i=this.iget(o))+", "+Mt(i),o<2&&(t+=", ");else for(o=0;o<3;o++)t+=this.iget(o),o<2&&(t+=", ");if(t+=", ..., ","complex64"===n||"complex128"===n)for(o=2;o>=0;o--)t+=Lt(i=this.iget(this._length-1-o))+", "+Mt(i),o>0&&(t+=", ");else for(o=2;o>=0;o--)t+=this.iget(this._length-1-o),o>0&&(t+=", ")}if(r+=ie(yu[this.dtype],"{{data}}",t),r+=", ",r+=0===e?"[]":"[ "+this._shape.join(", ")+" ]",r+=", ",r+="[ ",0===e)r+="0";else for(o=0;o<e;o++)this._strides[o]<0?r+=-this._strides[o]:r+=this._strides[o],o<e-1&&(r+=", ");return r+=" ]",r+=", ",r+="0",r+=", ",r+="'"+this._order+"'",r+=" )"})),k(Tu.prototype,"toJSON",(function(){var t,e,r,n;for(e=this._length,(t={}).type="ndarray",t.dtype=this.dtype,t.flags={READONLY:this._flags.READONLY},t.order=this._order,t.shape=this._shape.slice(),t.strides=this._strides.slice(),n=0;n<t.strides.length;n++)t.strides[n]<0&&(t.strides[n]*=-1);if(t.data=[],"complex64"===t.dtype||"complex128"===t.dtype)for(n=0;n<e;n++)r=this.iget(n),t.data.push(Lt(r),Mt(r));else for(n=0;n<e;n++)t.data.push(this.iget(n));return t})),k(Tu.prototype,"valueOf",(function(){return 0===this._ndims?this.iget():this})),k(Tu.prototype,"__array_meta_dataview__",xt()?function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(s=this._mode||"throw",a=this._submode||[s],r=33+16*(h=this._ndims)+(c=a.length),(u=this.__meta_dataview__)&&u.byteLength===r)return u;for(u=new Me(new je(r)),i=this._shape,o=this._strides,n=this._dtype,t=this._bytesPerElement,f=0,u.setInt8(f,be?1:0),f+=1,u.setInt16(f,du[n],be),f+=2,u.setBigInt64(f,Ue(h),be),l=8*h,f+=8,p=0;p<h;p++)u.setBigInt64(f,Ue(i[p]),be),u.setBigInt64(f+l,Ue(o[p]*t),be),f+=8;for(f+=l,u.setBigInt64(f,Ue(this._offset*t),be),f+=8,u.setInt8(f,bu[this._order]),f+=1,u.setInt8(f,wu[s]),f+=1,u.setBigInt64(f,Ue(c),be),f+=8,p=0;p<c;p++)u.setInt8(f,wu[a[p]]),f+=1;return e=0,e|=this._flags.READONLY?4:0,u.setInt32(f,e,be),this.__meta_dataview__=u,u}:function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p,g;if(f=this._mode||"throw",u=this._submode||[f],n=33+16*(c=this._ndims)+(p=u.length),(s=this.__meta_dataview__)&&s.byteLength===n)return s;for(s=new Me(new je(n)),e=new le(s.buffer),o=this._shape,a=this._strides,i=this._dtype,t=this._bytesPerElement,l=0,s.setInt8(l,be?1:0),l+=1,s.setInt16(l,vu[i],be),Ir(c,e,1,l+=2),h=8*c,l+=8,g=0;g<c;g++)Ir(o[g],e,1,l),Ir(a[g]*t,e,1,l+h),l+=8;for(l+=h,Ir(this._offset*t,e,1,l),l+=8,s.setInt8(l,_u[this._order]),l+=1,s.setInt8(l,Eu[f]),Ir(p,e,1,l+=1),l+=8,g=0;g<p;g++)s.setInt8(l,Eu[u[g]]),l+=1;return r=0,r|=this._flags.READONLY?4:0,s.setInt32(l,r,be),this.__meta_dataview__=s,s});var Nu=["euclidean","correlation","cosine"],ju=["forgy","sample","kmeans++"],Vu=ia(Nu),Su=ia(ju);var Iu={forgy:["forgy",1],sample:["sample",1],"kmeans++":["kmeans++",1,1]},Lu=Math.sqrt;function Mu(t,e,r,n){var i,o,a,u;for(o=0,i=n,u=0;u<t;u++)o+=(a=e[i])*a,i+=r;for(o=Lu(o),i=n,u=0;u<t;u++)e[i]/=o;return e}function Uu(t){var e,r,n,i,o,a,u;for(e=t.data,o=t.shape[0],a=t.shape[1],r=t.strides[0],n=t.strides[1],i=t.offset,u=0;u<o;u++)Mu(a,e,n,i),i+=r;return t}function Bu(t,e,r,n,i,o,a,u,s,f){var l,h,c,p;for(l=n,h=a,c=f,p=0;p<t;p++)e[l]=(e[l]-i[h])/u[c],l+=r,h+=o,c+=s;return e}function Fu(t,e){var r,n,i,o,a,u,s;for(r=t.data,a=t.shape[0],u=t.shape[1],n=t.strides[0],i=t.strides[1],o=t.offset,s=0;s<a;s++)Bu(u,r,i,o,e,2,0,e,2,1),o+=n;return t}function Cu(t){return null!==t&&"object"==typeof t&&Yn(t.length)&&t.length<=or&&"number"==typeof t.BYTES_PER_ELEMENT&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength}var Pu=9007199254740991;function ku(t,e){return We(t)||We(e)?NaN:t===et||e===et?et:t===e&&0===t?function(t){return 0===t&&1/t===et}(t)?t:e:t>e?t:e}var Yu=65535;function zu(t,e){var r,n;return((r=((t>>>=0)&Yu)>>>0)*(n=((e>>>=0)&Yu)>>>0)>>>0)+((t>>>16>>>0)*n+r*(e>>>16>>>0)<<16>>>0)>>>0}var Ju=[[Oe,"Float64Array"],[gn,"Float32Array"],[On,"Int32Array"],[vn,"Uint32Array"],[Vn,"Int16Array"],[ye,"Uint16Array"],[kn,"Int8Array"],[le,"Uint8Array"],[Un,"Uint8ClampedArray"],[yi,"Complex64Array"],[Ai,"Complex128Array"],[Ki,"BooleanArray"]];function Gu(t){var e,r;for(r=0;r<Ju.length;r++)if(eo(t,Ju[r][0]))return Ju[r][1];for(;t;){for(e=Ht(t),r=0;r<Ju.length;r++)if(e===Ju[r][1])return Ju[r][1];t=qr(t)}}var Du=Qe-1;function Wu(){return nt(1+Du*Math.random())>>>0}var qu=624,$u=397,Xu=Qe>>>0,Zu=19650218,Hu=2147483648,Ku=2147483647,Qu=1812433253,ts=1664525,es=1566083941,rs=2636928640,ns=4022730752,is=[0,2567483615],os=1/(Pu+1),as=67108864,us=2147483648,ss=1,fs=Pu*os,ls=1,hs=3,cs=2,ps=qu+3,gs=qu+5,ms=qu+6;function ys(t,e){var r;return r=e?"option":"argument",t.length<ms+1?new RangeError(S("invalid %s. `state` array has insufficient length.",r)):t[0]!==ls?new RangeError(S("invalid %s. `state` array has an incompatible schema version. Expected: `%s`. Actual: `%s.`",r,ls,t[0])):t[1]!==hs?new RangeError(S("invalid %s. `state` array has an incompatible number of sections. Expected: `%s`. Actual: `%s`.",r,hs,t[1])):t[cs]!==qu?new RangeError(S("invalid %s. `state` array has an incompatible state length. Expected: `%u`. Actual: `%u`.",r,qu,t[cs])):1!==t[ps]?new RangeError(S("invalid %s. `state` array has an incompatible section length. Expected: `%u`. Actual: `%u`.",r,1,t[ps])):t[gs]!==t.length-ms?new RangeError(S("invalid %s. `state` array length is incompatible with seed section length. Expected: `%u`. Actual: `%u`.",r,t.length-ms,t[gs])):null}function ds(t,e,r){var n;for(t[0]=r>>>0,n=1;n<e;n++)r=((r=t[n-1]>>>0)^r>>>30)>>>0,t[n]=zu(r,Qu)+n>>>0;return t}function bs(t){var e,r,n,i,o,a;if(n={},arguments.length){if(!Xr(t))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(W(t,"copy")&&(n.copy=t.copy,!ct(t.copy)))throw new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",t.copy));if(W(t,"state")){if(r=t.state,n.state=!0,!yn(r))throw new TypeError(S("invalid option. `%s` option must be a Uint32Array. Option: `%s`.","state",r));if(a=ys(r,!0))throw a;!1===n.copy?e=r:(e=new vn(r.length),Mi(r.length,r,1,e,1)),r=new vn(e.buffer,e.byteOffset+(cs+1)*e.BYTES_PER_ELEMENT,qu),i=new vn(e.buffer,e.byteOffset+(gs+1)*e.BYTES_PER_ELEMENT,r[gs])}if(void 0===i)if(W(t,"seed"))if(i=t.seed,n.seed=!0,ft(i)){if(i>Xu)throw new RangeError(S("invalid option. `%s` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else{if(!1===ar(i)||i.length<1)throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(1===i.length){if(!ft(i=i[0]))throw new TypeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%s`.","seed",i));if(i>Xu)throw new RangeError(S("invalid option. `%s` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `%u`.","seed",i));i>>>=0}else o=i.length,(e=new vn(ms+o))[0]=ls,e[1]=hs,e[cs]=qu,e[ps]=1,e[ps+1]=qu,e[gs]=o,Mi.ndarray(o,i,1,0,e,1,gs+1),r=new vn(e.buffer,e.byteOffset+(cs+1)*e.BYTES_PER_ELEMENT,qu),i=new vn(e.buffer,e.byteOffset+(gs+1)*e.BYTES_PER_ELEMENT,o),r=function(t,e,r,n){var i,o,a,u;for(o=1,a=0,u=ku(e,n);u>0;u--)i=zu(i=((i=t[o-1]>>>0)^i>>>30)>>>0,ts)>>>0,t[o]=(t[o]>>>0^i)+r[a]+a>>>0,a+=1,(o+=1)>=e&&(t[0]=t[e-1],o=1),a>=n&&(a=0);for(u=e-1;u>0;u--)i=zu(i=((i=t[o-1]>>>0)^i>>>30)>>>0,es)>>>0,t[o]=(t[o]>>>0^i)-o>>>0,(o+=1)>=e&&(t[0]=t[e-1],o=1);return t[0]=us,t}(r=ds(r,qu,Zu),qu,i,o)}else i=Wu()>>>0}else i=Wu()>>>0;return void 0===r&&((e=new vn(ms+1))[0]=ls,e[1]=hs,e[cs]=qu,e[ps]=1,e[ps+1]=qu,e[gs]=1,e[gs+1]=i,r=new vn(e.buffer,e.byteOffset+(cs+1)*e.BYTES_PER_ELEMENT,qu),i=new vn(e.buffer,e.byteOffset+(gs+1)*e.BYTES_PER_ELEMENT,1),r=ds(r,qu,i)),k(g,"NAME","mt19937"),Ot(g,"seed",u),Ot(g,"seedLength",s),Yr(g,"state",h,c),Ot(g,"stateLength",f),Ot(g,"byteLength",l),k(g,"toJSON",p),k(g,"MIN",0),k(g,"MAX",Qe),k(g,"normalized",m),k(m,"NAME",g.NAME),Ot(m,"seed",u),Ot(m,"seedLength",s),Yr(m,"state",h,c),Ot(m,"stateLength",f),Ot(m,"byteLength",l),k(m,"toJSON",p),k(m,"MIN",0),k(m,"MAX",fs),g;function u(){var t=e[gs];return Mi(t,i,1,new vn(t),1)}function s(){return e[gs]}function f(){return e.length}function l(){return e.byteLength}function h(){var t=e.length;return Mi(t,e,1,new vn(t),1)}function c(t){var o;if(!yn(t))throw new TypeError(S("invalid argument. Must provide a Uint32Array. Value: `%s`.",t));if(o=ys(t,!1))throw o;!1===n.copy?n.state&&t.length===e.length?Mi(t.length,t,1,e,1):(e=t,n.state=!0):(t.length!==e.length&&(e=new vn(t.length)),Mi(t.length,t,1,e,1)),r=new vn(e.buffer,e.byteOffset+(cs+1)*e.BYTES_PER_ELEMENT,qu),i=new vn(e.buffer,e.byteOffset+(gs+1)*e.BYTES_PER_ELEMENT,e[gs])}function p(){var t={type:"PRNG"};return t.name=g.NAME,t.state=function(t){var e,r,n;if(Ji(t))e=t;else if(Wi(t))e=8===t.BYTES_PER_ELEMENT?si(t,0):fi(t,0);else{if(!Qi(t))throw new TypeError(S("invalid argument. Must provide a typed array. Value: `%s`.",t));e=to(t,0)}for(r={type:Gu(t),data:[]},n=0;n<e.length;n++)r.data.push(e[n]);return r}(e),t.params=[],t}function g(){var t,n;return(n=e[ps+1])>=qu&&(r=function(t){var e,r,n,i;for(i=qu-$u,r=0;r<i;r++)e=t[r]&Hu|t[r+1]&Ku,t[r]=t[r+$u]^e>>>1^is[e&ss];for(n=qu-1;r<n;r++)e=t[r]&Hu|t[r+1]&Ku,t[r]=t[r-i]^e>>>1^is[e&ss];return e=t[n]&Hu|t[0]&Ku,t[n]=t[$u-1]^e>>>1^is[e&ss],t}(r),n=0),t=r[n],e[ps+1]=n+1,t^=t>>>11,t^=t<<7&rs,t^=t<<15&ns,(t^=t>>>18)>>>0}function m(){var t=g()>>>5,e=g()>>>6;return(t*as+e)*os}}function ws(){return/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/}k(bs({seed:Wu()}),"factory",bs),k(ws,"REGEXP",/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/);var vs=void 0!==Object.getOwnPropertyNames,_s=Gr.getOwnPropertyNames;var Es=vs?function(t){return _s(Gr(t))}:function(t){return mr(Gr(t))},Ts=void 0!==Object.getOwnPropertyDescriptor,xs=Object.getOwnPropertyDescriptor;var Os=Ts?function(t,e){var r;return null==t||void 0===(r=xs(t,e))?null:r}:function(t,e){return W(t,e)?{configurable:!0,enumerable:!0,writable:!0,value:t[e]}:null},As="function"==typeof Buffer?Buffer:null;var Rs,Ns=e.Buffer;Rs=function(){var t,e;if("function"!=typeof As)return!1;try{t=Zt(e="function"==typeof As.from?As.from([1,2,3,4]):new As([1,2,3,4]))&&1===e[0]&&2===e[1]&&3===e[2]&&4===e[3]}catch(e){t=!1}return t}()?Ns:function(){throw new Error("not implemented")};var js=Rs;var Vs=Qt(js.from)?function(t){if(!Zt(t))throw new TypeError(S("invalid argument. Must provide a Buffer. Value: `%s`.",t));return js.from(t)}:function(t){if(!Zt(t))throw new TypeError(S("invalid argument. Must provide a Buffer. Value: `%s`.",t));return new js(t)};function Ss(t){return new kn(t)}function Is(t){return new le(t)}function Ls(t){return new Un(t)}function Ms(t){return new Vn(t)}function Us(t){return new ye(t)}function Bs(t){return new On(t)}function Fs(t){return new vn(t)}function Cs(t){return new gn(t)}function Ps(t){return new Oe(t)}var ks={int8array:Ss,uint8array:Is,uint8clampedarray:Ls,int16array:Ms,uint16array:Us,int32array:Bs,uint32array:Fs,float32array:Cs,float64array:Ps};function Ys(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g;if(i-=1,"object"!=typeof t||null===t)return t;if(Zt(t))return Vs(t);if(Po(t))return function(t){var e,r,n,i,o,a,u=[],s=[];for(o=new t.constructor(t.message),u.push(t),s.push(o),t.stack&&(o.stack=t.stack),t.code&&(o.code=t.code),t.errno&&(o.errno=t.errno),t.syscall&&(o.syscall=t.syscall),e=mr(t),a=0;a<e.length;a++)i=e[a],W(r=Os(t,i),"value")&&(n=qt(t[i])?[]:{},r.value=Ys(t[i],n,u,s,-1)),P(o,i,r);return o}(t);if("date"===(u=Kt(t)))return new Date(+t);if("regexp"===u)return function(t){if(!Ut(t))throw new TypeError(S("invalid argument. Must provide a regular expression string. Value: `%s`.",t));return(t=/^\/((?:\\\/|[^\/])+)\/([imgy]*)$/.exec(t))?new RegExp(t[1],t[2]):null}(t.toString());if("set"===u)return new Set(t);if("map"===u)return new Map(t);if("string"===u||"boolean"===u||"number"===u)return t.valueOf();if(f=ks[u])return f(t);if("array"!==u&&"object"!==u)return"function"==typeof Object.freeze?function(t){var e,r,n,i,o,a,u,s;for(e=[],i=[],u=Object.create(qr(t)),e.push(t),i.push(u),r=Es(t),s=0;s<r.length;s++)n=r[s],W(o=Os(t,n),"value")&&(a=qt(t[n])?[]:{},o.value=Ys(t[n],a,e,i,-1)),P(u,n,o);return Object.isExtensible(t)||Object.preventExtensions(u),Object.isSealed(t)&&Object.seal(u),Object.isFrozen(t)&&Object.freeze(u),u}(t):{};if(a=mr(t),i>0)for(o=u,g=0;g<a.length;g++)c=t[l=a[g]],u=Kt(c),"object"!=typeof c||null===c||"array"!==u&&"object"!==u||Zt(c)?"object"===o?(W(s=Os(t,l),"value")&&(s.value=Ys(c)),P(e,l,s)):e[l]=Ys(c):-1===(p=ur(r,c))?(h=qt(c)?new Array(c.length):{},r.push(c),n.push(h),"array"===o?e[l]=Ys(c,h,r,n,i):(W(s=Os(t,l),"value")&&(s.value=Ys(c,h,r,n,i)),P(e,l,s))):e[l]=n[p];else if("array"===u)for(g=0;g<a.length;g++)e[l=a[g]]=t[l];else for(g=0;g<a.length;g++)l=a[g],s=Os(t,l),P(e,l,s);return Object.isExtensible(t)||Object.preventExtensions(e),Object.isSealed(t)&&Object.seal(e),Object.isFrozen(t)&&Object.freeze(e),e}function zs(t,e){var r;if(arguments.length>1){if(!Yn(e))throw new TypeError(S("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",e));if(0===e)return t}else e=et;return Ys(t,r=qt(t)?new Array(t.length):{},[t],[r],e)}function Js(t,e,r){var n,i,o,a;for(o=t.length,i=new Array(e),a=0;a<e;a++)n=nt(o*r()),i[a]=t[n];return i}var Gs=Array.prototype.slice;function Ds(t,e,r){var n,i,o;for(i=t.length-1;i>0;i--)o=nt(r()*(i+1)),n=t[i],t[i]=t[o],t[o]=n;return Gs.call(t,0,e)}var Ws={mutate:!1,replace:!0};function qs(t){return t===et||t===rt}function $s(t,e){return We(t)||We(e)?NaN:qs(t)||qs(e)?t===e?NaN:et:Nt(t-e)}var Xs=1.4901161193847656e-8;function Zs(t,e){return Xr(e)?W(e,"size")&&(t.size=e.size,!Jn(t.size))?new TypeError(S("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","size",t.size)):W(e,"probs")&&(t.probs=e.probs,!function(t){var e,r;if(qt(t)){for(e=0,r=0;r<t.length;r++){if(!Y(t[r])||t[r]>1||t[r]<0)return!1;e+=t[r]}return $s(e,1)<=Xs}if(Ji(t)){for(e=0,r=0;r<t.length;r++){if(t[r]>1||t[r]<0)return!1;e+=t[r]}return $s(e,1)<=Xs}return!1}(t.probs))?new TypeError(S("invalid option. `%s` option must be an array of probabilities that sum to one. Option: `%s`.","probs",t.probs)):W(e,"mutate")&&(t.mutate=e.mutate,!ct(t.mutate))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","mutate",t.mutate)):W(e,"replace")&&(t.replace=e.replace,!ct(t.replace))?new TypeError(S("invalid option. `%s` option must be a boolean. Option: `%s`.","replace",t.replace)):null:new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",e))}var Hs=Array.prototype.slice;function Ks(){var t,e,r,n,i,o;if(r=zs(Ws),1===arguments.length)$o(arguments[0])||Cu(arguments[0])?e=arguments[0]:i=Zs(r,t=arguments[0]);else if(arguments.length>1){if(t=arguments[1],!$o(e=arguments[0])&&!Cu(e))throw new TypeError(S("invalid argument. `%s` argument must be array-like. Value: `%s`.","pool",e));i=Zs(r,t)}if(i)throw i;return n=t&&t.seed?bs({seed:t.seed}):bs(),void 0===e?o=function(t,e){var i,o,a,u,s;if(!$o(t)&&!Cu(t))throw new TypeError(S("invalid argument. First argument must be array-like. Value: `%s`.",t));Ut(t)&&(t=t.split(""));if(a={},arguments.length>1&&(s=Zs(a,e)))throw s;i=void 0===a.replace?r.replace:a.replace;void 0!==a.probs&&(o=a.probs);u=a.size?a.size:r.size?r.size:t.length;if(!1===i&&u>t.length)throw new RangeError(S("invalid option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `%s`.",u));if(o)return i?function(t,e,r,n){var i,o,a,u,s,f,l,h,c,p;for(a=n.slice(),f=t.length,i=[],o=[],c=0;c<f;c++)a[c]*=f,a[c]<1?i.push(c):o.push(c);for(u=new Array(f),l=new Array(f);0!==i.length&&0!==o.length;)p=i.shift(),h=o.shift(),l[p]=a[p],u[p]=h,a[h]=a[h]+a[p]-1,a[h]<1?i.push(h):o.push(h);for(c=0;c<o.length;c++)l[o[c]]=1;for(c=0;c<i.length;c++)l[i[c]]=1;for(s=new Array(e),c=0;c<e;c++)p=nt(f*r()),r()<l[p]?s[c]=t[p]:s[c]=t[u[p]];return s}(t,u,n,o):function(t,e,r,n){var i,o,a,u,s,f,l,h;for(u=t.length,i=new Array(u),s=0;s<u;s++)i[s]=n[s];for(a=new Array(e),s=0;s<e;s++){for(h=r(),o=0,f=0;f<u&&!(h<(o+=i[f]));f++);for(l=0;l<u;l++)l!==f&&(i[l]/=1-i[f]);i[f]=0,a[s]=t[f]}return a}(t,u,n,o);if(i)return Js(t,u,n);return Ds(Hs.call(t),u,n)}:(e=Ut(e)?e.split(""):zs(e),o=function(t){var i,o,a,u,s,f;if(0===e.length)return null;if(a={},arguments.length&&(s=Zs(a,t)))throw s;o=void 0===a.mutate?r.mutate:a.mutate;i=void 0===a.replace?r.replace:a.replace;u=a.size?a.size:r.size?r.size:e.length;if(!1===i&&u>e.length)throw new RangeError(S("invalid option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `%s`.",u));if(i)return Js(e,u,n);f=Ds(e,u,n),o&&(e=e.slice(u,e.length));return f}),k(o,"seed",n.seed),k(o,"PRNG",n),n=n.normalized,o}function Qs(t){return function(){return t}}k(Ks(),"factory",Ks);var tf=[[Oe,"Float64Array"],[gn,"Float32Array"],[On,"Int32Array"],[vn,"Uint32Array"],[Vn,"Int16Array"],[ye,"Uint16Array"],[kn,"Int8Array"],[le,"Uint8Array"],[Un,"Uint8ClampedArray"],[yi,"Complex64Array"],[Ai,"Complex128Array"]];function ef(t){var e,r;for(r=0;r<tf.length;r++)if(eo(t,tf[r][0]))return tf[r][1];for(;t;){for(e=Ht(t),r=0;r<tf.length;r++)if(e===tf[r][1])return tf[r][1];t=qr(t)}}function rf(t,e,r){var n,i,o,a,u,s,f,l;if(0===(o=r-e))return e;if(f=t.MIN,(i=t.MAX-f)===o)return t()-f+e;if(i<o)for(a=0;;){for(o===Pu?(a=nt(o/(i+1)),o%(i+1)===i&&(a+=1)):a=nt((o+1)/(i+1)),n=0,s=1;s<=a;){if(n+=(t()-f)*s,s*i==o-s+1)return n;s*=i+1}if(!((l=rf(t,0,nt(o/s)))>Pu/s||(n+=l*=s)>o))return n+e}for(i===Pu?(u=nt(i/(o+1)),i%(o+1)===o&&(u+=1)):u=nt((i+1)/(o+1));;)if(n=t()-f,(n=nt(n/u))<=o)return n+e}function nf(){var t,e,r,n,i,o;if(0===arguments.length)e=bs();else if(1===arguments.length){if(!Xr(t=arguments[0]))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(W(t,"prng")){if(!Qt(t.prng))throw new TypeError(S("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",t.prng));if(!it((e=t.prng).MIN))throw new TypeError(S("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!it(e.MAX))throw new TypeError(S("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else e=bs(t)}else{if(n=function(t,e){return!at(t)||Xe(t)?new TypeError(S("invalid argument. First argument must be an integer and not NaN. Value: `%s`.",t)):!at(e)||Xe(e)?new TypeError(S("invalid argument. Second argument must be an integer and not NaN. Value: `%s`.",e)):t>e?new RangeError(S("invalid argument. Minimum support must be less than or equal to maximum support. Value: `[%d, %d]`.",t,e)):null}(i=arguments[0],o=arguments[1]))throw n;if(arguments.length>2){if(!Xr(t=arguments[2]))throw new TypeError(S("invalid argument. Options argument must be an object. Value: `%s`.",t));if(W(t,"prng")){if(!Qt(t.prng))throw new TypeError(S("invalid option. `%s` option must be a pseudorandom number generator function. Option: `%s`.","prng",t.prng));if(!it((e=t.prng).MIN))throw new TypeError(S("invalid option. `%s` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.","prng"));if(!it(e.MAX))throw new TypeError(S("invalid option. `%s` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.","prng"))}else e=bs(t)}else e=bs()}return k(r=void 0===i?function(t,r){if(We(t)||We(r)||!it(t)||!it(r)||t>r)return NaN;return rf(e,t,r)}:function(){return rf(e,i,o)},"NAME","discrete-uniform"),t&&t.prng?(k(r,"seed",null),k(r,"seedLength",null),Yr(r,"state",Qs(null),rr),k(r,"stateLength",null),k(r,"byteLength",null),k(r,"toJSON",Qs(null)),k(r,"PRNG",e)):(Ot(r,"seed",(function(){return e.seed})),Ot(r,"seedLength",(function(){return e.seedLength})),Yr(r,"state",(function(){return e.state}),(function(t){e.state=t})),Ot(r,"stateLength",(function(){return e.stateLength})),Ot(r,"byteLength",(function(){return e.byteLength})),k(r,"toJSON",(function(){var t={type:"PRNG"};t.name=r.NAME,t.state=function(t){var e,r,n;if(Ji(t))e=t;else{if(!Wi(t))throw new TypeError(S("invalid argument. Must provide a typed array. Value: `%s`.",t));e=8===t.BYTES_PER_ELEMENT?si(t,0):fi(t,0)}for(r={type:ef(t),data:[]},n=0;n<e.length;n++)r.data.push(e[n]);return r}(e.state),t.params=void 0===i?[]:[i,o];return t})),k(r,"PRNG",e)),r}function of(t,e,r,n,i,o,a){var u=function(t,e,r,n,i,o,a){var u,s,f,l,h;for(u=n,s=a,l=0,h=0;h<t;h++)l+=(f=e[u]-i[s])*f,u+=r,s+=o;return Lu(l)}(t,e,r,n,i,o,a);return u*u}function af(t,e,r,n,i,o,a){var u,s,f,l;for(u=n,s=a,f=0,l=0;l<t;l++)f+=e[u]*i[s],u+=r,s+=o;return f}function uf(t,e,r,n,i,o,a){var u=1-af(t,e,r,n,i,o,a);return u*u}function sf(t,e,r,n,i,o,a){var u=1-af(t,e,r,n,i,o,a);return u*u}function ff(t,e,r,n,i,o){var a,u,s,f,l;for(f=i.data,a=(s=i.strides[0])*o,u=0,l=0;l<r;l++)t[l]=e(n,f,1,u,f,1,a),u+=s;return t}function lf(){var t,e;return t=0,e=0,function(r){if(0===arguments.length)return 0===e?null:t;return t+=(r-t)/(e+=1)}}function hf(t,e,r,n,i,o,a,u,s){var f,l,h,c;for(f=et,c=0;c<e;c++)(h=t(r,n,1,o,a,u,s))<f&&(f=h,l=c),o+=i;return l}function cf(t,e,r,n,i,o,a,u){var s,f;for(f=0;f<t;f++)s=r[i],s+=(o[u]-s)/e,r[i]=s,i+=n,u+=a;return r}function pf(t,e,r,n,i,o){var a,u;return u=t.shape[1],function(s){void 0===a&&((a=xu(o.init[1],u,!0)).count=0);if(a.count<o.init[1]&&(Bi(u,s.data,s.strides[0],s.offset,a.data,a.strides[1],a.strides[0]*a.count),a.count+=1,a.count<o.init[1]))return!1;o.normalize&&("cosine"===o.metric?a=Uu(a):"correlation"===o.metric&&(a=Fu(a,n())));t="forgy"===o.init[0]?function(t,e,r){var n,i,o,a,u,s,f,l,h,c,p,g,m,y,d,b;for(m=t.shape[0],y=t.shape[1],i=t.data,f=t.strides[0],l=t.strides[1],c=t.offset,a=e.data,o=e.shape[0],u=e.strides[0],s=e.strides[1],g=e.offset,n=nf(0,m-1,{seed:r}),h=[],d=0;d<m*y;d++)h.push(lf());for(d=0;d<o;d++){for(p=y*n(),b=0;b<y;b++)h[p+b](a[g+s*b]);g+=u}for(p=0,d=0;d<m;d++){for(b=0;b<y;b++)i[c+l*b]=h[p](),p+=1;c+=f}return t}(t,a,o.seed):"sample"===o.init[0]?function(t,e,r){var n,i,o,a,u,s,f,l,h,c,p;for(h=t.shape[0],c=t.shape[1],i=t.data,s=t.strides[1],f=t.offset,o=e.data,a=e.strides[0],u=e.strides[1],n=[],p=0;p<e.shape[0];p++)n.push(p);for(l=h===n.length?n:Ks({seed:r,size:h,mutate:!1,replacement:!1})(n),p=0;p<h;p++)qo(c,o,u,a*l[p],i,s,f);return t}(t,a,o.seed):function(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g,m,y,d,b,w,v,_,E,T,x,O,A,R,N,j,V,S,I;if(N=t.shape[0],s=t.shape[1],c=e.shape[0],y=t.data,_=t.strides[0],E=t.strides[1],T=t.offset,d=e.data,w=e.strides[0],v=e.strides[1],u=nf({seed:(h=bs({seed:i}))()}),h=h.normalized,m="cosine"===r?uf:"correlation"===r?sf:of,R=u(0,c-1),1===N)return qo(s,d,v,w*R,y,E,T);for(o=[R],x=new Array(s),f=new Array(2*c),b=0,V=0;V<c;V++)f[b]=et,f[b+1]=0,b+=2;for(l=new Array(c),S=1;S<N;S++){for(ff(x,m,c,s,e,o[S-1]),p=0,b=0,V=0;V<c;V++)x[V]<f[b]?(f[b]=x[V],f[b+1]=S-1,p+=x[V]):p+=f[b],b+=2;for(l[0]=f[0]/p,b=2,V=1;V<c;V++)l[V]=l[V-1]+f[b]/p,b+=2;for(g=et,O=-1,I=0;I<n;I++){for(R=-1;-1===R;)for(j=h(),V=0;V<c;V++)if(j<l[V]){R=V;break}for(p=0,a=w*R,b=0,V=0;V<c;V++)(A=m(s,d,1,w*V,d,1,a))<f[b]?p+=A:p+=f[b],b+=2;p<g&&(g=p,O=R)}o.push(O)}for(V=0;V<N;V++)qo(s,d,v,w*o[V],y,E,T),T+=_;return t}(t,a,o.metric,o.init[2],o.seed);return function(t,e,r,n,i){var o,a,u,s,f,l,h,c,p,g,m;for(p=e.shape[0],o=e.shape[1],s=t.shape[0],a=e.data,f=e.strides[0],u=t.data,l=t.strides[0],c=0,m=0;m<s;m++)h=f*(g=hf(i,p,o,a,f,0,u,1,c)),cf(o,r.get(g,0)+1,a,1,h,u,1,c),n(g,i(o,a,1,h,u,1,c)),c+=l}(a,t,e,r,i),!0}}function gf(t){var e,r,n,i,o;if(0===arguments.length)e=[0,0];else{if(!Dn(t))throw new TypeError(S("invalid argument. Output argument must be an array-like object. Value: `%s`.",t));e=t}return i=0,n=0,o=0,function(t){if(0===arguments.length)return 0===o?null:(e[0]=n,1===o?(We(i)?e[1]=NaN:e[1]=0,e):(e[1]=Lu(i/(o-1)),e));if(i+=(r=t-n)*(t-(n+=r/(o+=1))),e[0]=n,o<2)return We(i)?e[1]=NaN:e[1]=0,e;return e[1]=Lu(i/(o-1)),e}}k(nf(),"factory",nf);var mf=4;return function(){var t,e,r,n,i,o,a,u,s,f,l,h,c,p;if(Cr(arguments[0]))p=arguments[0].shape[0],u=arguments[0].shape[1],e=Ou(e=xu(p,u,!0),arguments[0]),arguments.length>1&&(n=arguments[1],c=!0);else{if(!ft(arguments[0]))throw new TypeError(kr("0h34q",arguments[0]));if(p=arguments[0],!ft(u=arguments[1]))throw new TypeError(kr("0h34p",u));arguments.length>2&&(n=arguments[2],c=!0)}if((f={metric:"euclidean",init:Iu["kmeans++"].slice(),seed:_o(),normalize:!0,copy:!0}).init[1]=p,f.init[2]=2+nt(Co(p)),c&&(h=function(t,e){if(!Xr(e))return new TypeError(kr("0h32V",e));if(W(e,"metric")&&(t.metric=e.metric,!Vu(t.metric)))return new TypeError(kr("0h34S","metric",Nu.join('", "'),t.metric));if(W(e,"init")){if(!Dn(e.init))return new TypeError(kr("0h34l","init",e.init));if(!Su(e.init[0]))return new TypeError(kr("0h34y","init",ju.join('", "'),e.init[0]));if(t.init[0]=e.init[0],e.init.length>1&&(t.init[1]=e.init[1],!ft(t.init[1])))return new TypeError(kr("0h34z","init",t.init[1]));if(e.init.length>2&&(t.init[2]=e.init[2],!ft(t.init[2])))return new TypeError(kr("0h350","init",t.init[2]))}return W(e,"normalize")&&(t.normalize=e.normalize,!ct(t.normalize))?new TypeError(kr("0h32o","normalize",t.normalize)):W(e,"copy")&&(t.copy=e.copy,!ct(t.copy))?new TypeError(kr("0h32o","copy",t.copy)):(W(e,"seed")&&(t.seed=e.seed),null)}(f,n)))throw h;if(f.init[1]<p)throw new RangeError(kr("0h34r","init",f.init[1]));return i=function(t,e){var r={};return r.centroids=xu(t,e,!1),r.stats=xu(t,mf,!1),r}(p,u),a=xu(p,mf,!0),t=function(t,e){var r,n;for(r=[],n=0;n<e;n++)r.push(0);return function(e,n){var i,o,a;return a=t.get(e,0)+1,t.set(e,0,a),t.set(e,1,t.get(e,1)+n),o=t.get(e,2),o+=(i=n-o)/a,r[e]+=i*(n-o),t.set(e,2,o),t.set(e,3,Lu(r[e]/(a-1))),t}}(a,p),"cosine"===f.metric?(s=uf,f.copy&&(o=Au(u,!0))):"correlation"===f.metric?(s=sf,f.normalize&&(r=function(t){var e,r,n,i,o;for(e=2*(n=new Oe(2*t)).BYTES_PER_ELEMENT,r=[],i=0,o=0;o<t;o++)r.push(gf(new Oe(n.buffer,i,2))),i+=e;return function(e){var i;if(0===arguments.length)return n;for(i=0;i<t;i++)r[i](e.get(i));return n}}(u)),f.copy&&(o=Au(u,!0))):s=of,void 0===e?(e=xu(p,u,!0),l=pf(e,a,t,r,s,f)):Ou(i.centroids,e),k(g,"seed",f.seed),k(g,"predict",(function(t,n){var i,o,a,h,c,g,m,y,d,b,w;if(arguments.length>1){if(!Pr(t))throw new TypeError(kr("0h3Ec",t));d=t,y=n}else y=t;if(!Cr(y))throw new TypeError(kr("0h3Ed",y));if(y.shape[1]!==u)throw new Error(kr("0h3Ee",u,y.shape[1]));if(void 0===d)d=Au(y.shape[0],!1);else if(d.length!==y.shape[0])throw new Error(kr("0h34x",y.shape[0],d.length));if(l)return null;a=y.shape[0],f.normalize&&("cosine"===f.metric?(f.copy&&(y=Ou(xu(a,u,!0),y)),y=Uu(y)):"correlation"===f.metric&&(f.copy&&(y=Ou(xu(a,u,!0),y)),y=Fu(y,r())));for(o=e.data,g=e.strides[0],i=y.data,h=y.strides[0],c=y.strides[1],m=y.offset,w=0;w<a;w++)b=hf(s,p,u,o,g,0,i,c,m),d.set(w,b),m+=h;return d})),g;function g(n){var h,c,g,m,y,d,b,w,v,_,E;if(0===arguments.length)return l?null:i;if(!Pr(w=n))throw new TypeError(kr("0h3Dd",w));if(w.shape[0]!==u)throw new Error(kr("0h34t",u,w.shape[0]));if(r&&r(w),l){if(!1===l(w))return null;l=void 0}else f.normalize&&("cosine"===f.metric?(f.copy&&(w=Ru(o,w)),Mu(u,w.data,w.strides[0],w.offset)):"correlation"===f.metric&&(f.copy&&(w=Ru(o,w)),g=r(),Bu(u,w.data,w.strides[0],w.offset,g,2,0,g,2,1))),h=e.data,y=e.strides[0],c=w.data,m=w.strides[0],d=w.offset,b=y*(E=hf(s,p,u,h,y,0,c,m,d)),v=a.get(E,0)+1,cf(u,v,h,1,b,c,m,d),_=s(u,h,1,b,c,m,d),t(E,_);return Wo(e.length,e.data,1,i.centroids.data,1),Wo(a.length,a.data,1,i.stats.data,1),i}}}));
//# sourceMappingURL=index.js.map
